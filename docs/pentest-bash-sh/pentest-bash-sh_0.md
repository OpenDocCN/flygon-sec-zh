# 前言

今天的渗透测试技术充斥着过于简化的图形用户界面。虽然易于使用，但它们通常对其执行的操作提供很少的控制，并且对用户的信息体验不够丰富。另一个缺点是，许多这些安全评估解决方案只是为了识别和自动化利用最明显和未混淆的漏洞实例而开发的。对于其他实际漏洞实例，渗透测试人员需要依靠自己的脚本和评估工具。

一个优秀的渗透测试人员的基本技能包括至少对脚本编写或软件开发语言（如 bash 脚本、Python、Go、Ruby 等）的基本技能。这样他们就可以使用自己定制的工具处理漏洞的奇怪和异常情况，并能够根据自己的条件自动化安全测试。防火墙、入侵检测/防御系统和其他安全监控解决方案变得越来越智能，作为渗透测试人员，我们唯一能够击败它们的方法就是学会构建自己的工具来“武装”我们的命令行。

这本书介绍了一些全球最优秀的渗透测试人员使用的基本技能、技巧和命令行驱动的实用程序，以确保他们尽可能多地控制他们的测试活动。任何有兴趣专门为渗透测试或整体渗透测试引入命令行的人都会从阅读本书中受益。

# 本书涵盖的内容

第一章，“了解 Bash”，向读者介绍了使用 bash 终端涉及的基本概念。它涵盖了读者在日常活动中作为渗透测试人员、系统管理员和安全导向开发人员会发现有用的实用程序。

第二章，“自定义您的 Shell”，着重介绍了读者可以使用的技巧和窍门，以自定义 shell 的行为以满足他们的需求。它向读者展示了如何自定义光标以格式化文本，如何安全地控制命令历史记录，如何使用别名，以及如何启用制表符补全，使命令行实用程序更加用户友好和易于使用。

第三章，“网络侦察”，涵盖了读者可以使用的命令行实用程序，用于执行目标枚举和从常见网络服务中提取信息。本章介绍了许多工具，包括 Dnsmap、Nmap 和 Whois 等，以及将这些工具与其他命令行工具有用地集成的方法。

第四章，“利用和逆向工程”，着重演示和讨论基本的逆向工程和基于主机的利用命令行驱动工具。本章涵盖了诸如 msfcli、msfpayload、GNU gdb 等工具和各种技术，并展示了读者如何借助 bash 脚本以有用的方式结合这些工具。

第五章，“网络利用和监控”，将重点转向网络利用工具和读者在日常渗透测试中可能使用的实用程序。本章涵盖了诸如 ARPSpoof、Ettercap 和 SSLyze 等工具，还向读者介绍了有用的 bash 脚本和命令，优化了这些命令的使用，并自动化了许多常见任务。

# 您需要为本书做好准备

本书唯一的软件要求是 Kali Linux 操作系统，您可以从[`www.kali.org`](http://www.kali.org)以 ISO 格式下载。

# 这本书适合谁

命令行黑客是一本适合任何对学习如何使用 Kali Linux 命令行进行有效渗透测试，以及自动化常见任务并提高使用常见实用程序解决技术安全问题的人的书。渗透测试、安全测试、系统管理和安全工程的新手将从这本书中受益匪浅。

# 约定

在本书中，您会发现一些文本样式，用于区分不同类型的信息。以下是一些样式的示例，以及它们的含义解释。

文本中的代码词显示如下："`[FILE]`或`[DIRECTORY]`参数可以是您希望对其执行`ls`的任何路径或文件。"

代码块设置如下：

```
#!/bin/bash
HOST=$1
SSL_PORT=$2
KEY_LEN_LIMIT=$3
VULN_SUIT_LIST=$4
echo -e "[*] assessing host \e[3;36m $HOST:$SSL_PORT\e[0m"
for cipher in `sslyze --regular $HOST:$SSL_PORT | awk -F\  '/[0-9]* bits/ { print $1"_"$2"_"$3 }'`
```

当我们希望引起您对代码块的特定部分的注意时，相关行或项目将以粗体显示：

```
if [ "$color_prompt" = yes ]; then
PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\n\$'
else
 PS1='${debian_chroot:+($debian_chroot)}{\j}\u@[\w]\n\$'
fi
unset color_prompt force_color_prompt 
```

任何命令行输入或输出都将按照以下格式编写：

```
medusa –h 192.168.10.105 –u k3170makan –P /usr/share/wordlists/rockyou.txt –M ssh

```

**新术语**和**重要单词**以粗体显示。您在屏幕上看到的单词，例如菜单或对话框中的单词，会以这样的方式出现在文本中："**全局正则表达式打印**（**grep**）实用程序是所有命令行专家的基本工具。"

### 注意

警告或重要说明会显示在这样的框中。

### 提示

提示和技巧会显示为这样。

# 读者反馈

我们始终欢迎读者的反馈。让我们知道您对本书的看法——您喜欢或不喜欢的地方。读者的反馈对我们开发您真正受益的标题非常重要。

要向我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在消息主题中提及书名。

如果您在某个专题上有专业知识，并且有兴趣撰写或为一本书做出贡献，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您是 Packt 图书的自豪所有者，我们有很多东西可以帮助您充分利用您的购买。

## 下载示例代码

您可以从您在[`www.packtpub.com`](http://www.packtpub.com)的帐户中下载您购买的所有 Packt 图书的示例代码文件。如果您在其他地方购买了本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便直接将文件发送到您的电子邮件。

## 勘误

尽管我们已经非常注意确保内容的准确性，但错误确实会发生。如果您在我们的书中发现错误——也许是文本或代码中的错误——我们将不胜感激，如果您能向我们报告。通过这样做，您可以避免其他读者的挫折，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)报告，选择您的书，点击**勘误提交表单**链接，并输入您的勘误详情。一旦您的勘误得到验证，您的提交将被接受，并且勘误将被上传到我们的网站上，或者添加到该标题的勘误列表中的任何现有勘误下的勘误部分。可以通过从[`www.packtpub.com/support`](http://www.packtpub.com/support)选择您的标题来查看任何现有的勘误。

## 盗版

互联网上的版权材料盗版是所有媒体的持续问题。在 Packt，我们非常重视版权和许可的保护。如果您在互联网上发现我们作品的任何非法副本，请立即向我们提供位置地址或网站名称，以便我们采取补救措施。

请通过链接`<copyright@packtpub.com>`与我们联系，以报告涉嫌盗版的材料。

我们感谢您帮助保护我们的作者，以及我们提供有价值内容的能力。

## 问题

如果您在阅读本书的过程中遇到任何问题，可以通过`<questions@packtpub.com>`与我们联系，我们将尽力解决。
