- en: Chapter 3. Planning a Range
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第3章。规划一个范围
- en: 'In this chapter, we will start the process of what is required to plan a test
    environment. We will discuss the process of searching and finding vulnerabilities
    to test, and create a lab environment for testing a type of vulnerability. We
    will discuss the following:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将开始规划测试环境所需的过程。我们将讨论搜索和发现要测试的漏洞，并为测试一种漏洞创建实验室环境。我们将讨论以下内容：
- en: Planning
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划
- en: Identifying vulnerabilities
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别漏洞
- en: This chapter will provide us with a defined architecture to build and support
    the testing types that we have to perform.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将为我们提供一个明确定义的架构，以构建和支持我们必须执行的测试类型。
- en: Planning
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 规划
- en: An essential step to complete is the plan; also, the concept of what we are
    trying to achieve and how we are going to get there will be discussed. This is
    one of the areas that many do not spend enough time in. As we discussed in [Chapter
    1](ch01.html "Chapter 1. Introducing Penetration Testing"), *Introducing Penetration
    Testing*, we cannot take six to nine months in planning, like a potential attacker
    would more than likely do, for our abstract methodology. Having said that, we
    can spend a great deal of time planning the architectures we want to build for
    our advanced pen testing labs. So, we will start with what goes into the plan.
    The plan we are going to discuss consists of the areas mentioned in the following
    sections.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 完成的一个重要步骤是规划；还将讨论我们试图实现的概念以及我们将如何实现它。这是许多人没有花足够时间的领域之一。正如我们在[第1章](ch01.html
    "第1章。介绍渗透测试")中讨论的那样，*介绍渗透测试*，我们不能像潜在的攻击者那样花费六到九个月来规划我们的抽象方法。话虽如此，我们可以花费大量时间规划我们想要为我们的高级渗透测试实验室构建的架构。因此，我们将从计划中得到什么开始。我们将讨论的计划包括以下部分。
- en: What are we trying to accomplish?
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 我们试图实现什么？
- en: Are we trying to test a web application, an application, a device, or something
    else? This is where we start to identify what our virtualized environment is going
    to require; also, we identify how we are going to configure and build the required
    components.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们试图测试一个Web应用程序、一个应用程序、一个设备，还是其他什么？这是我们开始确定我们的虚拟化环境将需要什么的地方；此外，我们还确定了我们将如何配置和构建所需的组件。
- en: By when do we have to accomplish it?
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 我们必须在什么时候完成？
- en: This is the step where we will define what the time frame is for what we are
    attempting to create. In this area, it is important to have a defined timeline;
    otherwise, we could continue building with no set outcome. While some inconsistency
    or unknowns are part of the process, the better we define the time, the more productive
    we will be. It is like goal setting; if you set goals, but you never specify a
    time frame, then it is not a well-defined goal.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 这一步是我们定义我们尝试创建的时间框架。在这个领域，有一个明确定义的时间表是很重要的；否则，我们可能会继续建设，而没有设定的结果。虽然一些不一致或未知是过程的一部分，但我们定义时间的越好，我们就会更加高效。这就像目标设定；如果你设定了目标，但从未指定时间框架，那么这就不是一个明确定义的目标。
- en: As you read this, you may wonder how goal setting made its way into these pages.
    For those of you who are wondering, I will provide an example. While developing
    labs for a training course for a client, I was trying to create and build a Cisco
    router emulation capability that works very well. As I had not decided on the
    number of tries, and more importantly, a time frame for this activity, this resulted
    in three days of fruitless activity. I will cover this and provide steps on how
    you can build your own later in this chapter.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 当您阅读本文时，您可能会想知道目标设置是如何出现在这些页面中的。对于那些好奇的人，我将提供一个例子。在为客户的培训课程开发实验室时，我试图创建和构建一个非常有效的思科路由器仿真能力。由于我没有决定尝试的次数，更重要的是，这项活动的时间框架，导致了三天的徒劳活动。我将在本章后面介绍这一点，并提供如何在本章后面构建您自己的步骤。
- en: The virtual platform required for the course was going to be Hyper-V. I had
    used this solution for more than five years in a VMware environment, but no matter
    how much I tried, it was not working when I started to build the platform in Hyper-V.
    I first tried to convert one of my virtual machine VMDK files using the Starwind
    software, and that did not work. The network could not talk to the router emulator,
    and it could also not talk to the host. Therefore, in short, there was no connectivity.
    I then built the virtual machine from scratch thinking that it might work, and
    that did not work either. I worked on it for three days, reading every blog posting,
    whitepaper, or anything I could get my hands on. A better plan would have been
    to give it one day, or limit it to a number of tries, but when I started the plan,
    I did not have any timeline to it, and as such it cost me three days of time.
    I am sharing this with you now, so that you hopefully do not make the same mistakes
    that I had made.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 课程所需的虚拟平台将是Hyper-V。我在VMware环境中使用了这个解决方案超过五年，但无论我如何努力，在我开始在Hyper-V中构建平台时，它都不起作用。我首先尝试使用Starwind软件转换我的一个虚拟机VMDK文件，但没有成功。网络无法与路由器仿真器通信，也无法与主机通信。因此，简而言之，没有连接性。然后我从头开始构建虚拟机，以为这样可能会起作用，但也没有成功。我花了三天时间，阅读每一篇博客文章、白皮书或任何我能找到的东西。一个更好的计划应该是给它一天的时间，或者限制尝试的次数，但当我开始计划时，我没有给它任何时间表，因此花了我三天的时间。我现在与您分享这一点，希望您不会犯我犯过的同样错误。
- en: A good way to quantify and track your planning is to use a form of a time chart
    or project tool. There are several available, but it is beyond the scope of this
    book to cover them. It really does not matter which one you use. If you are like
    me, you would want to use a simple one and not have to learn another program.
    So, the one I use is the calendar within Microsoft Outlook. Some of you probably
    use Microsoft Project; that is fine, use whatever works for you. I believe that
    most, if not all, of us have used a mail program at some point of time, and if
    the capability is in the mail program, then it is something worth exploring.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 量化和跟踪计划的一个好方法是使用时间表或项目工具的形式。有几种可用的方法，但超出了本书的范围。你使用哪种并不重要。如果你像我一样，你可能想使用一个简单的，而不必学习另一个程序。所以，我使用的是Microsoft
    Outlook中的日历。你们中的一些人可能使用Microsoft Project；那很好，使用适合你的任何工具。我相信大多数人，如果不是全部人，在某个时候都使用过邮件程序，如果邮件程序中有这个功能，那就值得探索一下。
- en: 'We will look at an example. I use the tasks and event components together,
    so if you start your Microsoft Outlook program, you can click on **New Items**
    at the top of the menu. This will bring up the menu to create a new item. An example
    of this is shown in the following screenshot:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 我们来看一个例子。我将任务和事件组件结合在一起使用，所以如果你启动你的Microsoft Outlook程序，你可以在菜单的顶部点击**新建项目**。这将带出创建新项目的菜单。以下是一个示例截图：
- en: '![By when do we have to accomplish it?](img/477-1_03_01.jpg)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![我们必须在什么时间之前完成？](img/477-1_03_01.jpg)'
- en: Menu to create a new item in Outlook (the cropped text is not important)
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在Outlook中创建新项目的菜单（裁剪的文本不重要）
- en: 'We want to create a new task; to do that, we click on the **Task** option,
    and this will open a new menu, as shown in the following screenshot:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 我们想创建一个新任务；为此，我们点击**任务**选项，这将打开一个新菜单，如下截图所示：
- en: '![By when do we have to accomplish it?](img/477-1_03_02.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![我们必须在什么时间之前完成？](img/477-1_03_02.jpg)'
- en: Menu screen after clicking on the Task option (the cropped text is not important)
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 单击任务选项后的菜单屏幕（裁剪的文本不重要）
- en: From this point, it is a relatively easy process to create tasks and then be
    able to track them; furthermore, you can, at any time, refer to your task list
    and see what tasks still remain. You are encouraged to use tasks and events as
    you plan your building of network architectures. We will provide you with step-by-step
    processes to build your environment within this book, but when you stray outside
    of the book, there are chances you could run into challenges like the one with
    creating router emulations. When you do, it is essential that you plan for possible
    time delays and other unforeseen instances. The more time you spend in the planning
    phase, the fewer obstacles you will encounter as you progress to the later stages
    of development.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 从这一点开始，创建任务并跟踪它们是一个相对简单的过程；此外，你可以随时参考你的任务列表，看看还有哪些任务没有完成。在规划网络架构时，我们鼓励你使用任务和事件。我们将在本书中为你提供逐步的过程来构建你的环境，但当你偏离本书之外时，你可能会遇到像创建路由器仿真这样的挑战。当你遇到这种情况时，你需要计划可能的时间延迟和其他意外情况。你在规划阶段花费的时间越多，你在后期开发阶段遇到的障碍就越少。
- en: Identifying vulnerabilities
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 识别漏洞
- en: As we have already defined pen testing as the validation and verification of
    vulnerabilities, this is one of our main focuses when we are preparing to build
    a pen testing lab. We have to find vulnerabilities that we can leverage to gain
    access when the scope of work permits it. You will spend the most time in preparation
    on trying to find vulnerabilities that will provide the access we need and also
    be reliable.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们已经将渗透测试定义为漏洞的验证和确认，这是我们在准备建立渗透测试实验室时的主要关注点之一。我们必须找到可以利用的漏洞，以便在工作范围允许的情况下获取访问权限。你将花费大部分时间在准备阶段，试图找到能够提供我们所需访问权限并且可靠的漏洞。
- en: The important thing to remember is that all systems will have vulnerabilities,
    but not all vulnerabilities will have exploits. There will be many occasions when
    you see there is a vulnerability, but your search does not discover an exploit
    for that vulnerability; moreover, you might find an exploit, but it will not work
    against the target you have. This is because, as we like to say, exploitation
    is not 100 percent. Often, you will do everything right, but the exploit will
    just fail! Welcome to the real world of penetration testing.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 要记住的重要一点是，所有系统都会有漏洞，但并非所有漏洞都会有利用。很多时候你会发现有漏洞，但你的搜索找不到针对那个漏洞的利用；此外，你可能会找到一个利用，但它对你的目标不起作用。这是因为，正如我们喜欢说的那样，利用并非百分之百。经常情况下，你会做对一切，但利用就是失败！欢迎来到渗透测试的真实世界。
- en: 'Before we look at information on some locations to look for vulnerabilities,
    we will discuss the things that we want to know about a potential vulnerability
    that we are going to use to exploit. We want to know some, if not all, of the
    following with respect to exploitability:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们查找漏洞的一些位置信息之前，我们将讨论我们想要了解的潜在漏洞的一些事情，我们将用来利用的漏洞。我们想要了解以下一些，如果不是全部，关于可利用性的方面：
- en: Access vector
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问向量
- en: Do we need to be locally on the machine, on the local subnet, or remote from
    any location?
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要在本地机器上，本地子网上，还是远程从任何位置上？
- en: Complexity
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 复杂性
- en: Does the exploit take code writing, chaining of different components together,
    or any additional work that we have to do to be able to successfully exploit the
    vulnerability?
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 利用是否需要编写代码，将不同组件链接在一起，或者我们必须做一些额外的工作才能成功利用漏洞？
- en: Authentication
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 认证
- en: Is authentication required, or can we leverage the vulnerability without credentials?
    If authentication is required, what do we have to do to break authentication?
    Can we brute force it, dictionary attack, or is there a default password?
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 是否需要认证，或者我们可以在没有凭证的情况下利用漏洞？如果需要认证，我们需要做什么来突破认证？我们可以暴力破解吗，字典攻击，或者有默认密码吗？
- en: 'This is just a small sampling of what we might want to consider as we start
    looking into the vulnerability characteristics. An example of this using the **Common
    Vulnerability Scoring System** (**CVSS**) is shown in the following screenshot:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 这只是我们在开始研究脆弱性特征时可能要考虑的一小部分样本。以下屏幕截图显示了使用**通用漏洞评分系统**（**CVSS**）的示例：
- en: '![Identifying vulnerabilities](img/477-1_03_03.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![识别漏洞](img/477-1_03_03.jpg)'
- en: A reference sheet on Common Vulnerability Scoring System (the cropped text is
    not important)
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 通用漏洞评分系统参考表（裁剪的文本不重要）
- en: Identifying vulnerabilities is a critical part of our initial stages; we have
    to find vulnerabilities to be able to conduct the pen test. Some of you might
    be thinking that we can just fire up our vulnerability scanner of choice, and
    then we will let the scanner tell us what vulnerability is there; furthermore,
    you are probably thinking that you can let an exploit framework assist with this.
    While all of this is true, it is not the scope and focus of what we are trying
    to achieve. Remember, we want to build pen testing lab environments, and to do
    that we need to find vulnerabilities to exploit; moreover, we need to discover
    these long before going to perform the actual testing. In this section, the key
    is to locate the vulnerabilities that we want to test in our lab architecture,
    and correspondingly, ones we will record the steps and requirements of to leverage
    that vulnerability and gain access. We do this, so when and if we encounter it,
    we know what to expect.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 识别漏洞是我们初始阶段的关键部分；我们必须找到漏洞才能进行渗透测试。你们中的一些人可能会认为我们可以随意启动我们选择的漏洞扫描器，然后让扫描器告诉我们那里存在什么漏洞；此外，你们可能会认为你可以让一个利用框架来协助。虽然这一切都是真的，但这不是我们试图实现的范围和重点。记住，我们想要构建渗透测试实验室环境，为此我们需要找到要利用的漏洞；此外，我们需要在进行实际测试之前发现这些漏洞。在这一部分，关键是找到我们想要在实验室架构中测试的漏洞，相应地，我们将记录利用该漏洞和获得访问权限的步骤和要求。我们这样做是为了当我们遇到它时，我们知道会发生什么。
- en: A subtle but extremely important concept to grasp is that we can build any environment
    possible, but we have to build the environment based on what we want to achieve.
    As an example, there are many vulnerabilities in Microsoft Internet Explorer;
    most of these are related to memory problems, and these are referred to as **Use
    after Free** vulnerabilities. Furthermore, this is a software that we will more
    than likely encounter in our pen testing travels. Therefore, it is imperative
    we track and watch for the vulnerabilities as they come out on Internet Explorer,
    and that is the approach we take for all potential software and hardware we may
    encounter.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 一个微妙但非常重要的概念是，我们可以构建任何可能的环境，但我们必须根据我们想要实现的目标来构建环境。例如，Microsoft Internet Explorer中存在许多漏洞；其中大多数与内存问题有关，这些被称为**Use
    after Free**漏洞。此外，这是一个我们在渗透测试中很可能会遇到的软件。因此，我们迫切需要跟踪和关注Internet Explorer上的漏洞，这也是我们对可能遇到的所有软件和硬件采取的方法。
- en: A common method, and one that we recommend, is to track vulnerabilities of products
    that are very popular in the commercial sector. We already mentioned Internet
    Explorer; others to track are Cisco, Red Hat, Oracle, Adobe, and many more. This
    is the power of professional security testing; we know all of these vendors as
    well as many others can and will have vulnerabilities, so once we discover any
    one, we can go about the task of using it to our advantage. The process consists
    of getting the details of the vulnerability, and then building the lab to be able
    to test and experiment with the vulnerability. Hence, if we have an Internet Explorer
    vulnerability, we will create a machine with the vulnerable software on it, and
    then we will start the methodical process of leveraging that vulnerability to
    gain some form of access. One more point to emphasize here is that we do not always
    have to run exploit code or perform some form of exploitation to gain access.
    Often, we will find another weakness, such as a default password on a service,
    which will allow us to gain the access we need. All of this will be discussed
    in time, but we now have to look at techniques to get information on vulnerabilities.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 一种常见的方法，也是我们推荐的方法，是跟踪在商业领域非常流行的产品的漏洞。我们已经提到了Internet Explorer；其他要跟踪的产品包括思科、红帽、甲骨文、Adobe等等。这就是专业安全测试的力量；我们知道所有这些供应商以及其他许多供应商都可能存在漏洞，所以一旦我们发现任何一个漏洞，我们就可以开始利用它来获得一些形式的访问权限。该过程包括获取漏洞的详细信息，然后构建实验室以测试和实验漏洞。因此，如果我们有一个Internet
    Explorer漏洞，我们将创建一个安装了易受攻击软件的计算机，然后我们将开始系统地利用该漏洞来获得某种形式的访问权限。这里要强调的另一点是，我们并不总是需要运行利用代码或执行某种形式的利用来获得访问权限。通常，我们会发现另一个弱点，比如服务上的默认密码，这将允许我们获得我们需要的访问权限。所有这些将在适当的时候讨论，但现在我们必须研究获取漏洞信息的技术。
- en: Vulnerability sites
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 漏洞网站
- en: As with most things on the Internet, there are more vulnerability reporting
    sites than we can ever maintain track of. Therefore, the recommended approach
    is to select a couple of the sites and then maintain consistency by checking them
    on a regular basis. Alternatively, you can subscribe to a service, and it will
    send you tailored vulnerability listings. However, as a professional security
    tester, we do not have the luxury of setting a profile of systems, services, and/or
    networks that we can track. We can, however, maintain a profile of the popular
    software and systems we are likely to encounter, but this is again a matter of
    trial and error. The approach I and my trainees practice is to frequent three
    to four sites and consistently visit them; that is how we keep track of the latest
    information that is out in the public domain. You should also look out for the
    vendor patch release dates and track them as well. To prove just how daunting
    a task this is, we will do an experiment; open your favorite search engine and
    conduct a search for vulnerability sites.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 与互联网上的大多数事物一样，漏洞报告站点比我们能够跟踪的要多。因此，建议的方法是选择几个站点，然后通过定期检查来保持一致性。或者，你可以订阅一个服务，它会发送给你定制的漏洞列表。然而，作为一名专业的安全测试人员，我们没有设置可以跟踪的系统、服务和/或网络的奢侈。然而，我们可以维护一个我们可能会遇到的流行软件和系统的概要，但这又是一个试错的过程。我和我的学员们实践的方法是经常访问三到四个站点，并保持一贯的访问；这就是我们跟踪公共领域最新信息的方式。你还应该注意供应商的补丁发布日期，并跟踪它们。为了证明这是多么艰巨的任务，我们将进行一个实验；打开你最喜欢的搜索引擎，搜索漏洞站点。
- en: 'An example of this search in Microsoft''s Bing is shown in the following screenshot:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft的Bing中进行此搜索的示例如下截图：
- en: '![Vulnerability sites](img/477-1_03_04.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞站点](img/477-1_03_04.jpg)'
- en: Searching for Vulnerability sites on Microsoft's Bing (the cropped text is not
    important)
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft的Bing上搜索漏洞站点（裁剪的文本不重要）
- en: As the preceding screenshot shows, there are more than 10 million hits on these
    terms. Now, as many of you reading this are more than likely aware, the search
    we have conducted is not a narrow and precise search; we could enter `vulnerability
    + sites` to return a match of those two words anywhere in the results. Moreover,
    we could use the vulnerability sites to make the results an exact match. We will
    not do that here, but it is something you can do to get results that are more
    granular and can save you some time.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 正如前面的截图所示，这些术语有超过1000万次点击。现在，正如你们许多人可能已经意识到的那样，我们进行的搜索并不是一个狭窄和精确的搜索；我们可以输入`漏洞
    + 站点`来返回这两个词在结果中的匹配。此外，我们可以使用漏洞站点来使结果精确匹配。我们在这里不会这样做，但这是你可以做的事情，可以得到更精细的结果，并节省一些时间。
- en: As we review the results, we see that at the top of the list is the National
    Vulnerability Database, and this is one of the databases we like to use. So, enter
    [http://nvd.nist.gov](http://nvd.nist.gov) in your browser. Once the website comes
    up, look at the vulnerabilities information; at the top left of the home page,
    click on **Vulnerabilities**.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们审查结果时，我们看到列表的顶部是国家漏洞数据库，这是我们喜欢使用的数据库之一。因此，在浏览器中输入[http://nvd.nist.gov](http://nvd.nist.gov)。一旦网站打开，查看漏洞信息；在主页的左上角，点击**漏洞**。
- en: 'This will bring up the search interface for the vulnerabilities; from here,
    it is just a matter of entering your search parameters and looking at the results.
    This search page is shown in the following screenshot:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 这将带出漏洞的搜索界面；从这里开始，只需要输入你的搜索参数并查看结果。这个搜索页面在以下截图中显示：
- en: '![Vulnerability sites](img/477-1_03_05.jpg)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞站点](img/477-1_03_05.jpg)'
- en: The search interface for the vulnerabilities (the cropped text is not important)
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 漏洞搜索界面（裁剪的文本不重要）
- en: As you can see, there are a number of things we can search for. Another capability
    is to search for a specific time frame that will be beneficial if you are just
    looking for the most recent listings.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所看到的，有许多我们可以搜索的内容。另一个功能是搜索特定的时间范围，如果你只是想要最近的列表，这将是有益的。
- en: For example, enter `Adobe` in the keyword search field, and click on **Search**.
    This will result in the vulnerabilities for Adobe being returned, and since it
    is a popular program, there are always attackers trying to exploit it. Furthermore,
    it provides us with the capability of cross-platform exploitation, which is another
    feature we like to see when we do our testing.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，在关键字搜索栏中输入`Adobe`，然后点击**搜索**。这将返回Adobe的漏洞，并且由于它是一个流行的程序，总是有攻击者试图利用它。此外，它为我们提供了跨平台利用的能力，这是我们在测试时喜欢看到的另一个特性。
- en: 'An example of this search is shown in the following screenshot:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下截图中显示了此搜索的示例：
- en: '![Vulnerability sites](img/477-1_03_06.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞站点](img/477-1_03_06.jpg)'
- en: Screen showing the vulnerabilities for Adobe being returned (the cropped text
    is not important)
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 显示返回Adobe漏洞的屏幕（裁剪的文本不重要）
- en: This is what we like to see! In the preceding screenshot, when we see the CVSS
    Severity, 7 means it is a high vulnerability, and 10 denotes it cannot get more
    severe because it is the maximum severity. As you can see, there were 997 results
    returned at the time of this search. This is because Adobe is a frequent target,
    and as such, continues to be targeted by attackers.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是我们喜欢看到的！在前面的截图中，当我们看到CVSS严重性时，7表示它是一个高漏洞，而10表示它不能更严重，因为它是最大的严重性。正如你所看到的，在这次搜索时返回了997个结果。这是因为Adobe是一个频繁的目标，因此继续受到攻击者的攻击。
- en: The next step is to research the vulnerability further and see what exactly
    the vulnerability characteristics are; also, we will find an exploit for it. Since
    it is a client-side software type of vulnerability, this means we will have to
    do some form of deception and get a user to go to a site or click on something.
    For now, we have the main intent of this site, and we will move on to another
    site. You are encouraged to explore the site at your convenience and learn more.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是进一步研究漏洞，并了解漏洞的特征以及找到利用漏洞的方法。由于这是一种客户端软件类型的漏洞，这意味着我们将不得不进行某种欺骗，让用户访问某个网站或点击某个东西。目前，我们对这个网站的主要意图已经有了了解，我们将继续前往另一个网站。鼓励您随时探索该网站，了解更多信息。
- en: One thing that you may have noticed is we had to enter information to display
    the vulnerabilities; this might be less than ideal, so we will now go and look
    at our first site that provides with us listings of the latest vulnerabilities.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能已经注意到我们必须输入信息才能显示漏洞；这可能不太理想，所以我们现在将去查看我们的第一个提供最新漏洞列表的网站。
- en: 'Return to the home page of the National Vulnerability Database site, and located
    about midway down the page on the left-hand side, you will see additional links;
    locate and click on **US-CERT Vuln notes**. This will bring up the vulnerability
    notes from the team at the US-CERT. An example of this is shown in the following
    screenshot:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 返回到国家漏洞数据库网站的主页，然后在页面的左侧中间位置找到附加链接；找到并点击**US-CERT Vuln notes**。这将显示来自US-CERT团队的漏洞注释。这方面的一个例子如下截图所示：
- en: '![Vulnerability sites](img/477-1_03_07.jpg)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_07.jpg)'
- en: Screen showing vulnerability notes from the team at the US-CERT (the cropped
    text is not important)
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 屏幕显示了美国计算机应急响应小组（US-CERT）团队的漏洞注释（裁剪的文本不重要）
- en: We now have a listing of vulnerabilities that provides us with a timeline that
    we can use as a reference. The fact that there is a listing makes this list a
    one stop; we can view the latest and move on, and this is something we want from
    our top three to four sites we select. Additionally, we can still reference more
    sites, but we use the three to four chosen ones to get our update, and then when
    we discover something of interest, we can look at other sites and see what they
    have written about the vulnerability.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在有一个漏洞列表，它为我们提供了一个可以用作参考的时间表。有一个列表使得这个列表成为一个一站式服务；我们可以查看最新信息并继续前进，这是我们从我们选择的前三到四个网站中想要的。此外，我们仍然可以参考更多的网站，但我们使用选择的三到四个网站来获取更新，然后当我们发现感兴趣的内容时，我们可以查看其他网站并了解他们对漏洞的描述。
- en: We want to be able to explore our vulnerabilities further, so we will do that
    now with an example. As we look at this listing of vulnerabilities in the previous
    screenshot, we see that there is one for Cisco. Since we like to keep up to date
    with the latest information on these popular products of which Cisco is one, we
    will explore it further. Feel free to use your own vulnerability from your results,
    or look up the Cisco figures we have in the results from November 12, 2013.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 我们希望能够进一步探索我们的漏洞，所以我们现在将以一个例子来做到这一点。当我们查看上一个屏幕截图中的漏洞清单时，我们看到了一个关于思科的漏洞。由于我们喜欢及时了解这些受欢迎产品的最新信息，其中包括思科，我们将进一步探索。请随意使用您的结果中的漏洞，或者查看我们在2013年11月12日的结果中的思科数据。
- en: 'After we click on the vulnerability, another page will open with additional
    details on the vulnerability. We see that it is an input validation problem, and
    this is something we continue to see on a regular basis. Programmers do not do
    a good job of sanitizing their input when developing applications. An example
    of the details of the vulnerability is shown in the following screenshot:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们点击漏洞后，另一页将打开，显示有关漏洞的额外详细信息。我们看到这是一个输入验证问题，这是我们经常看到的问题。程序员在开发应用程序时没有很好地对其输入进行消毒。漏洞的详细信息示例如下截图所示：
- en: '![Vulnerability sites](img/477-1_03_08.jpg)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_08.jpg)'
- en: Screen showing the details of the vulnerability (the cropped text is not important)
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 屏幕显示了漏洞的详细信息（裁剪的文本不重要）
- en: As we review the information in the details on the vulnerability, we can start
    to develop our plan on how we will build an environment to test it. In some cases,
    we may need additional hardware. The main point here is to understand the process,
    and once you do, you can take it from there. The process does not change, only
    the vulnerabilities do.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们审查漏洞详细信息时，我们可以开始制定我们将如何构建一个测试环境的计划。在某些情况下，我们可能需要额外的硬件。这里的主要观点是理解这个过程，一旦你理解了，你就可以从那里开始。过程不会改变，只有漏洞会改变。
- en: As you review the details of the vulnerability, you may notice that there is
    an item that is called **Common Weakness Enumeration** (**CWE**), and in this
    case it is **CWE-20**. This CWE is the identifier, such as a number of other standards
    we like to use from the team at Mitre, and it can help in gaining additional information
    about a weakness. More importantly, it provides us a standard term to search for,
    much like the **Common Vulnerability and Exposure** (**CVE**) number does.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 当您审查漏洞的详细信息时，您可能会注意到有一个名为**通用弱点枚举**（**CWE**）的项目，在这种情况下是**CWE-20**。这个CWE是一个标识符，就像我们喜欢从Mitre团队使用的其他标准一样，它可以帮助我们获得有关弱点的额外信息。更重要的是，它为我们提供了一个标准术语来搜索，就像**通用漏洞和暴露**（**CVE**）编号一样。
- en: 'If we select the CWE number on the vulnerability, it will provide us with additional
    details on the vulnerability. An example of this is shown in the following screenshot:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们选择漏洞的CWE编号，它将为我们提供有关漏洞的额外详细信息。这方面的一个例子如下截图所示：
- en: '![Vulnerability sites](img/477-1_03_09.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_09.jpg)'
- en: Screen showing some additional details on the vulnerability (the cropped text
    is not important)
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 屏幕显示了有关漏洞的一些额外详细信息（裁剪的文本不重要）
- en: As you review the information, there are lots of additional details on our vulnerability,
    and as such, it provides us with more data for our planning and testing purposes.
    The one thing we want to look at is the fact that there is an area that identifies
    the likelihood of an exploit, and as we see from the previous screenshot in the
    case of the vulnerability that is **High**, it is what we are looking for. Again,
    there are many sites to reference, so you can use the ones we show throughout
    the book, or you can research them on your own. The one thing we have not found
    as we looked at these two sites is more information on the exploit side of the
    equation; this is something we want to have, so we will look at a site for this
    information now.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 当您审查信息时，我们的漏洞有许多额外的细节，因此它为我们的规划和测试目的提供了更多的数据。我们想要看的一件事是有一个区域标识了利用的可能性，正如我们从前面的截图中看到的那样，在**High**漏洞的情况下，这正是我们要找的。再次，有许多网站可供参考，因此您可以使用我们在整本书中展示的网站，或者您可以自行研究。在我们查看这两个网站时，我们没有找到更多有关利用方面的信息；这是我们想要的，因此我们现在将查看提供此信息的网站。
- en: 'The next site we will look at is the site that was number two on the return
    of our search results, and that is the **Security Focus** site. Open the browser
    of your choice and enter [http://www.securityfocus.com](http://www.securityfocus.com).
    This will bring you to the home page for Security Focus; an example of this is
    shown in the following screenshot:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要查看的下一个网站是我们搜索结果返回的第二名的**Security Focus**网站。打开您选择的浏览器，输入[http://www.securityfocus.com](http://www.securityfocus.com)。这将带您到Security
    Focus的主页；以下是此的一个示例截图：
- en: '![Vulnerability sites](img/477-1_03_10.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_10.jpg)'
- en: Screen showing the home page for Security Focus (the cropped text is not important)
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 显示Security Focus主页的屏幕（裁剪的文本不重要）
- en: 'As the preceding screenshot shows, it was a bad day for Mozilla on the day
    we did this search. What we like about the **Security Focus** site is they provide
    us with a number of additional details that we find useful, one of them being
    information on exploits. Select one of the vulnerabilities that are listed on
    the home page. An example of the vulnerability for **Mozilla Firefox/Thunderbird/SeaMonkey
    JavaScript Engine Multiple Buffer Overflow Vulnerabilities** is shown in the following
    screenshot:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 正如前面的截图所示，当我们进行这次搜索时，Mozilla度过了糟糕的一天。我们喜欢**Security Focus**网站的一点是他们为我们提供了许多我们认为有用的额外细节，其中之一就是有关利用的信息。选择主页上列出的一个漏洞。**Mozilla
    Firefox/Thunderbird/SeaMonkey JavaScript Engine Multiple Buffer Overflow Vulnerabilities**的漏洞示例显示在以下截图中：
- en: '![Vulnerability sites](img/477-1_03_11.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_11.jpg)'
- en: Screen showing the vulnerability for the Mozilla Firefox/Thunderbird/SeaMonkey
    JavaScript Engine Multiple Buffer Overflow Vulnerabilities (the cropped text is
    not important)
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 显示Mozilla Firefox/Thunderbird/SeaMonkey JavaScript Engine Multiple Buffer Overflow
    Vulnerabilities的漏洞（裁剪的文本不重要）
- en: 'As you look at the vulnerability details, you will see there are a number of
    tabs that we are interested in, the main being the **exploit** tab. This will
    potentially provide us with information on the exploitability of the vulnerability
    if there is information on an exploit in the wild. Since these vulnerabilities
    are essentially new, there is no information on any exploit. It is still a good
    reference to use because it provides us with additional details on the vulnerability.
    An example of a Nagios vulnerability that we can use in our testing is shown in
    the following screenshot to provide a reference on reading the exploit information:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 当您查看漏洞详细信息时，您会发现有许多我们感兴趣的标签，主要是**exploit**标签。如果有关于野外利用的信息，这将潜在地为我们提供有关漏洞的可利用性的信息。由于这些漏洞基本上是新的，因此没有任何利用的信息。但它仍然是一个很好的参考，因为它为我们提供了有关漏洞的额外细节。我们可以在我们的测试中使用的Nagios漏洞的一个示例显示在以下截图中，以提供有关读取利用信息的参考：
- en: '![Vulnerability sites](img/477-1_03_12.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_12.jpg)'
- en: 'We are now in business because we have the string to use to leverage the vulnerability,
    and it is just a matter of building the lab and testing it. This will all come
    in time, and for now we will continue to review different sites to use as potential
    references. As we pursue vulnerabilities, the newer the vulnerability the better.
    This is because there are, more than likely, no signatures yet written for the
    vulnerability to detect it; furthermore, if it is a zero day vulnerability, then
    it is not known publically, and that makes it ideal. We have several sites to
    review that provide us with information about zero days, and the first we will
    look at is the site''s zero day tracker. In your browser, enter [http://www.eeye.com/Resources/Security-Center/Research/Zero-Day-Tracker](http://www.eeye.com/Resources/Security-Center/Research/Zero-Day-Tracker).
    A portion of the site is shown in the following screenshot:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以开始了，因为我们有了用于利用漏洞的字符串，只是建立实验室并进行测试的问题。这一切都需要时间，现在我们将继续审查不同的网站，以用作潜在的参考。随着我们追求漏洞，漏洞越新越好。这是因为很可能还没有为漏洞编写签名来检测它；此外，如果它是一个零日漏洞，那么它在公开上是未知的，这使得它是理想的。我们有几个网站可以提供有关零日漏洞的信息，我们将首先查看的是该网站的零日追踪器。在您的浏览器中，输入[http://www.eeye.com/Resources/Security-Center/Research/Zero-Day-Tracker](http://www.eeye.com/Resources/Security-Center/Research/Zero-Day-Tracker)。以下是该网站的一部分截图：
- en: '![Vulnerability sites](img/477-1_03_13.jpg)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_13.jpg)'
- en: A portion of the site [http://www.eeye.com/Resources/Security-Center/Research/Zero-Day-Tracker](http://www.eeye.com/Resources/Security-Center/Research/Zero-Day-Tracker)
    (the cropped text is not important)
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 网站的一部分[http://www.eeye.com/Resources/Security-Center/Research/Zero-Day-Tracker](http://www.eeye.com/Resources/Security-Center/Research/Zero-Day-Tracker)（裁剪的文本不重要）
- en: 'As you can see after visiting the site, it is dedicated to zero day findings.
    This is something we have discussed we want to do in our research, and this site
    provides us an excellent reference for that. So, let us explore the listing further.
    Select one of the vulnerabilities and take a look at the additional details. An
    example of the further details is shown in the following screenshot:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以看到访问该网站后，它专门致力于零日发现。这是我们讨论过的我们想要在研究中做的事情，这个网站为我们提供了一个很好的参考。因此，让我们进一步探索列表。选择一个漏洞并查看更多详细信息。更多详细信息的示例如下截图所示：
- en: '![Vulnerability sites](img/477-1_03_14.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_14.jpg)'
- en: As you review the screenshot, there are a number of characteristics of the vulnerability
    that we want to look at more closely. We see that no mitigation is currently available.
    This means it cannot be defended against at the time of this disclosure. This
    makes it ideal for adding to our toolbox. You will note that it impacts the Windows
    XP machine, and this is a good indication of why Microsoft continues to try to
    eliminate this from the industry. The OS is quite dated and really needs to be
    replaced; the problem is it has been a trusted OS for so long that people, myself
    included, have enjoyed using it. However, Microsoft has announced that it will
    no longer support it. So, from our testing standpoint, if a vulnerability is released,
    it means there will never be a patch for it, and as such the vulnerability will
    always be there.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 在您审查截图时，有许多漏洞的特征我们需要更仔细地查看。我们看到目前没有可用的缓解措施。这意味着在此披露时无法进行防御。这使得它成为我们工具箱的理想补充。您会注意到它影响了Windows
    XP机器，这很好地说明了为什么微软继续努力消除它在行业中的存在。这个操作系统相当陈旧，确实需要被替换；问题在于它长期以来一直是一个值得信赖的操作系统，人们，包括我在内，一直很喜欢使用它。然而，微软已经宣布不再支持它。因此，从我们的测试角度来看，如果有漏洞被发布，这意味着将永远不会有补丁，因此漏洞将永远存在。
- en: Many people in the security community believe that there are a number of Windows
    XP vulnerabilities that attackers have been sitting on, while waiting for the
    end of life for Windows XP. This is because once it is no longer supported, then
    any vulnerability that is released will be ideal for exploitation for the attacker,
    and correspondingly for us, to use in our testing.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 安全社区中的许多人认为，有许多Windows XP的漏洞一直被攻击者憋着，等待Windows XP的生命周期结束。这是因为一旦不再受支持，那么任何发布的漏洞都将成为攻击者利用的理想对象，相应地，也适用于我们在测试中使用。
- en: You will also note from the screenshot that the vulnerability has been exploited,
    and there is an exploit in the wild for it. Again, these are ideal for our testing
    repertoire; furthermore, they should be a part of our exploit collection for when
    we come across this type of target. This is a part of the process; we identify
    what works in our lab environment, document it, and make it a part of our security
    testing collection.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 您还会从屏幕截图中注意到漏洞已被利用，并且已经有人在野外利用它。同样，这些都是我们测试的理想对象；此外，它们应该成为我们的利用收集的一部分，以备我们遇到这种类型的目标。这是一个过程的一部分；我们确定在我们的实验环境中有效的内容，记录下来，并使其成为我们安全测试收集的一部分。
- en: The other thing to note is the fact that while it is executed at kernel level
    privileges, which is good, the location required is local, which is bad for our
    testing. Well, it is not that bad, it just means we will not be able to remotely
    perform the execution, so we will have to get local access to perform the leverage
    of the vulnerability and, correspondingly, exploit it. As you review vulnerabilities
    such as this, we put the highest priority and preference on the ability to exploit
    remotely, and while this sample exploit is less than ideal, we can still test
    it and see what we would have to do to get the exploit to be successful. Since
    the requirement is local, it means we will more than likely have to use some form
    of baiting to get the client to interact with our bait to be able to exploit it.
    Some of the methods we could use are e-mail, for example, sending an e-mail to
    the site and seeing whether we can trick anyone into clicking on the e-mail. We
    will discuss different methods of baiting and luring victims as we look at the
    different types of testing to emulate.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个需要注意的是，虽然它在内核级别权限下执行，这是好的，但所需的位置是本地的，这对我们的测试来说是不好的。嗯，也不是那么糟糕，这只是意味着我们无法远程执行，因此我们必须获得本地访问权限来利用漏洞，并相应地进行利用。当您审查这样的漏洞时，我们将最优先和首选的能够远程利用的能力。虽然这个样本利用不太理想，但我们仍然可以测试它，并看看我们需要做什么才能使利用成功。由于要求是本地的，这意味着我们很可能需要使用某种诱饵来让客户端与我们的诱饵进行交互，以便能够利用它。我们可以使用的一些方法是电子邮件，例如，向网站发送电子邮件，看看我们是否能诱使任何人点击该电子邮件。当我们研究不同类型的测试以模拟时，我们将讨论不同的诱饵和诱使受害者的方法。
- en: 'The next site we will look at is the zero day initiative site that is sponsored
    by **TippingPoint**, which is now part of HP. In your browser, open the link [http://www.zerodayinitiative.com](http://www.zerodayinitiative.com).
    An example of the site home page is shown in the following screenshot:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要查看的下一个网站是由**TippingPoint**赞助的零日计划网站，现在已成为惠普的一部分。在您的浏览器中，打开链接[http://www.zerodayinitiative.com](http://www.zerodayinitiative.com)。该网站首页的示例如下截图所示：
- en: '![Vulnerability sites](img/477-1_03_15.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_15.jpg)'
- en: As you review the preceding screenshot, you see that there are sections on **Upcoming
    Advisories** as well as **Published Advisories**. We will focus on **Published
    Advisories**, but **Upcoming Advisories** is also interesting, and you may want
    to explore them on your own.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 在您审查前面的屏幕截图时，您会看到有关**即将发布的警报**以及**已发布的警报**的部分。我们将重点关注**已发布的警报**，但**即将发布的警报**也很有趣，您可能希望自行探索。
- en: 'These are advisories where the vendor has been notified, but the patch has
    not been released. It may surprise you when you see the amount of days passed
    since the vendor has been notified, and the fact that there still is not a patch
    released. However, again, this is something we will not cover here, but it is
    information that''s good to know. We will look at **Published Advisories**. Click
    on **Published Advisories**, and it will bring up a listing of the current published
    advisories, as shown in the following screenshot:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是已通知供应商但尚未发布补丁的警报。当您看到自供应商被通知以来已经过去的天数以及仍然没有发布补丁的事实时，可能会感到惊讶。然而，再次强调，这不是我们要讨论的内容，但这是值得了解的信息。我们将查看**已发布的警报**。单击**已发布的警报**，它将显示当前已发布的警报列表，如下面的屏幕截图所示：
- en: '![Vulnerability sites](img/477-1_03_16.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_16.jpg)'
- en: As you review the preceding screenshot, you see some have **CVE**. We can use
    this CVE to track the vulnerability across different tools and sites to gather
    additional information. Moreover, virtually all tools have a cross reference with
    the CVE number, and as such, it makes our job easier. The process is to create
    the lab environment we want to test, then use the tool and see what it does at
    the packet level. To review the information at the packet level, we just use a
    protocol analyzer such as Wireshark or another.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 当您审查前面的屏幕截图时，您会看到一些有**CVE**。我们可以使用这个CVE来跟踪不同工具和网站上的漏洞，以收集额外的信息。此外，几乎所有工具都与CVE编号进行了交叉引用，因此，这使我们的工作变得更加容易。流程是创建我们想要测试的实验室环境，然后使用工具并查看它在数据包级别上的操作。要在数据包级别上查看信息，我们只需使用协议分析器，如Wireshark或其他工具。
- en: 'We will not cover the site in detail here, but we do want to take a closer
    look at the information that is available within the details of the vulnerability.
    We will select an example that is not shown in the previous screenshot. The vulnerability
    we have selected is in the **Cisco Data Center Manager** that has the CVE number
    **2013-5486** and was patched on **November 24, 2013**. Once we select the vulnerability,
    it brings up additional information on the actual vulnerability itself. As testers,
    we want to research as much as we can about the vulnerability so that we are better
    prepared to emulate it when required in a test environment or out in the field
    when we are testing. An example of the vulnerability is shown in the next screenshot:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不会在这里详细介绍该网站，但我们确实想更仔细地查看漏洞详情中可用的信息。我们将选择一个在上一个屏幕截图中未显示的示例。我们选择的漏洞是**思科数据中心管理器**中的CVE编号**2013-5486**，并于**2013年11月24日**修补。一旦我们选择了漏洞，它会显示有关漏洞本身的其他信息。作为测试人员，我们希望尽可能多地研究漏洞，以便在需要时在测试环境中或在实地测试时更好地模拟它。漏洞的一个示例显示在下一个屏幕截图中：
- en: '![Vulnerability sites](img/477-1_03_17.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_17.jpg)'
- en: Of particular interest here is the fact that the vulnerability was reported
    to the vendor on February 22, 2013, and it continued till November 24, 2013\.
    This is the reality of patching; it is not going to save us with respect to security.
    This is good for now since we are testing, but it is bad in the end because we
    are testing and playing offense so we protect ourselves on the defensive side.
    As I like to say, patching is a broken system, but unfortunately it is the only
    system we have when it comes to trying to alleviate these vulnerabilities in our
    software.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 特别值得注意的是，漏洞于2013年2月22日报告给供应商，一直持续到2013年11月24日。这就是修补的现实；在安全方面，它并不能拯救我们。现在对我们来说是好事，因为我们正在测试，但最终是坏事，因为我们正在测试和进攻，所以我们要在防御方面保护自己。我喜欢说，修补是一个有缺陷的系统，但不幸的是，这是我们在试图减轻软件中这些漏洞时唯一拥有的系统。
- en: All of these sites have gone by the rule of responsible disclosure which involves
    them notifying the vendor and providing them with ample time to build a patch
    and fix the vulnerability. Not all sites will abide by this type of thinking;
    some are what we call full disclosure, that is, as soon as any vulnerability is
    found, they release it with no notice to the vendor. Due to the nature of these
    sites, proceed to them with caution. Additionally, these sites come and go, so
    they often disappear from the Internet for brief periods of time. The important
    thing to note is there will always be sites that do not practice responsible disclosure,
    and these are the sites we want to add to our resources to find ways to validate
    and verify our vulnerabilities.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些网站都遵循了负责任的披露规则，这包括通知供应商并为他们提供充足的时间来构建补丁并修复漏洞。并非所有网站都会遵守这种思维方式；有些是我们所谓的全面披露，也就是说，一旦发现任何漏洞，他们就会立即发布，而不通知供应商。由于这些网站的性质，使用时请谨慎。此外，这些网站来来去去，因此它们经常会在互联网上短暂消失。需要注意的重要事情是，总会有一些网站不遵守负责任的披露，而这些就是我们想要添加到我们的资源中以找到验证和确认我们的漏洞的方法的网站。
- en: Another thing that has been missing is the fact that there is, for the most
    part, limited exploit code within the sites. **Security Focus** had some information
    on the exploit and some code, but this is as far that we know about it.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 另一件缺失的事情是，大部分网站中几乎没有限制性的利用代码。**Security Focus**上有一些关于利用和一些代码的信息，但这就是我们所知道的。
- en: 'We will first start with some of the websites that lean toward or are actually
    full disclosure; consequently, most of these have the exploit information or a
    link to it. The first one we will look at is the website from **SecuriTeam**;
    open the link [http://www.securiteam.com](http://www.securiteam.com). This is
    another site with a wealth of information for us, and beyond the scope of exploring
    in full in this book; however, we do want to take a look at some of the excellent
    information and resources that are here. At the right-hand side of the home page,
    you will see information on both exploits and tools, as shown in the following
    screenshot:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先从一些倾向于或实际上是全面披露的网站开始；因此，大多数这些网站都提供了漏洞利用信息或链接。我们将首先看一下来自**SecuriTeam**的网站；打开链接[http://www.securiteam.com](http://www.securiteam.com)。这是另一个为我们提供大量信息的网站，超出了本书的探索范围；然而，我们确实想看一下这里的一些优秀信息和资源。在主页的右侧，你会看到关于漏洞利用和工具的信息，如下截图所示：
- en: '![Vulnerability sites](img/477-1_03_18.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_18.jpg)'
- en: Again, this is a site you want to frequent and read some of the resources and
    information on it. The approach will be to get asked to perform testing of an
    environment. Your next step is to plan and prepare your lab; this and the other
    sites we have been discussing provide you that opportunity to look for what is
    out there, and then you attempt to create it in the lab environment so that you
    know what to expect when you enter the testing realm.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 再次强调，这是一个你想要经常访问并阅读一些资源和信息的网站。我们的方法是要求对环境进行测试。你的下一步是计划和准备你的实验室；我们之前讨论过的其他网站也提供了这样的机会，让你去寻找那里的东西，然后尝试在实验室环境中创建它，这样当你进入测试领域时就知道可以期待什么。
- en: 'We will now take a look at one of the exploits to see what the site provides
    for us. We will select the exploit tab along the top of the home page and look
    for an exploit of our choice. To follow along, click on **Exploits**. This will
    open the list of exploits that are listed at the time of writing this book, as
    shown in the following screenshot:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将看一下其中一个漏洞利用，看看这个网站为我们提供了什么。我们将选择主页顶部的漏洞利用选项卡，并寻找我们选择的漏洞利用。要跟着做，点击**漏洞利用**。这将打开在撰写本书时列出的漏洞利用列表，如下截图所示：
- en: '![Vulnerability sites](img/477-1_03_19.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_19.jpg)'
- en: 'We selected this section of the listing for a specific reason. We were performing
    a security test for a high-end client around the time of writing this book, and
    during the initial findings during briefing, the client asked us this question:
    "did you find anything on another OS other than Windows?". This question is encountered
    quite often because there is a misconception that Linux or Unix are automatically
    more secure than Windows. We are not going to debate this within the pages of
    this book; moreover, it misses the point of security and that is it is the process
    and not the OS that is the most important thing. That being said, if you do not
    have a patch management process in place, then there will be vulnerabilities found
    no matter the OS that is being used. This was the case here; there were vulnerabilities
    in their Linux and Unix platforms because they did not have an effective vulnerability
    management system in place.'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 我们选择了列表中的这一部分有特定的原因。在撰写本书时，我们为一个高端客户进行了安全测试，在初步发现期间，客户问了我们这个问题：“你在Windows之外的其他操作系统上找到了什么吗？”这个问题经常遇到，因为有一种误解，认为Linux或Unix自动比Windows更安全。我们不打算在本书的页面内进行这个讨论；而且，这忽略了安全的重点，即过程而不是操作系统是最重要的。也就是说，如果你没有一个有效的补丁管理流程，那么无论使用什么操作系统，都会发现漏洞。在这里就是这种情况；因为他们没有有效的漏洞管理系统，所以在他们的Linux和Unix平台上发现了漏洞。
- en: 'There are a number of vulnerabilities in the previous screenshot that are worth
    investigating. However we are going to concentrate on the penultimate one on the
    list; it is in FreeBSD, and it happens to be one of my favorite operating systems
    to deploy in a firewall architecture with the only one getting preference above
    it being **OpenBSD**. Let''s explore this further. An example of the exploit information
    is shown in the following screenshot:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的截图中有一些值得调查的漏洞。但我们将集中在列表中倒数第二个；它是在FreeBSD中，恰好是我最喜欢部署在防火墙架构中的操作系统之一，唯一优先于它的是**OpenBSD**。让我们进一步探索一下。漏洞利用信息的示例如下截图所示：
- en: '![Vulnerability sites](img/477-1_03_20.jpg)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_20.jpg)'
- en: One thing to note on this exploit is the fact that we are connecting to the
    local host, so this is a local exploit, and we would need to be on the local machine
    to exploit it. As has been previously mentioned, this is less than ideal, but
    we could build the lab for this and see if we could exploit it remotely. Again,
    it is the process that counts; we take it from there, and then experiment with
    it to see how we can use it when we encounter, in this case, a FreeBSD machine
    in the field. Of course, we also require that the box be running the telnet service
    for this exploit. Not shown in the previous screenshot, but available on the site,
    is the actual source code for the exploit.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 关于这个漏洞利用的一点需要注意的是，我们是连接到本地主机，所以这是一个本地漏洞利用，我们需要在本地机器上进行利用。正如之前提到的，这并不理想，但我们可以建立实验室来尝试远程利用。重要的是过程；我们从那里开始，然后进行实验，看看我们在遇到这种情况时如何使用它，比如在现场遇到一个FreeBSD机器。当然，我们还需要这个漏洞利用所需的盒子运行telnet服务。在之前的截图中没有显示，但在网站上可以找到的是漏洞利用的实际源代码。
- en: The next site we will look at is **packet storm**. Enter [http://www.packetstormsecurity.com](http://www.packetstormsecurity.com)
    in your browser. Not only does packet storm have advisories and exploit information,
    it is also a repository of files that you can download. For the most part, it
    is a hacking tool or something along the same lines, which you will find here.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要查看的下一个网站是**packet storm**。在浏览器中输入[http://www.packetstormsecurity.com](http://www.packetstormsecurity.com)。packet
    storm不仅有安全公告和利用信息，还是一个你可以下载文件的存储库。在大多数情况下，这是一个黑客工具或类似的东西，你会在这里找到。
- en: 'Once you have reviewed the home page of packet storm, we want to take a look
    at the exploits area. Click on **Exploits** and review the information that comes
    up. There is a huge listing of exploits. An example of the exploit listing is
    shown in the following screenshot:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你查看了packet storm的主页，我们要看一下利用区域。点击**利用**并查看显示的信息。这里有大量的利用列表。以下是利用列表的示例截图：
- en: '![Vulnerability sites](img/477-1_03_21.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_21.jpg)'
- en: Screen showing an example of the exploit listing (the cropped text is not important)
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 显示利用列表示例的屏幕（裁剪的文本不重要）
- en: As we have seen from other sites, if you click on the exploit title, it will
    provide you with the information, details, and code for the exploit.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们从其他网站看到的，如果你点击利用标题，它将为你提供有关利用的信息、细节和代码。
- en: We have looked at a number of different sites, and as we discussed, this is
    only a small sample. You are encouraged to explore and discover the ones that
    you want to add to your resource kit outside of this book.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经看过许多不同的网站，正如我们所讨论的，这只是一个小样本。我们鼓励你在本书之外探索和发现你想要添加到资源工具包中的网站。
- en: 'The last website we will cover in this section will be the site that, for the
    most part, is our best reference when it comes to finding information on zero
    days to include exploits. The site used is known as millw0rm, but the founder
    had such a difficult task of trying to keep the site up that he closed it down.
    Fortunately, the team at Offensive Security has continued the tradition of the
    original site. In your browser, open the link [http://www.exploit-db.com](http://www.exploit-db.com)
    to bring up the site. As you can see, the site is broken down into sections with
    respect to the location required for the exploit. An example of the site is shown
    in the following screenshot:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 本节我们将要介绍的最后一个网站是我们在寻找有关零日漏洞和利用方面最好的参考来源。该网站被称为millw0rm，但创始人很难维持网站的运行，因此关闭了它。幸运的是，Offensive
    Security团队继续了原始网站的传统。在浏览器中打开链接[http://www.exploit-db.com](http://www.exploit-db.com)以打开该网站。正如你所看到的，该网站根据利用所需的位置分成了不同的部分。以下是该网站的示例截图：
- en: '![Vulnerability sites](img/477-1_03_22.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_22.jpg)'
- en: As before, we could review the exploits code, but since we have already accomplished
    this, we will look at another feature of the site that is extremely powerful and
    often overlooked. This is the ability to search for exploits.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 与以前一样，我们可以查看利用代码，但由于我们已经完成了这一点，我们将看一下该网站极为强大且经常被忽视的另一个功能。这就是搜索利用的能力。
- en: 'Located at the top of the home page is a menu listing; take a minute and review
    the options. This menu is shown in the following screenshot:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在主页的顶部是一个菜单列表；花一分钟时间查看选项。以下是该菜单的截图：
- en: '![Vulnerability sites](img/477-1_03_23.jpg)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_23.jpg)'
- en: Screen showing the menu listing located at the top of the home page (the cropped
    text is not important)
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 显示在主页顶部的菜单列表的屏幕（裁剪的文本不重要）
- en: The option we want to select is the **Search** option, so click on **Search**.
    This will bring up the search window of the tool and provide us with a number
    of ways to look for exploits. Moreover, we can search by port, CVE, and a multitude
    of methods. This brings our references and resources full circle; we have covered
    numerous ways to obtain this and other details on vulnerabilities, and now this
    provides us with the ability to take it to the next level and search for exploits.
    As such, we now have a complete arsenal for identifying things to use when we
    try to leverage vulnerabilities and exploit a target.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 我们要选择的选项是**搜索**选项，所以点击**搜索**。这将打开工具的搜索窗口，并为我们提供了许多查找利用的方法。此外，我们可以按端口、CVE和多种方法进行搜索。这使我们的参考和资源变得完整；我们已经涵盖了许多获取漏洞和其他详细信息的方法，现在这为我们提供了搜索利用的能力。因此，我们现在拥有了一个完整的武器库，用于识别在利用漏洞和攻击目标时要使用的东西。
- en: 'We could search for a variety of parameters; the choice is largely dependent
    on what you have discovered during your research. We will provide a simple example.
    We have seen a vulnerability in FreeBSD, so we will search the database and see
    what is contained within with respect to FreeBSD. In the search window, enter
    `FreeBSD` in the **Description** field. Then, click on the **Search** button to
    submit the search to the database, and a number of findings will be returned.
    An example is shown in the following screenshot:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以搜索各种参数；选择主要取决于你在研究过程中发现了什么。我们将提供一个简单的例子。我们已经在FreeBSD中发现了一个漏洞，所以我们将搜索数据库，看看与FreeBSD相关的内容。在搜索窗口中，在**描述**字段中输入`FreeBSD`。然后，点击**搜索**按钮提交搜索到数据库，将返回一些结果。以下是一个示例截图：
- en: '![Vulnerability sites](img/477-1_03_24.jpg)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![漏洞网站](img/477-1_03_24.jpg)'
- en: Something of interest here is that we do not see the telnet exploit that we
    discovered when we explored the SecuriTeam site. This is why we use a multitude
    of different references and resources when we conduct our research. There is always
    a chance one will have it while another does not. There is a chance the listing
    is under another parameter. So, we could attempt a search using another parameter
    and see what we can come up with. We will not attempt this here because we have
    the exploit code from the earlier site, and as such we could build the lab environment
    and attempt the exploit. We have covered enough when it comes to vulnerability
    sites; furthermore, this provides you with a good foundation that will help you
    find vulnerabilities and attempt to validate them within your lab environment.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 有趣的是，我们在探索SecuriTeam网站时没有看到我们发现的telnet漏洞利用。这就是为什么在进行研究时我们使用多种不同的参考和资源。总会有一种可能性是一个网站有而另一个没有。也有可能是列表在另一个参数下。因此，我们可以尝试使用另一个参数进行搜索，看看能找到什么。我们不会在这里尝试，因为我们已经从之前的网站得到了漏洞利用代码，因此我们可以建立实验环境并尝试利用。在涉及漏洞网站时，我们已经涵盖了足够的内容；此外，这为您提供了一个良好的基础，可以帮助您在实验环境中找到漏洞并尝试验证它们。
- en: Vendor sites
  id: totrans-122
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 供应商网站
- en: We looked at a number of sites that are available for us to use as resources.
    The one thing we have yet to cover is the sites for the vendors. There are some
    good details we can gather from the vendor site. Having said that, as the zero
    day initiative site shows, the vendor does not always provide information on the
    vulnerabilities, unless it is convenient to them. There is one case of a vulnerability
    being reported by Cisco as a denial of service vulnerability, and a security researcher
    not stopping at what the vendor had reported. During his research, it was discovered
    that it was not only a denial of service vulnerability, but it was also a remote
    code execution denial. This event came to be known as "Cisco gate." You can read
    about it at [http://www.wired.com/science/discoveries/news/2005/08/68435](http://www.wired.com/science/discoveries/news/2005/08/68435).
    In short, it explains how a researcher who had followed the rules and told Cisco
    and his company what he was going to present in his findings, was later sued for
    giving a presentation at the Blackhat Conference.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 我们查看了许多可供我们用作资源的网站。我们尚未涵盖的一件事是供应商的网站。我们可以从供应商网站上获取一些有用的细节。话虽如此，正如零日倡议网站所显示的，供应商并不总是提供有关漏洞的信息，除非这对他们方便。有一个案例是Cisco报告了一个拒绝服务漏洞，而安全研究人员并没有止步于供应商报告的内容。在他的研究中，发现这不仅是一个拒绝服务漏洞，还是一个远程代码执行拒绝服务。这一事件后来被称为“思科门”。您可以在[http://www.wired.com/science/discoveries/news/2005/08/68435](http://www.wired.com/science/discoveries/news/2005/08/68435)上阅读相关内容。简而言之，它解释了一个研究人员遵循规则并告诉思科及其公司他将在研究结果中呈现的内容，后来却因在Blackhat会议上做演讲而被起诉的事件。
- en: This is not implying that vendors will specifically not release the complete
    details of a vulnerability, it is just that when you use the vendor sites you
    have to take their information and cross reference it with the other sites and
    make a judgment call. If all else fails, then you can lab it up and test it for
    yourself.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 这并不意味着供应商会明确不发布漏洞的完整细节，只是当您使用供应商网站时，您必须将他们的信息与其他网站进行交叉参考，并做出判断。如果一切都失败了，那么您可以进行实验并自行测试。
- en: As we plan our pen testing lab environment, we want to focus on the vendors
    that you are most likely to encounter, and this cannot be overstated. We know
    that one of the reasons we continue to see so many vulnerabilities in certain
    vendors is because they are the popular ones, and it makes for a better target-rich
    environment for the attackers and us.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在规划我们的渗透测试实验环境时，我们希望专注于您最有可能遇到的供应商，这一点无法过分强调。我们知道，我们继续在某些供应商中看到如此多的漏洞的原因之一是因为它们是受欢迎的，这为攻击者和我们提供了更好的目标丰富环境。
- en: Since the majority of the targets you will encounter will be based on Microsoft
    Windows, it makes sense that we start there. An important date to keep track of
    is the second Tuesday of each month, which has been dedicated as *patch Tuesday*
    for Microsoft. Once the listings come out, the hacking community gets together
    and holds all-night "code-a-thons" to see whether they can create exploits for
    the new vulnerability that the entire world knows about on that day! The best
    place to look for exploits of these vulnerabilities is the Exploit Database site
    that will release these exploits as soon as the hackers get them working.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 由于您将遇到的大多数目标将基于Microsoft Windows，因此从那里开始是有道理的。要记住的一个重要日期是每个月的第二个星期二，这一天被专门指定为Microsoft的“补丁星期二”。一旦列表出来，黑客社区就会聚在一起举行整夜的“代码马拉松”，看看他们是否能为当天全世界都知道的新漏洞创建利用。寻找这些漏洞利用的最佳地方是Exploit
    Database网站，黑客们一旦使其工作，就会发布这些漏洞利用。
- en: 'Microsoft has a vulnerability bulletin number that we can use when trying to
    correlate information from different sites; it is similar to a reference such
    as the CVE, but it is from within Microsoft itself. An example of the Microsoft
    bulletin listing for November 2013 is shown in the next screenshot:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft有一个漏洞公告编号，我们在尝试从不同网站协调信息时可以使用它；它类似于CVE之类的参考，但它来自Microsoft内部。下一个截图显示了2013年11月的Microsoft公告列表的示例：
- en: '![Vendor sites](img/477-1_03_25.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![供应商网站](img/477-1_03_25.jpg)'
- en: As you review the listing, you see that these three are critical, and these
    are the things we are looking for when it comes to finding our vulnerabilities.
    We have discovered numerous ways to get information, and to use the bulletin number
    as a reference is just another method.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 当您查看列表时，您会发现这三个是关键的，这正是我们在寻找漏洞时要寻找的东西。我们已经发现了许多获取信息的方法，使用公告编号作为参考只是另一种方法。
- en: As you may recall from our visit to the Exploit Database site, some of the exploits
    against the Microsoft platforms had a reference to the Microsoft Bulletin number,
    and we will look at the bulletin number of **MS13-009** for reference; here, MS13
    means it is for the year 2013\. Since we have it in the Exploit Database, we know
    there is an exploit for it. Now, the next step for us is to review the exploit
    and see what we can discover about it.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你可能还记得我们访问Exploit Database网站时所看到的，针对微软平台的一些利用程序有一个微软公告编号的参考，我们将查看**MS13-009**的公告编号作为参考；这里，MS13表示它是2013年的。由于我们在Exploit
    Database中有它，我们知道有一个利用程序。现在，我们的下一步是审查利用程序，看看我们能发现什么。
- en: 'Ideally, when these exploits are here in the Exploit Database, they are already
    part of the metasploit framework. I will consider that almost everyone reading
    this has heard of the outstanding exploit framework now owned by Rapid7, and additionally,
    as a result of that acquisition, now has a commercial version. We will use the
    open source version throughout the book. If by chance you are not familiar with
    the tool, you can discover more information at [http://www.metasploit.org/](http://www.metasploit.org/).
    An example of the home page is shown in the following screenshot:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 理想情况下，当这些利用程序在Exploit Database中时，它们已经是metasploit框架的一部分。我认为几乎每个阅读本书的人都听说过由Rapid7拥有的出色的利用框架，而且，作为收购的结果，现在有了商业版本。我们将在整本书中使用开源版本。如果你碰巧不熟悉这个工具，你可以在[http://www.metasploit.org/](http://www.metasploit.org/)上发现更多信息。主页的一个示例在下面的屏幕截图中显示：
- en: '![Vendor sites](img/477-1_03_26.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![供应商网站](img/477-1_03_26.jpg)'
- en: Screen showing [http://www.metasploit.org/](http://www.metasploit.org/) (the
    cropped text is not important)
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 屏幕显示[http://www.metasploit.org/](http://www.metasploit.org/)（裁剪的文本不重要）
- en: The site contains excellent references and resources, so you are encouraged
    to review the documentation at the site and add it to your toolbox of reference
    material. The key point is that once we find the exploit has been entered into
    the metasploit framework, it makes our job of testing in our virtual environments
    that much easier.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 该网站包含了优秀的参考和资源，因此鼓励你查阅该网站的文档，并将其添加到你的参考资料工具箱中。关键点是，一旦我们发现利用程序已经输入metasploit框架，我们在虚拟环境中的测试工作就会变得更加容易。
- en: 'Our sample exploit of MS13-009 from the Exploit Database site is written for
    the Microsoft Internet Explorer software. This is something that we will more
    than likely encounter as we perform our testing duties, and it has a consistent
    habit of providing us with vulnerabilities virtually on every *patch Tuesday*.
    We will now explore this vulnerability further. When we are in the Exploit Database
    site, we click on **exploit** to open up the exploit code. An example of the header
    of the exploit code is shown in the following screenshot:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从Exploit Database网站的MS13-009的示例利用程序中得知，这是针对微软Internet Explorer软件的。这是我们在执行测试任务时很可能会遇到的情况，它有一个一贯的习惯，几乎每个*补丁星期二*都会给我们提供漏洞。现在我们将进一步探索这个漏洞。当我们在Exploit
    Database网站时，我们点击**exploit**来打开利用程序代码。利用程序代码标题的一个示例在下面的屏幕截图中显示：
- en: '![Vendor sites](img/477-1_03_27.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![供应商网站](img/477-1_03_27.jpg)'
- en: Screen showing an example of the header of the exploit code (the cropped text
    is not important)
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 屏幕显示一个利用代码标题的示例（裁剪的文本不重要）
- en: 'As the previous screenshot shows, this exploit is part of the metasploit framework,
    and as such, we can investigate the parameters required for the exploit from within
    the framework. We will select and build an attacker machine in the next section;
    so for now we will show what the exploit looks like in metasploit and not provide
    the details for building the machine. An example of the exploit options from within
    metasploit is shown in the following screenshot:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 正如前面的屏幕截图所示，这个利用程序是metasploit框架的一部分，因此，我们可以从框架内部调查利用所需的参数。我们将在下一节选择并构建一个攻击者机器；所以现在我们将展示利用在metasploit中的样子，而不提供构建机器的细节。利用程序选项的一个示例在下面的屏幕截图中显示：
- en: '![Vendor sites](img/477-1_03_28.jpg)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![供应商网站](img/477-1_03_28.jpg)'
- en: As the previous screenshot shows, we only have two options we have to set, **SRVHOST**
    and **SRVPORT**, to attempt the exploit. The important point here is that once
    it is in the framework, our task of validation of a vulnerability becomes much
    easier. A word of caution though; just because we have the exploit in metasploit
    does not mean we will be successful. This is why the statement "exploitation is
    not 100 percent" exists.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 正如前面的屏幕截图所示，我们只需要设置两个选项，**SRVHOST**和**SRVPORT**，来尝试利用漏洞。这里的重要一点是，一旦它在框架中，我们验证漏洞的任务就变得更容易了。不过需要注意的是，仅仅因为我们在metasploit中有了利用程序，并不意味着我们一定会成功。这就是为什么存在“利用并非100%”这样的说法。
- en: As we have shown, the vendor sites can be used as an additional source of information,
    but by no means are they the only source. A systematic process is required to
    identify the vulnerabilities of interest and coordinate with multiple sources
    to achieve success.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所展示的，供应商网站可以作为额外的信息来源，但绝不是唯一的来源。需要一个系统的过程来识别感兴趣的漏洞，并与多个来源协调以取得成功。
- en: Summary
  id: totrans-142
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we examined the preliminary steps required before attempting
    to build a range. We started with the first step of planning and how important
    it is to plan our architecture. In this section, we identified what we were trying
    to achieve and discussed a plan to make that happen.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们研究了在尝试构建范围之前所需的初步步骤。我们从规划的第一步开始，讨论了规划我们架构的重要性。在本节中，我们确定了我们要实现的目标，并讨论了实现这一目标的计划。
- en: We looked at a number of methods we can use to identify our vulnerabilities
    that we want to test within our architecture. Now that we know methods to discover
    vulnerabilities, we are ready to build the foundation of the range. This is so
    that when we discover a new or zero day vulnerability, we can deploy it on our
    range and see what we can do to leverage it and gain access to different targets.
    This foundation will be built in the next chapter.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 我们看了一些我们可以用来识别我们想要在架构中测试的漏洞的方法。现在我们知道了发现漏洞的方法，我们准备建立范围的基础。这样，当我们发现一个新的或零日漏洞时，我们可以在我们的范围上部署它，看看我们能做些什么来利用它并访问不同的目标。这个基础将在下一章中建立。
