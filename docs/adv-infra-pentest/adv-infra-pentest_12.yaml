- en: Internet of Things Exploitation
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物联网利用
- en: The term IoT was crafted by Kevin Ashton from the media center at the Massachusetts
    Institute of Technology. It describes a network of physical devices including
    cameras, vehicles, and sensors. The IoT is exponentially adopted and it represents
    undeniable promises and possibilities. This rapid adoption opened the doors for
    new business opportunities, but on the other hand, revealed new threats and weaknesses
    from a security perspective. This chapter will be your savior. Thus, it will take
    you from understanding the IoT ecosystem, to knowing how to defend against the
    real-world IoT attacks. In fact, in this chapter, you will gain the required skills
    to be ready to secure IoT projects, after learning how to exploit IoT environments
    starting from the smallest devices to connected cars. According to the F5 Labs
    report, IoT attacks exploded by 280% in the first half of 2017\. In this chapter,
    we will finalize our journey. It is another milestone. After walking through the
    different techniques of attacking and protecting valuable enterprise assets, it
    is time to continue the learning experience, and discover the skills for pentesting
    IoT projects.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 术语“物联网”是由麻省理工学院媒体中心的凯文·阿什顿创造的。它描述了包括摄像头、车辆和传感器在内的物理设备网络。物联网得到了指数级的采用，并且代表了不可否认的承诺和可能性。这种快速采用为新的商业机会打开了大门，但另一方面，从安全角度来看，也揭示了新的威胁和弱点。本章将是您的救世主。因此，它将带您了解物联网生态系统，了解如何抵御真实世界的物联网攻击。实际上，在本章中，您将学会在学习如何利用物联网环境之后，获得准备安全物联网项目所需的技能，从最小的设备到连接的汽车。根据F5
    Labs的报告，2017年上半年物联网攻击激增了280%。在本章中，我们将完成我们的旅程。这是又一个里程碑。在走过攻击和保护宝贵企业资产的不同技术之后，是时候继续学习经验，并发现渗透测试物联网项目的技能了。
- en: The IoT ecosystem
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物联网生态系统
- en: 'By 2020, there will be more than 50 billion connected devices. This huge number
    of devices will come with a huge number of new threats. As penetration testers,
    we need to be ready to resist this technological apocalypse. The IoT ecosystem
    is based on many factors, which we''ve also shown in the following image:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 到2020年，将有超过500亿个连接设备。这么多设备将带来大量新的威胁。作为渗透测试人员，我们需要准备好抵抗这场技术启示。物联网生态系统基于许多因素，我们也在以下图片中显示了这些因素：
- en: Business opportunities
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 商业机会
- en: Public authorities
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 公共机构
- en: Consumers
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 消费者
- en: Infrastructure
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基础设施
- en: '![](img/00361.jpeg)'
  id: totrans-8
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00361.jpeg)'
- en: IoT project architecture
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物联网项目架构
- en: 'Like any technical project, a typical IoT project is composed of many components,
    as follows (see the following image):'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 像任何技术项目一样，典型的物联网项目由许多组件组成，如下所示（请参见以下图片）：
- en: '**Remote devices**'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**远程设备**'
- en: '**Data storage**'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据存储**'
- en: '**IoT devices**(for example, CCTV cameras, home routers, printers, industrial
    systems, and connected cars)'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**物联网设备**（例如，闭路电视摄像头，家用路由器，打印机，工业系统和连接的汽车）'
- en: '**Gateway**'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网关**'
- en: 'This illustration shows a typical architecture of an IoT project:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这幅图表显示了物联网项目的典型架构：
- en: '![](img/00362.jpeg)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00362.jpeg)'
- en: IoT protocols
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物联网协议
- en: 'In a typical IoT project, a lot of protocols are involved to make sure that
    the requirements are met. They are divided into different layers. The following
    are some well-known IoT protocols:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在典型的物联网项目中，涉及许多协议以确保满足要求。它们分为不同的层。以下是一些知名的物联网协议：
- en: '**Wi-Fi**: This is a widely used protocol among IoT developers. It is based
    on IEEE 802.11 standards. It uses 2.4 GHz and 5 GHz as band frequencies, with
    about 50 meters as a range. Usually, it can transfer 150-200 Mbps of data.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Wi-Fi**：这是物联网开发人员广泛使用的协议。它基于IEEE 802.11标准。它使用2.4 GHz和5 GHz作为频段频率，范围约为50米。通常，它可以传输150-200
    Mbps的数据。'
- en: '**Z-Wave**: This is an RF communications technology with a low power capacity.
    It is widely used in sensors and home automation products with a 100 Kbps data
    rate. It can control a maximum of 232 devices, with a range of 30 meters.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Z-Wave**：这是一种低功率容量的射频通信技术。它广泛用于传感器和家庭自动化产品，数据速率为100 Kbps。它可以控制最多232个设备，范围为30米。'
- en: '**Zigbee**: This is like Bluetooth. It is based on the IEEE 802.15.4 protocol,
    and it operates at 2.4 GHz frequency. It is usually used in cases when we don''t
    have large data rates, usually 250 Kbps, with  a range of 100 meters. There are
    many Zigbee profiles, such as Zigbee PRO, and Zigbee Remote Control (RF4CE). The
    latest version is Zigbee 3, which combines all the previous Zigbee standards.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Zigbee**：这类似于蓝牙。它基于IEEE 802.15.4协议，并在2.4 GHz频率上运行。通常在我们没有大数据速率的情况下使用，通常为250
    Kbps，范围为100米。有许多Zigbee配置文件，例如Zigbee PRO和Zigbee远程控制（RF4CE）。最新版本是Zigbee 3，它结合了所有先前的Zigbee标准。'
- en: '**Sigfox**: This is a wide-range technology with 30-50 km in rural environments,
    and 3-10 km in urban environments. It works on a 900 MHz frequency, with a 10-1000
    Kbps data rate. You don''t need a license to use its band, because it operates
    on a free-to-use band (ISM).'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Sigfox**：这是一种广域技术，在农村环境下为30-50公里，在城市环境下为3-10公里。它在900 MHz频率上运行，数据速率为10-1000
    Kbps。您无需许可证即可使用其频段，因为它在免许可使用频段（ISM）上运行。'
- en: '**Lora**: This is similar to Sigfox. It is designed to work on WAN networks
    (2-5 km in an urban environment, 15 km in a suburban environment), with a 0.3-50
    Kbps data rate.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Lora**：这类似于Sigfox。它旨在在WAN网络上运行（在城市环境下为2-5公里，在郊区环境下为15公里），数据速率为0.3-50 Kbps。'
- en: '**Near-field communication (NFC)**: This is a two-way interaction technology
    based on the ISO/IEC 18000-3 standard, with a 13.56 MHz frequency, widely used
    in smartphones, especially in contactless payment operations. It operates between
    a range of 4 and 10 cm, with a 100–420 Kbps data rate.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**近场通信（NFC）**：这是一种基于ISO/IEC 18000-3标准的双向交互技术，频率为13.56 MHz，在智能手机中广泛使用，特别是在非接触式支付操作中。它在4到10厘米的范围内运行，数据速率为100-420
    Kbps。'
- en: '**IPv6 Low-Power Wireless Personal Area Network** (**6LOWPAN**): This is based
    on internet protocol according to RFC 6282\. It is very adaptable, while it can
    use different communications platforms such as Wi-Fi and Ethernet.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IPv6低功耗无线个人区域网络（6LOWPAN）：这是基于RFC 6282的互联网协议。它非常适应性强，可以使用不同的通信平台，如Wi-Fi和以太网。
- en: The IoT communication stack
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物联网通信堆栈
- en: 'The IoT communication stack is similar to the OSI networking model. It represents
    the needed features and the interactions between the different layers. It is composed
    of the following layers:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 物联网通信堆栈类似于OSI网络模型。它代表了不同层之间的所需功能和交互。它由以下层组成：
- en: Data layer
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据层
- en: End-to-end layer
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 端到端层
- en: Network layer
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络层
- en: ID layer
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ID层
- en: Link layer
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 链路层
- en: Physical layer
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 物理层
- en: '![](img/00363.jpeg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00363.jpeg)'
- en: IP Smart Objects protocols suite
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: IP智能对象协议套件
- en: 'In an analogy with the TCP/IP model, IoT projects has its own suite and representation
    named the *IP Smart Objects protocol suite*:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 与TCP/IP模型类似，物联网项目有自己的套件和表示，名为IP智能对象协议套件：
- en: '![](img/00364.jpeg)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00364.jpeg)'
- en: Standards organizations
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 标准组织
- en: 'The IoT shows a promising future. As a result, it needed to be organized and
    standardized by many organizations and alliances. These are some well-known IoT
    standards organizations:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 物联网展示了一个充满希望的未来。因此，它需要被许多组织和联盟组织和标准化。以下是一些知名的物联网标准组织：
- en: '**International Electrotechnical Commission (IEC)**:** The **IEC plays a huge
    role as one of the biggest contributors to the IoT standards, especially with
    its IEC 62056 (DLMS/COSEM), which discusses smart meters.'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 国际电工委员会（IEC）：IEC作为物联网标准的最大贡献者之一，发挥着重要作用，特别是通过其IEC 62056（DLMS/COSEM）讨论智能电表。
- en: '**International Organization for Standardization (ISO)**: The ISO is addresses a
    various range of products, especially the IoT in the supply chain via the ISO/AWI
    18575 standard. ISO is also united with IEC as a joint technical committee.'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 国际标准化组织（ISO）：ISO致力于各种产品，特别是通过ISO/AWI 18575标准在供应链中的物联网。ISO还与IEC联合成立了一个联合技术委员会。
- en: '**Institute of Electrical and Electronics Engineers (IEEE)**: The IEEE developed
    the IEEE P2413 standard for the IoT in addition of other standards, such as IEEE
    802.15.4.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电气和电子工程师学会（IEEE）：IEEE制定了物联网的IEEE P2413标准，以及其他标准，如IEEE 802.15.4。
- en: '**Internet Engineering Task Force (IETF)**: IETF has a network-centric vision
    for IoT. This vision is supported by working on the constrained RESTful environments
    and IPv6 protocol.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 互联网工程任务组（IETF）：IETF对物联网有一个以网络为中心的愿景。这一愿景得到了通过在受限制的RESTful环境和IPv6协议上的工作的支持。
- en: IoT attack surfaces
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物联网攻击面
- en: The previous section was a small overview of the IoT ecosystem. The IoT presents
    an amazing opportunity for businesses to grow, but it comes with a huge number
    of threats. From different perspectives, the IoT faces a lot of challenges, including
    security, integration issues, and interoperability. In the early stages of market
    development, the IoT will likely raise many security alerts and technical threats
    for these surfaces.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 上一节是对物联网生态系统的简要概述。物联网为企业提供了一个惊人的增长机会，但也伴随着大量的威胁。从不同的角度来看，物联网面临着许多挑战，包括安全性、集成问题和互操作性。在市场发展的早期阶段，物联网可能会对这些领域产生许多安全警报和技术威胁。
- en: Devices and appliances
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设备和设备
- en: 'Devices are core components in an IoT project. In this subsection, we are going
    to discover the hardware threats, and we will discuss the framework attacks in
    another point. Physical security is playing a huge role in information security.
    Physically unprotected devices are presenting a real threat to your architecture.
    Exposed appliances can be attacked easily. Thus, a black hat hacker could gather
    information about the device online, thanks to the publicly available datasheets
    and required information about the majority of used and well-known devices. A
    website such as [https://wiki.openwrt.org](https://wiki.openwrt.org) helps users
    to know detailed information about a various number of devices, such as routers
    and gateways:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 设备是物联网项目的核心组件。在本小节中，我们将探讨硬件威胁，并在另一个点讨论框架攻击。物理安全在信息安全中起着重要作用。未受保护的设备对您的架构构成真正的威胁。暴露的设备很容易受到攻击。因此，黑客可以通过公开可用的数据表和大多数使用的知名设备的必需信息在线收集有关设备的信息。网站，如[https://wiki.openwrt.org](https://wiki.openwrt.org)帮助用户了解各种设备，如路由器和网关的详细信息：
- en: '![](img/00365.jpeg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00365.jpeg)'
- en: 'This step can be dangerous, because by knowing hardware information, attackers
    can identify (as an entry point) used interfaces, such as **Universal Asynchronous
    Receiver/Transmitter** (**UART**), which grant root access if an attacker successfully
    connects to the device over it by looking for **PINS** (**TX**, **RX**, and **GND**),
    using a multimeter as a continuity mode (no power is needed in this mode):'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这一步可能是危险的，因为通过了解硬件信息，攻击者可以识别（作为入口点）使用的接口，如通用异步收发器（UART），如果攻击者成功通过查找PINS（TX、RX和GND）连接到设备，就可以获得root访问权限，使用万用表作为连续模式（此模式不需要电源）：
- en: '![](img/00366.gif)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00366.gif)'
- en: The previous figure illustrates the pins connected with a USB cable. You need
    to find the baud rate, which is like the bit rate (number of bits per second),
    but it is the signal changes per second. In other words, it is the number of information
    changes as symbols per second. To identify the baud rate of a device, you can
    use a script developed by Craig Heffner from this GitHub link: [https://github.com/devttys0/baudrate/blob/master/baudrate.py](https://github.com/devttys0/baudrate/blob/master/baudrate.py).
    Once you get the suitable baud rate, you can connect to the device.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 上图说明了用USB电缆连接的引脚。您需要找到波特率，它类似于比特率（每秒的位数），但它是每秒的信号变化次数。换句话说，它是每秒符号的信息变化次数。要识别设备的波特率，您可以使用Craig
    Heffner在GitHub链接中开发的脚本：[https://github.com/devttys0/baudrate/blob/master/baudrate.py](https://github.com/devttys0/baudrate/blob/master/baudrate.py)。一旦获得合适的波特率，就可以连接到设备。
- en: Firmware
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 固件
- en: '**Firmware** is a set of software that takes control of the device''s hardware.
    Analyzing the firmware is a critical step for IoT penetration testing. In order
    to achieve that, you can use a lot of tools and utilities. One of them is **binwalk**,
    which is a great tool developed also by Craig Heffner that helps pentesters to
    analyze the firmware of an IoT device. You can simply grab it from this GitHub
    link: [https://github.com/ReFirmLabs/binwalk/blob/master/INSTALL.md](https://github.com/ReFirmLabs/binwalk/blob/master/INSTALL.md).
    Let''s run the following commands:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 固件是一组软件，它控制设备的硬件。分析固件是物联网渗透测试的关键步骤。为了实现这一点，您可以使用许多工具和实用程序。其中之一是binwalk，这是一个由Craig
    Heffner开发的伟大工具，可以帮助渗透测试人员分析物联网设备的固件。您可以从以下GitHub链接获取它：[https://github.com/ReFirmLabs/binwalk/blob/master/INSTALL.md](https://github.com/ReFirmLabs/binwalk/blob/master/INSTALL.md)。让我们运行以下命令：
- en: '[PRE0]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Then, install it by using the following command:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，使用以下命令安装它：
- en: '[PRE1]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![](img/00367.jpeg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00367.jpeg)'
- en: 'If you are using Kali Linux Distribution, you can use binwalk directly by typing
    `binwalk` in the CLI:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用Kali Linux发行版，可以通过在CLI中键入`binwalk`来直接使用binwalk：
- en: '![](img/00368.jpeg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00368.jpeg)'
- en: 'For example, if you want to gather information about the Airlink 101 AR430W
    V1 router binary file using binwalk, use the following command:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果您想使用binwalk收集关于Airlink 101 AR430W V1路由器二进制文件的信息，请使用以下命令：
- en: '[PRE2]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![](img/00369.jpeg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00369.jpeg)'
- en: 'To extract files from the binary, add the `-e` option:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 要从二进制文件中提取文件，请添加`-e`选项：
- en: '![](img/00370.jpeg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00370.jpeg)'
- en: 'If you want to extract a specific file type, use the `-D` option:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想提取特定文件类型，请使用`-D`选项：
- en: '[PRE3]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'After extracting the files from the binaries, you can perform firmware analysis.
    If you want to automate the process, you can use **firmwalker** from [https://github.com/craigz28/firmwalker](https://github.com/craigz28/firmwalker):'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 从二进制文件中提取文件后，您可以进行固件分析。如果您想自动化这个过程，可以使用来自[https://github.com/craigz28/firmwalker](https://github.com/craigz28/firmwalker)的firmwalker：
- en: '![](img/00371.jpeg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00371.jpeg)'
- en: Web interfaces
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Web界面
- en: Insecure web interfaces present a huge risk for IoT projects. Many devices have
    integrated web servers, and like any other web server-app projects, they are vulnerable
    to web application attacks, and can be exploited. Not only are integrated web
    applications vulnerable, but also the lack of transport encryption is a dangerous
    move; thus, sent messages could be intercepted.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 不安全的Web界面对物联网项目构成巨大风险。许多设备都集成了Web服务器，就像任何其他Web服务器应用程序项目一样，它们容易受到Web应用程序攻击的影响，并且可以被利用。集成的Web应用程序不仅容易受攻击，而且缺乏传输加密也是一种危险的举动；因此，发送的消息可能会被拦截。
- en: Network services
  id: totrans-71
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络服务
- en: 'Network services are a necessity in any IoT project. As discussed in the previous
    sections, a typical IoT project could use many communication protocols, and these
    communications faces different threats: they are representing high-profile targets
    for attackers. For attackers, mapping the attack surfaces makes the hacking attempts
    more fruitful.'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 网络服务在任何物联网项目中都是必不可少的。如前几节所讨论的，典型的物联网项目可能使用许多通信协议，这些通信面临不同的威胁：它们是攻击者的高价值目标。对于攻击者来说，映射攻击面使得黑客尝试更加成功。
- en: Cloud interfaces and third-party API
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 云接口和第三方API
- en: IoT projects can use cloud interfaces and third-party APIs. They plays a major
    role in modern organizations and especially in IoT projects, while they ease a
    lot of cloud processes. That is why, as a penetration tester, you should take
    them into consideration. Sensitive data can be transferred via these channels,
    and many APIs are used for authentication and authorization. Thus, you need to
    ensure the security aspects of cloud interfaces and third-party APIs.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 物联网项目可以使用云接口和第三方API。它们在现代组织中尤其是在物联网项目中扮演着重要角色，同时它们简化了许多云处理过程。这就是为什么作为渗透测试人员，您应该考虑它们。敏感数据可以通过这些渠道传输，许多API用于身份验证和授权。因此，您需要确保云接口和第三方API的安全性。
- en: Case study – Mirai Botnet
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 案例研究 - Mirai僵尸网络
- en: 'To have a clearer understanding and conscience about the dangerous impact of
    insecure IoT, let''s dive into one of the catastrophic attacks that hit million
    of devices and users. It is **Mirai Botnet**. Mirai in Japanese means *the future*.
    It used millions of compromised devices to perform distributed **Denial of Service**
    (**DoS**) at about 665 GBs against many businesses and service providers, including
    DNS, Twitter, PayPal, reddit, Brian Krebs website, and many other well-known websites:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更清楚地了解和认识到不安全的物联网的危险影响，让我们深入了解一下影响数百万设备和用户的灾难性攻击之一。那就是Mirai僵尸网络。Mirai在日语中意味着“未来”。它使用数百万受损设备对许多企业和服务提供商进行了分布式拒绝服务（DoS）攻击，包括DNS、Twitter、PayPal、reddit、Brian
    Krebs网站和许多其他知名网站：
- en: '![](img/00372.jpeg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00372.jpeg)'
- en: The OWASP IoT Project
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: OWASP物联网项目
- en: In the first chapter, we saw the **Open Web Application Security Project** (**OWASP**)
    guidelines as one of the well-known web application security standards. They are
    also active, and they worked on a new list that represents the top 10 threats
    that face IoT projects. The 10 threats are mentioned next.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一章中，我们看到了**开放式Web应用程序安全项目**（**OWASP**）指南作为众所周知的Web应用程序安全标准之一。它们也是活跃的，并且他们正在制定一个新的列表，代表了面临物联网项目的前10个威胁。接下来将提到这10个威胁。
- en: Insecure web interface
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不安全的Web界面
- en: 'As discussed before, web interfaces are important in any IoT project. That
    is why insecure web interfaces are listed in the top 10 threats. To ensure that
    your IoT web interfaces are generally secure, use at least a web application vulnerability
    scanner. **Nikto** is one of the most commonly used tools to check web application
    security. If you are using Kali Linux, you are able to use it directly via your
    CLI. It is a built-in tool in Kali Linux:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，Web界面在任何物联网项目中都很重要。这就是为什么不安全的Web界面被列为前10个威胁之一。为了确保您的物联网Web界面通常是安全的，至少使用一个Web应用程序漏洞扫描程序。**Nikto**是最常用的用于检查Web应用程序安全性的工具之一。如果您使用Kali
    Linux，您可以直接通过CLI使用它。它是Kali Linux中的内置工具：
- en: '![](img/00373.jpeg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00373.jpeg)'
- en: 'If you want to scan your web application interface using Nikto, type the following
    command:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想使用Nikto扫描你的网络应用程序界面，请输入以下命令：
- en: '[PRE4]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'In the following example, we used the [www.example.com](http://www.example.com)
    website as a demonstration:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的例子中，我们使用[www.example.com](http://www.example.com)网站作为演示：
- en: '![](img/00374.jpeg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00374.jpeg)'
- en: Insufficient authentication/authorization
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不足的认证/授权
- en: 'Authentication issues present a real security concern for IoT devices. If interfaces
    are not secured with strong passwords, devices can be compromised. As you can
    see, even though the devices and appliances are new, attacking techniques are
    old. It is all about the behavior of the user. In order to avoid this type of
    attack, make sure that all the passwords are strong, and that you change every
    default password. As an example, you can use [https://howsecureismypassword.net/](https://howsecureismypassword.net/) to
    check your password''s strength:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 认证问题对物联网设备构成了真正的安全威胁。如果接口没有用强密码保护，设备可能会受到攻击。你可以看到，即使设备和家用电器是新的，攻击技术也是老的。这一切都取决于用户的行为。为了避免这种类型的攻击，确保所有密码都是强密码，并且更改每个默认密码。例如，你可以使用[https://howsecureismypassword.net/](https://howsecureismypassword.net/)来检查你密码的强度：
- en: '![](img/00375.jpeg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00375.jpeg)'
- en: Insecure network services
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不安全的网络服务
- en: Insecure network services could be exploited to compromise a device using external
    and internal means via the network, usually by identifying open ports using a
    port scanner. In this case, you need to ensure that only required ports are open.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 不安全的网络服务可能被利用来通过网络的外部和内部手段来妥协设备，通常是通过使用端口扫描器识别开放端口。在这种情况下，你需要确保只有必需的端口是开放的。
- en: Lack of transport encryption
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 缺乏传输加密
- en: 'Passing data as a plain text represents a huge risk for your IoT project. Encrypting
    data is always the best method to avoid data being intercepted. There are many
    standard encryption techniques and protocols, such as SSL and TLS. You can scan
    your project using a tool named `sslscan`, a built-in tool in Kali Linux:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 将数据作为纯文本传递代表着你的物联网项目面临巨大的风险。加密数据始终是避免数据被拦截的最佳方法。有许多标准的加密技术和协议，如SSL和TLS。你可以使用一个名为`sslscan`的工具来扫描你的项目，这是Kali
    Linux中的一个内置工具：
- en: '![](img/00376.jpeg)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00376.jpeg)'
- en: 'As a demonstration, this is a snippet from the output message of a scan:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 作为演示，这是扫描输出消息的一部分：
- en: '![](img/00377.jpeg)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00377.jpeg)'
- en: Privacy concerns
  id: totrans-97
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 隐私问题
- en: Many privacy issues could be identified as a threat for IoT projects. Being
    able to collect information about the used data, especially sensitive information,
    could be dangerous; also, getting information about the device's functionalities
    is dangerous.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 许多隐私问题可能会被视为物联网项目的威胁。能够收集有关使用数据的信息，特别是敏感信息，可能是危险的；同时，获取有关设备功能的信息也是危险的。
- en: Insecure cloud interface
  id: totrans-99
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不安全的云接口
- en: Cloud computing plays a major role in modern IoT projects. Ensuring that cloud
    interfaces are secure is a must. As security measures, you need to mitigate abnormal
    behaviors and implement an account lockout mechanism at least.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 云计算在现代物联网项目中扮演着重要的角色。确保云接口是安全的是必须的。作为安全措施，你需要减轻异常行为，并至少实施一个账户锁定机制。
- en: Insecure mobile interface
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不安全的移动接口
- en: Mobile applications are very important. Insecure mobile interfaces could put
    the IoT project in danger. Unencrypted data can be intercepted by attackers.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 移动应用程序非常重要。不安全的移动接口可能会使物联网项目陷入危险。未加密的数据可能会被攻击者拦截。
- en: Insufficient security configurability
  id: totrans-103
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不足的安全可配置性
- en: Many measures need to be taken when it comes to configurations. Separating admin
    panels and interfaces, logging security events, and enabling alerts are wise decisions
    to avoid the insufficient security configurability.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 在配置方面需要采取许多措施。分离管理面板和接口，记录安全事件，并启用警报是避免不足的安全可配置性的明智决定。
- en: Insecure software/firmware
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不安全的软件/固件
- en: In the previous sections, we discussed firmware threats because you know that
    it is a software, and every software can be exploited. Firmware analysis using
    static and dynamic analysis is always a great move to harden your firmware.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的部分中，我们讨论了固件威胁，因为你知道它是软件，每个软件都可以被利用。使用静态和动态分析进行固件分析总是加固固件的一个好方法。
- en: Poor physical security
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 差劲的物理安全
- en: Don't forget physical security. Access to the device could be a threat for your
    project. Exposing devices and misplacing them can be dangerous. If you leave your
    devices exposed to anyone, they can be disassembled or accessed via open interfaces,
    such as USBs.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 不要忘记物理安全。对设备的访问可能对你的项目构成威胁。暴露设备和错误放置它们可能是危险的。如果你把你的设备暴露给任何人，他们可以被拆解或通过开放接口（如USB）访问。
- en: Hacking connected cars
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 黑客攻击连接的汽车
- en: 'IoT devices and home appliances are not the only victims of attacks. Recently,
    many researches show that connected cars could also be attacked. According to
    the *Vehicle Hacking Vulnerability Survey*, January 2016, 60% of millennials support
    vehicles becoming more connected. Modern connected cars are composed by many following
    units:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 物联网设备和家用电器并不是唯一受到攻击的受害者。最近的许多研究表明，连接的汽车也可能受到攻击。根据*汽车黑客攻击脆弱性调查*，2016年1月，60%的千禧一代支持汽车变得更加连接。现代连接的汽车由许多以下单元组成：
- en: Infotainment (The head unit)—sometimes called **engine control unit** (**ECU**)
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息娱乐（主机单元）-有时称为**发动机控制单元**（**ECU**）
- en: Telematics and connectivity forms
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 远程监控和连接形式
- en: GPS and navigation systems
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPS和导航系统
- en: Vehicle-to-vehicle communication systems
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 车辆对车辆通信系统
- en: Security and anti-theft systems
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全和防盗系统
- en: Sensors
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传感器
- en: Night vision
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 夜视
- en: 'Most connected cars include a controller area network that connects all the
    car''s components (sensors, airbags, and so on) with a central control unit. The
    standard of the controller area networks was accepted and published by ISO since
    1993:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数连接的汽车包括一个控制器区域网络，它将所有汽车的组件（传感器、气囊等）与中央控制单元连接起来。控制器区域网络的标准自1993年以来已被ISO接受和发布：
- en: '![](img/00378.jpeg)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00378.jpeg)'
- en: Threats to connected cars
  id: totrans-120
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 对连接的汽车的威胁
- en: 'Connected cars faces many threats from different attack vectors. Because, they
    are composed by many units; there is a variety of attack categories:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 连接的汽车面临来自不同攻击向量的许多威胁。因为它们由许多单元组成，所以存在各种攻击类别：
- en: Firmware attacks
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 固件攻击
- en: Operating system attacks
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 操作系统攻击
- en: Remote attacks on the CAN
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对CAN的远程攻击
- en: Compromised on OBD2
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OBD2受损
- en: Sniffing
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 嗅探
- en: Malicious downloaded applications
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 恶意下载的应用程序
- en: A Nissan Leaf was hacked via mobile application and a web browser as a security
    research. In February 2016, security researchers showed that Nissan could be accessed
    via the internet using Nissan's phone app.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 一辆日产Leaf被通过手机应用程序和网络浏览器进行了安全研究。2016年2月，安全研究人员展示了可以通过互联网使用日产手机应用程序访问日产汽车。
- en: Summary
  id: totrans-129
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: This chapter was a simple and clear guide to help developers, manufacturers,
    and penetration testers to build and secure IoT projects. We started by discovering
    the IoT ecosystem, and the different components of a typical IoT project. We saw
    the threats faced by an IoT project in addition to the required steps to ensure
    the security of an IoT environment. At this point, you acquired the technical
    skills and the suitable mindset to perform a penetration testing mission efficiently.
    You will now be able to protect modern organization infrastructure from today's
    threats and attacks, and deploy the suitable safeguards against these attacks.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 这一章是一个简单明了的指南，旨在帮助开发人员、制造商和渗透测试人员构建和保护物联网项目。我们首先发现了物联网生态系统，以及典型物联网项目的不同组成部分。我们看到了物联网项目面临的威胁，以及确保物联网环境安全所需的步骤。在这一点上，您已经掌握了执行渗透测试任务所需的技术技能和适当的心态。现在，您将能够保护现代组织基础设施免受当今的威胁和攻击，并部署适当的防护措施来抵御这些攻击。
