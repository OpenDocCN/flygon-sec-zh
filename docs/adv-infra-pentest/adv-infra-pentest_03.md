# 企业网络和数据库利用

在上一章中，我们有机会学习如何攻击和保护 Linux 基础设施。现在，是时候扩展我们的技能，获得渗透企业网络和数据库所需的知识和实践经验了。

本章涵盖的主题有：

+   网络扫描的高级主题

+   不安全的 SNMP 配置

+   数据库服务器的利用

在深入研究之前，让我们从一些基础知识开始。

# 网络基础知识

要了解如何攻击企业网络，您必须学习一些重要的网络术语。

# 网络拓扑

网络的示意图描述被称为拓扑。它指的是网络中不同设备的布局。网络组件的排列可以是物理的或逻辑的。有许多网络拓扑：总线、网状、星型、环形、树状和混合。

# 总线拓扑

总线拓扑代表所有网络组件都使用中心连接连接的布局，有时被称为骨干。这种拓扑类型非常经济实惠，因为它使用单个可扩展电缆。对于小型网络来说是一个不错的选择，但当电缆出现故障时，所有连接的设备都会出现故障。作为网络架构师，最好避免单点故障的方法。**总线拓扑**如下所示：

![](img/00066.jpeg)

# 星型拓扑

星型拓扑指的是将所有设备连接到一个单个集线器，这是一个具有专用连接到每个设备的中心节点。集线器的作用是重复数据流。它易于管理和故障排除，但与其他拓扑相比有点昂贵。**星型拓扑**如下所示：

![](img/00067.jpeg)

# 环形拓扑

环形拓扑代表数据传输沿着一个方向进行的环形布局。它代表了单点故障，就像总线拓扑一样。**环形拓扑**如下所示：

![](img/00068.jpeg)

# 树状拓扑

树状拓扑是一种分层布局。您可以将其视为总线拓扑和星型拓扑的组合。有时，它被认为是星型拓扑的另一种形式。它包含一个根节点和其他设备，是一个适合分组工作空间的选择，但是布线很重。**树状拓扑**如下所示：

![](img/00069.jpeg)

# 网状拓扑

在网状拓扑中，每个连接的设备都使用点对点连接与网络中的其他设备相连。这种拓扑类型很昂贵，但在冗余架构中推荐使用，因为如果一个设备出现故障，数据会传输到另一台机器，通常使用最短的路径。**网状拓扑**如下所示：

![](img/00070.jpeg)

# 混合拓扑

混合拓扑是先前讨论的至少两种拓扑的组合。根据您的需求，您可以选择一些拓扑来满足不同部门的需求。它是有效和灵活的。

# 传输模式

在学习了网络的不同拓扑之后，现在让我们看看两个不同设备之间的数据是如何传输的。在通信方面，我们有三个主要的传输类别：

+   **简单模式**：当数据只在一个方向流动时出现。这种类型广泛用于电视广播（您只能从源发送数据到监视器，而不能反过来）。

+   **半双工模式**：在这种传输类型中，数据一次只能在一个方向上使用单一通信方式进行传输，就像乒乓模式；您不能同时发送和接收消息。

+   **全双工模式**：当数据流是双向和同时进行时使用的模式，就像电话网络中使用的模式。

我们看到了传输操作的“如何”，现在让我们看看“什么”; 换句话说，传输的不同方式。有两种传输类型：

+   **有界手段**：数据通过三种类型的物理电缆传输 - 同轴电缆，光纤和双绞线

+   **无界手段**：数据以无线电和微波信号传输

# 通信网络

有许多类型的通信网络。

# 局域网

**局域网**（**LAN**）用于小范围，如小型办公室或建筑物。对于网络设计，可以使用之前讨论的任何拓扑结构。这种类型的网络易于故障排除，并且在共享环境中经常使用（打印机，计算机等）。这里有一个例子：

![](img/00071.jpeg)

# 都市区域网络

**都市区域网络**（**MAN**）比 LAN 大，但它是可扩展的，因为它可以在更大的距离上使用，例如在同一城市的两个办公室之间。中间可能是另一家公司和服务（例如当地电话交换）。

# 广域网

**广域网**（**WAN**）用于涉及较大距离的情况。一般来说，它用于互联网连接不同的方。以下图总结了不同类别之间的区别：

![](img/00072.jpeg)

# 个人区域网络

**个人区域网络**（**PAN**）是短距离无线网络。一般来说，PAN 的范围小于一个房间。最著名的 PAN 是蓝牙。

# 无线网络

无线网络是减少网络成本的好方法，通过用无线电波替代物理电缆。

# 数据中心多层模型设计

数据中心多层模型设计是现代组织数据中心中广泛使用的模型。这种拓扑结构非常灵活但昂贵。这种多层架构基于三个主要层：**核心**，**聚合**和**接入**：

+   **核心层**：此层被称为骨干，因为它确保使用高数据传输速率可靠地传递数据包。

+   **聚合层**：有时被称为工作组层，因为它确保组织的子网和虚拟局域网之间的数据包正确路由。它可能包括防火墙，**服务质量**（**QoS**）和许多其他基于策略的网络连接。

+   **接入层**：此层负责将端点和工作站连接到网络。

这些层次在这里显示：

![](img/00073.jpeg)

# 开放系统互连模型

网络是每个现代组织和个人的重要组成部分。为了促进数据通信和处理，**开放系统互连**（**OSI**）标准化模型已经发展。数据在网络中按特定顺序移动。这个顺序由七个步骤和层次表示；OSI 模型包含七层。您可以使用这个短语从上到下记住层次：*所有人似乎都需要数据处理*：

+   **应用层**：此层包含软件应用程序所需的所有服务。

+   **表示层**：这一层主要负责数据的呈现方式。操作可能包括压缩和加密。

+   **会话层**：此层提供主机之间的通信程序（开始会话，重新启动，终止等）。

+   **传输层**：此层管理发送数据的可靠性传输。

+   **网络层**：此层处理数据的路由操作，特别是使用逻辑地址（称为 IP 地址）在网络之间传输数据包。路由器是网络层设备。

+   **数据链路层**：此层负责为组织网络建立连接。它包含两个不同的子层：**逻辑链路控制**（**LLC**）用于流量控制和纠错，以及**媒体访问控制**（**MAC**）确定帧的流动。交换机是数据链路层设备。

+   **物理层**：该层处理数据的硬件手段（电缆、电气方面等）的移动（发送和接收）。例如，集线器是一个物理层设备。

从数据到位的移动过程称为**封装**。相反的操作称为去封装。

OSI 模型如下所示：

![](img/00074.jpeg)

# 深入的网络扫描

扫描是黑客过程中的重要步骤。在本节中，您将学习如何扫描和映射网络。网络扫描的目的是识别活动主机，包括它们的网络服务。但在深入研究网络扫描技术之前，让我们从基本的 TCP 通信序列开始。

# TCP 通信

**传输控制协议**（**TCP**）是最著名的互联网协议之一。它用于可靠的主机到主机通信，是一种面向连接的协议。这意味着连接保持到消息完全传输。TCP 通信由称为控制位的 TCP 标志处理，以结构化格式称为 TCP 头。控制位包括 URG、SYN、PSH、RST 和 FIN**。**

+   **SYN**：开始连接

+   **ACK**：确认接收

+   **RST**：重置连接

+   **FIN**：完成接收

+   **URG**：表示紧急处理

+   **PSH**：立即发送

数据交换是通过三次握手技术完成的，如下所示。第一步是客户端向服务器发送一个**SYN**数据包。如果目标端口是打开的，服务器将以**SYN-ACK**数据包做出响应。最后，服务器接收到一个**ACK**数据包，连接建立：

![](img/00075.jpeg)

# ICMP 扫描

**Internet Control Message Protocol**（**ICMP**）类似于 TCP 协议；两者都支持互联网协议套件中的协议。ICMP 用于检查活动系统；ping 是使用 ICMP 请求的最著名的实用程序。其原理非常简单——ICMP 扫描向主机发送请求，并等待回显请求以检查系统是否存活。这里显示了 ping 扫描的示例：`ping <target>`：

![](img/00076.gif)

ping 扫描是一种 ICMP 扫描技术，但它扫描一系列 IP 地址。

有许多 TCP 服务扫描技术，例如：

+   **全开放扫描**：当三次握手完成时执行此操作（完整连接）。

+   **半开放扫描**：有时被称为隐形扫描，只执行三次握手的前半部分。

+   **FIN 扫描**：在 FIN 扫描期间，攻击者发送一个 FIN 数据包。如果没有响应，那么端口是打开的，或者已被放置的防火墙拦截。

+   **NULL 扫描**：要执行 NULL 扫描，攻击者发送一系列不带标志的 TCP 数据包。如果端口是打开的，目标将丢弃数据包。

# SSDP 扫描

**简单服务发现协议**（**SSDP**）是用于发现直接连接设备的网络协议。该协议使用 UDP，使用即插即用设备以交换数据。它在端口`1900`上运行。

# UDP 扫描

**用户数据报协议**（**UDP**）是互联网协议套件的一部分。它是 TCP 的替代方案，但不可靠。它只是发送数据包而不等待确认。UDP 头有四个 2 字节字段：

+   源端口

+   目的地端口

+   UDP 长度

+   UDP 校验和

在 UDP 扫描期间，将 UDP 数据包发送到主机的 UDP 端口。如果没有响应，那么端口是打开的，否则将收到“目的地不可达”的错误。

**Nmap**是最著名的开源网络发现和映射工具。它是一个非常灵活、强大且文档完备的实用工具。您可以从以下网址下载：[`nmap.org/download.html`](https://nmap.org/download.html)。

以下截图显示了 Nmap 的图形用户界面模式**Zenmap**的主界面：

![](img/00077.jpeg)

要使用 nmap，只需使用以下命令：

```
nmap <options> <Target>
```

这是网络扫描中一些有用的选项：

+   `-p`：用于扫描一个端口

+   `-F`：用于快速扫描（使用最常见的端口）

+   `-p-`：用于扫描所有端口

+   `-sT`：用于 TCP 扫描

+   `-sU`：用于 UDP 扫描

+   `-A`：用于识别操作系统和服务

+   `-sN`：用于空扫描

+   `-SF`：用于 FIN 扫描

此外，您可以使用一个 Nmap 脚本（.nse），例如：`nmap -sV -p 443 –script=ssl-heartbleed.nse <目标>`

# 入侵检测系统

入侵检测系统（IDS）用于保护组织网络的受限访问。它们可以由软件或硬件组成。有两种类型的 IDS：

+   基于主机的入侵检测系统：该系统跟踪主机的行为，以便发现任何可疑活动

+   基于网络的入侵检测系统：该系统分析网络流量以发现任何入侵并产生警报

IDS 使用两种检测方法：

+   基于签名的检测：与防病毒产品类似，这种检测基于预定义的模式，如序列和签名。

+   基于异常的检测：这种检测方法基于活动行为。它是一种动态方法，根据先前已知的攻击检测异常和可疑活动。

# 用于入侵检测的机器学习

机器学习显然是当前科技行业最热门的趋势，这要归功于许多组织收集的大量数据。它非常强大，可以基于大数据做出决策和预测。欺诈检测、自然语言处理、自动驾驶汽车和图像识别是机器学习应用的一些例子。机器学习是统计学、计算机科学、线性代数和数学优化方法的结合。以下图表说明了传统编程和机器学习之间的区别：

![](img/00078.gif)

机器学习是研究和创建能够从数据中学习并进行预测的算法。根据卡内基梅隆大学（CMU）的教授汤姆·米切尔（Tom Mitchell）的说法，如果计算机程序在某类任务 T 的性能 P，随着经验 E 的增加而提高，那么就说它从经验 E 中学习。例如，在语音识别中，任务 T 是正确识别单词，性能度量 P 是成功识别的单词数量，经验 E 是一组口语单词的数据集。机器学习可以分为四种模型：监督学习、无监督学习、半监督学习和强化学习。

# 监督学习

监督学习用于当我们有输入变量（I）和输出变量（O）时，需要将函数从输入映射到输出，作为学习算法。监督学习可以分为两类：分类，当输出是一个类别时使用；回归，当输出是一个实际值时使用。以下是一些监督机器学习算法：

+   决策树：决策树是一种机器学习算法，它使用类似树状图的结构和可能的输出。这些输出可以是 YES/NO 或连续变量。这个算法有四个重要术语：

+   +   根节点：这代表所有数据

+   分割：这是将节点分成子节点的操作

+   决策节点：这可以分成其他子节点

+   叶节点：这是最终可分割的节点（也称为终端节点）

+   朴素贝叶斯分类：朴素贝叶斯分类器是基于贝叶斯定理的多个概率分类器，用于预测给定样本的类别。例如，它用于检查电子邮件是否为垃圾邮件。以下是贝叶斯定理：

![](img/00079.jpeg)

+   **支持向量机**：**支持向量机**（**SVM**）是一种二元分类算法。它用于找到我们称之为分离超平面的分离数据。它被定义为一个超平面，而不是一个简单的线，因为我们谈论的是多维空间。

# 无监督学习

无监督学习在只有输入数据（*X*）而没有相应输出变量的情况下非常有用。无监督学习算法的一个例子是聚类，即将一组对象分组，使得同一组（簇）中的对象彼此之间的相似性大于与其他组中的对象的相似性，如下所示：

![](img/00080.gif)

# 半监督学习

半监督学习是在我们有大量输入数据（*I*）和少量输出变量（*O*）时使用的。我们可以将其视为介于监督学习和无监督学习之间，因此我们可以使用这两种模型中的技术。

# 强化

强化是在基于与环境的交互中改善其性能的代理或系统中使用的，包括奖励函数。

# 机器学习系统的工作流程

每个机器学习项目都应该遵循特定的步骤来实现其目标。第一步是数据处理——在这一步中，我们需要从原始数据中提取有意义的特征。这一步非常关键，因为需要良好的特征工程来构建一个好的机器学习模型。处理完数据后，我们必须训练并选择最适合我们情况的预测模型。最后，在训练模型后，评估是一个重要的过程，我们在这一过程中检查训练模型预测新数据的准确性和性能。

基于机器学习的许多入侵检测系统已经开始出现。它们可以为检测未知威胁提供很好的解决方案，同时网络安全工程师可以从收集的数据中提取有用的特征并构建机器学习模型。信息安全专业人员和数据科学爱好者可以自由选择最方便的机器学习算法和模型，因此有各种探索过的机器学习入侵检测系统可用。其中之一是人工神经网络，特别是深度学习。

**人工智能**（**AI**）需要计算机模仿人类大脑的认知功能。第一个人工神经网络是在 1960 年左右引入的，2006 年，Geoffrey Hinton 提出了神经网络的第一个实现。人工神经网络的工作方式类似于人类大脑；它们由许多线性连接的神经元组成。它们接受输入并决定类别作为输出；换句话说，人工神经网络模拟了大脑的信息处理方式。人工神经网络试图像大脑一样工作，但大脑是如何工作的呢？

为了理解单层神经网络的工作原理，我们将比较生物神经元和人工感知器。神经元是神经系统的一部分，包括大脑。它使用电化学信号传递信息。典型的神经元具有从其他细胞传播信息到包含细胞核和单个轴突的细胞体的树突。

使用大脑行为的类比，人工神经元的行为方式与生物神经元相同，因此输入是一个通常与输出节点完全连接的多变量向量。输出节点取所有输入的和，并应用我们称之为激活函数的函数。激活函数类似于一个决策函数，它选择要传递的内容和要阻止的内容。

多层神经网络是具有至少三层节点的人工神经网络；它们包含许多感知器。中间的层被称为隐藏层。

有许多类型的人工网络：

+   **卷积神经网络**（**CNN**）：通过输入层传递大量信息可能会导致问题，例如，在图像识别中传递大图像的每个像素并不是一个有效的解决方案。这就是为什么我们需要一种称为卷积神经网络的神经网络类型，它由卷积层和池化层（有时称为采样层）以及输入和输出层组成。

+   **递归神经网络**（**RNN**）：RNN 是一种神经网络，用于输入是顺序信息且输入和输出彼此独立的情况。通常，它非常受欢迎，用于处理自然语言处理任务。RNN 具有一个记忆，可以捕获到目前为止计算的信息。

# 机器学习模型评估指标

要评估机器学习模型，我们需要一些指标。有许多衡量分类性能的方法。准确率、F1 分数、精确度、召回率是评估机器学习模型的一些常用指标。它们是基于四个参数计算的：假阳性、假阴性、真阳性和真阴性。混淆矩阵是一个经常用来描述分类模型性能的表，基于讨论的四个参数。

# 服务枚举

服务枚举是从目标中提取有关正在运行的服务的信息的操作，以探索可能危害系统的攻击向量，例如机器的主机名、网络服务、服务设置以及有关 SNMP 和 DNS 的详细信息。以下各小节详细讨论了如何枚举和利用两种不同的网络服务：SNMP 和 DNS。

# 不安全的 SNMP 配置

**简单网络管理协议**（**SNMP**）是一种管理网络设备的协议；它运行在**UDP**上。每个网络设备都包含一个连接到独立 SNMP 管理器的 SNMP 代理。该协议使用两个认证密码：第一个是用于查看配置的公钥，第二个是用于配置设备的私钥。网络节点存储在名为**管理信息库**（**MIB**）的数据库中，以树结构的形式。例如，攻击者可以枚举 SNMP 服务以检查默认的 SNMP 密码或对其进行暴力破解。

Nmap 在 SNMP 渗透测试中非常有用，因为它加载了非常有用的`.nse`脚本，例如：

+   `snmp-info.nse`

+   `snmp-netstat.nse`

+   `snmp-brute.nse`

+   `snmp-interfaces.nse`

+   `snmp-processes.nse`

要防御 SNMP 攻击，我们需要：

+   更改默认密码

+   阻止对 UDP 端口`161`的访问

+   使用 SNMPv3 解密密码

+   仅使用所需的 SNMP 代理

# DNS 安全

**域名系统**（**DNS**）是由美国科学家 Paul Mockapetris 和 Jon Postel 于 1983 年开发的。我们都知道使用 IP 地址记住网站很困难，因此需要更简单的命名服务。这就是 DNS 的目标，它提供了基于名称而不是 IP 地址的命名结构。这里的图表显示了 DNS 的不同步骤：

![](img/00081.jpeg)

DNS 数据分布在全球许多位置，基于特定的层次结构，以确保更快的信息传输。一般来说，我们有根域（13）、顶级域和二级域：

![](img/00082.jpeg)

**完全合格域名**（**FQDN**）格式为：`<主机名>.<域名>`

要测试区域传输，可以使用主机实用程序：

![](img/00083.jpeg)

# DNS 攻击

DNS 面临着各种恶意攻击。以下是一些 DNS 攻击：

+   **单点故障**：一个故障可能导致整个系统同时停止

+   **中间人（MITM）攻击**：在此攻击期间，攻击者拦截流量

+   **DNS 缓存投毒**：在这里，攻击者将受害者重定向到恶意服务器

+   **Kaminsky DNS 漏洞**：这个漏洞可能允许攻击者将网络客户端重定向到他自己选择的备用服务器，可能是出于不良目的

+   **动态 DNS（DDNS）：**恶意软件开发者使用 DDNS 快速更改地址

+   **分布式拒绝服务（DDoS）攻击：**攻击者会向目标系统发送未处理的请求

# 嗅探攻击

嗅探是通过将**网络接口卡**（**NIC**）切换到混杂模式来拦截网络流量的过程，以便能够嗅探传输的数据。有两种类型的网络嗅探 - 主动和被动嗅探：

+   **被动嗅探：**这发生在集线器设备或交换机上，而不需要注入任何额外的数据包。

+   **主动嗅探：**通过向网络中注入**地址解析协议**（**ARP**）数据包来完成。以下是一些主动网络嗅探攻击：

+   MAC 洪水攻击 - 这是将 CAM 表用随机数据淹没直到其满的过程

+   交换机端口窃取

这两种先前的攻击可以通过只允许交换机端口上的一个 MAC 地址并实施端口安全来避免。

+   **ARP 毒化：**ARP 用于解析 MAC 地址。攻击者可以伪造 ARP 请求来淹没交换机。当他们淹没 ARP 缓存时，就称为毒化。

+   **MAC 欺骗：**这是嗅探 MAC 地址并在另一个上下文中使用它的行为。为了防御这种攻击，您需要阻止未在绑定表中提到的流量。这是一个图解的嗅探攻击

![](img/00084.jpeg)

通常，为了防御嗅探攻击，我们需要按照以下步骤进行：

+   使用安全协议，如 SFTP 和 HTTPS，而不是 FTP 和 HTTP

+   使用 SSH 和安全协议（IPSec）

+   从网络接口卡识别 MAC 地址

+   始终检查是否有一台机器正在使用混杂模式

+   部署 IDS

Wireshark 是一个用于故障排除网络问题的知名工具。要下载它，请访问 [`www.wireshark.org/download.html`](https://www.wireshark.org/download.html)。

![](img/00085.jpeg)

选择您的版本并将其安装在您的计算机上：

![](img/00086.jpeg)

恭喜！您可以使用它来分析网络上的所有流量。选择您的网络卡：

![](img/00087.jpeg)

现在，你已经准备好去探索它了：

![](img/00088.jpeg)

# DDoS 攻击

DDoS 攻击发生在被感染的设备淹没目标系统的网络流量时。这种类型的攻击威胁了系统的可用性。在涉及 DDoS 攻击时，有四种攻击向量：

+   **容量攻击：**这会使用组织的带宽来淹没受害者。

+   **分段攻击：**这种攻击利用数据报分段机制，阻止分段数据包的重新组装。也称为 TearDrop 攻击。

+   **TCP 状态耗尽攻击**：这种攻击耗尽了 Web 服务器、负载均衡器和防火墙支持的并发连接数。

+   **应用层攻击：**利用应用程序的弱点来禁用服务。如下图所示，攻击者利用被感染的主机（也称为僵尸）对目标进行 DDoS 攻击。

![](img/00089.jpeg)

# DDoS 攻击类型

**SYN 洪水攻击：**当攻击者发送 SYN 请求而不回复确认时，就会发生这种情况。

**ICMP 洪水攻击：**这是向服务器发送 ICMP 请求而不等待响应的过程。Smurf 攻击、ICMP 洪水和 ping 洪水是 ICMP 洪水攻击的形式。作为演示，您可以尝试使用以下命令的 hping3 实用程序：

```
hping3 -S --flood -V www.example.com
```

其中 `-flood` 表示洪水模式（发送请求而不等待响应），`-S` 代表 SYN 请求选项：

![](img/00090.gif)

**应用洪水攻击：**这种攻击针对应用程序，以便丢失或降低在线服务。攻击会淹没应用程序，使其无法正确处理请求。

**僵尸网络**：这些是一组被攻陷的机器，通常由**命令和控制**（**C2C**）通道控制。

# 对抗 DDoS 攻击

以下是一些用于对抗**DDoS**攻击的对策：

+   实施检测机制，特别是信号分析技术

+   部署高可用解决方案和冗余资源

+   禁用非必需的服务

+   流量模式分析

# DDoS 清洗中心

在数据中心规模上，实施 DDoS 清洗中心是防御 DDoS 攻击的明智决定，其中流量被分析，正常流量被传回网络。通常，这个中央站被大规模企业如互联网服务和云提供商使用：

![](img/00091.jpeg)

# 软件定义网络渗透测试

**软件定义网络**（**SDN**）是一种具有集中式完全可编程控制器的网络架构，该控制器可以看到网络的所有路径和设备的视图。这就是为什么它被认为是一个单一的配置点。这种巨大的自动化转变为企业网络增加了巨大的价值。下图表示了不同的 SDN 层以及它们之间的交互：

![](img/00092.jpeg)

在经典的网络堆栈中，每个组件都实现了两个方面：控制和数据实体。但在 SDN 中，我们隔离了这两个面板。以下图表说明了两种网络方法之间的差异：

![](img/00093.jpeg)

有三种主要的 SDN 模型：

+   网络虚拟化模型

+   进化模型

+   OpenFlow 模型

典型的 SDN 架构由以下三个主要组件组成：

+   **SDN 控制器**：这是一个智能的逻辑实体，负责控制应用程序和设备之间的操作，以维护对企业网络的全局视图

+   **SDN 网络设备**：这些设备负责在网络中转发和处理数据

+   **SDN 应用程序**：这些是通过 API 向 SDN 控制器发送所需操作的程序

# SDN 攻击

这种新的网络模型是最近的，但现在它是攻击者的高价值目标。正如之前讨论的，我们说单一的控制点对资产来说是一个巨大的威胁。SDN 带来了单一的控制点；这就是为什么伟大的力量伴随着伟大的责任。如果攻击者成功地 compromise 了一个 SDN，他们将控制整个网络。另一个攻击向量是 SDN 应用程序；最终，它们是程序，因此任何软件故障或糟糕的编写代码都可能导致系统妥协。DDoS 攻击和嗅探也是对 SDN 造成真正威胁的东西，可以破坏整个网络。以下插图描述了不同模型层中的一些攻击：

![](img/00094.jpeg)

# SDN 渗透测试

作为渗透测试人员，您的角色是模拟 SDN 攻击，以尝试识别弱点。目前有许多 SDN 渗透测试框架。

# DELTA：SDN 安全评估框架

DELTA：SDN 安全评估框架是基于攻击场景的安全框架。它还提供了在未知 SDN 攻击情况下的模糊技术。它包含以下四个代理，如下所示：

+   **Agent Manager**

+   **应用程序代理**

+   **Channel Agent**

+   **主机代理**

![](img/00095.jpeg)

您可以使用以下命令通过 GitHub 克隆 DELTA 框架：

```
$ git clone https://github.com/OpenNetworkingFoundation/DELTA.git 
```

这是 DELTA 框架的主要架构：

![](img/00096.jpeg)

# SDNPWN

SDNPWN 是一个用于测试 SDN 安全性的工具包。它提供了一个简单的命令行工具来测试 SDN 攻击。要下载 SDNPWN，您可以通过输入以下命令克隆存储库：

```
git clone https://github.com/smythtech/sdnpwn
```

您可以在执行脚本后使用工具包。

```
./sdnpwn.py <module name> <module options>
```

您可以通过执行其模块来选择攻击。这些是一些可用的模块：

`[*] 可用模块：``[+] arpmon``[+] controller-detect``[+] dp-arp-poison``[+] dp-mitm``[+] help``[+] host-location-hijack``[+] info``[+] lfa-relay``[+] lfa-scapy``[+] lldp-replay``[+] mods``[+] of-gen``[+] of-switch``[+] phantom-host-scan``[+] phantom-storm``[+] sdn-detect``[+] system`

# 数据库服务器的攻击

数据库是每个组织中至关重要的组成部分。它们是攻击者的严重目标，因为它们包含敏感数据。数据库面临许多严重的威胁；以下是一些数据库攻击：

+   **过多的权限**：这是一种攻击，攻击者获得未经授权的权限来访问机密信息。

+   **SQL 注入**：这是一种利用 Web 应用程序中的漏洞进行的服务器端攻击，以发送未经授权的数据库查询。

+   **弱身份验证**：攻击者可以利用社会工程攻击和暴力破解来访问密码弱的情况。

+   **备份数据的暴露**：非加密备份对组织构成真正的危险。所有备份都需要加密。

# 总结

在本章中，我们介绍了通过理解网络概念和实际经验来保护组织网络的基本技能，以应对网络入侵。本章不仅使您能够抵御现代网络攻击，还使您能够准备好保护下一代网络技术，以 SDN 为案例研究。下一章将带您了解现代企业中的另一个重要组成部分。您将面临 Microsoft Active Directory 的威胁，并通过获得需求量大的技能来保护 Active Directory 而变得更加强大。
