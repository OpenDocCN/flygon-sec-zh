# 前言

在网络安全和 Python 编程领域有这么多优秀的书籍，都是由聪明的人写成的，那么这本书有什么不同的特点呢？这是一个非常合理的问题，现在让我们来试着回答一下。

这本书试图捕捉我在过去几年中使用 Python 和渗透测试领域所积累的实践经验。它是 Python、渗透测试/攻击性安全、防御性安全和机器学习在渗透测试生态系统中独特的融合。本书以温和的方式开始，涵盖了 Python 的所有关键概念，使读者在前四章结束时能够对 Python 有相当不错的掌握，然后深入研究渗透测试和网络安全用例的自动化。读者将了解如何从头开始开发符合行业标准的漏洞扫描器，与 Nessus 和 Qualys 相同。本书还探讨了有关 Web 应用程序漏洞、它们的利用以及如何使用定制的利用程序自动化 Web 利用的概念。它还深入探讨了反向工程、模糊测试和在 Windows 和 Linux 环境中的缓冲区溢出漏洞，以 Python 作为核心。书中有一个专门讨论自定义利用程序开发的部分，重点是规避反病毒检测。本书还有一个专门讨论开发网络爬虫及其在网络安全领域中的利用的章节。本书还对防御性安全概念提供了相当深入的见解，讨论了网络威胁情报，以及如何开发自定义威胁评分算法。本书最后还介绍了 Python 的许多其他有益用例，比如开发自定义键盘记录器。

# 这本书适合谁

如果你是一名安全顾问、开发人员或者对 Python 知之甚少的网络安全爱好者，并且需要深入了解渗透测试生态系统和 Python 如何结合创建攻击工具、利用漏洞、自动化网络安全用例等等，那么这本书适合你。《Python 实战渗透测试》指导你深入了解 Python 在网络安全和渗透测试中的高级用法，帮助你更好地了解基础设施中的安全漏洞。

# 这本书涵盖了什么

第一章，*Python 简介*，介绍了 Python 的基础知识，主要关注 Python 使用的数据类型、变量、表达式和程序结构。其目标是让读者熟悉 Python 编程语言的基础知识，以便在接下来的章节中使用和利用它。

第二章，*构建 Python 脚本*，涵盖了 Python 的进一步概念，这些概念构成了编写 Python 脚本的基础，同时探讨了函数、模块、循环、包和导入等概念。

第三章，*概念处理*，向读者介绍了其他与 Python 相关的概念，包括类、对象、IO 和目录访问、正则表达式、异常处理以及 CSV、JSON 和 XML 文件的解析。

第四章，*高级 Python 模块*，将学习过程提升到一个高级水平，探索了 Python 的强大之处，理解了多进程和多线程概念，以及套接字编程。

第五章，“漏洞扫描器 Python-第 1 部分”，探讨了制作迷你漏洞扫描引擎所需的高级概念，该引擎将使用自定义端口扫描程序构建在 Nmap 上的端口扫描结果，并应用各种开源脚本和 Metasploit 模块，以及 Python、Ruby 和 NSE 脚本。结果将被汇总，最终将为分析师起草报告。这一章在复杂性和代码行数方面非常庞大，分为两部分。本部分侧重于使用 Python 自动化端口扫描。

第六章，“漏洞扫描器 Python-第 2 部分”，探讨了制作迷你漏洞扫描引擎所需的高级概念。这一章是前一章的延续，读者将学习如何协调各种 Kali Linux 工具，以便自动化服务枚举阶段的漏洞评估，从而完成定制漏洞扫描器的开发。

第七章，“机器学习和网络安全”，试图将网络安全领域与数据科学联系起来，并阐明我们如何使用机器学习和自然语言处理来自动化渗透测试的手动报告分析阶段。本章还将把之前的所有部分联系在一起，基于我们迄今所学的知识，制作一个迷你渗透测试工具包。

第八章，“自动化 Web 应用程序扫描-第 1 部分”，向读者解释了他们如何使用 Python 自动化各种 Web 应用程序攻击类型，其中一些最知名的包括 SQL 注入、XSS、CSRF 和点击劫持。

第九章，“自动化 Web 应用程序扫描-第 2 部分”，是前一章的延续。在这里，读者将了解如何使用 Python 开发自定义利用程序，利用 Web 应用程序最终为用户提供使用 Python 的 shell 访问权限。

第十章，“构建自定义爬虫”，解释了如何使用 Python 构建自定义爬虫，以便在应用程序中进行爬取，无论是否有身份验证，同时列出被测试应用程序的注入点和网页。爬虫的功能可以根据需求进行扩展和定制。

第十一章，“逆向工程 Linux 应用程序和缓冲区溢出”，解释了如何对 Linux 应用程序进行逆向工程。读者还将了解 Python 如何在帮助 Linux 环境中的缓冲区溢出漏洞方面发挥作用。该章还指导读者针对缓冲区溢出漏洞进行自定义利用程序开发。

第十二章，“逆向工程 Windows 应用程序”，解释了如何对 Windows 应用程序进行逆向工程，以及 Python 如何在帮助 Windows 环境中的缓冲区溢出漏洞方面发挥作用。该章还指导读者针对缓冲区溢出漏洞进行自定义利用程序开发。

第十三章，“利用开发”，解释了读者如何使用 Python 编写自己的利用程序，这些利用程序可以作为 Metasploit 模块进行扩展，并且还涵盖了编码 shell 以避免检测。

第十四章，*网络威胁情报*，指导读者如何使用 Python 进行网络威胁情报和威胁信息的收集、威胁评分，最后，如何利用获得的信息，使 SIEM、IPS 和 IDS 系统能够利用最新的威胁信息进行早期检测。

第十五章，*Python 的其他奇迹*，介绍了如何使用 Python 提取 Google 浏览器保存的密码，开发自定义键盘记录器，解析 Nessus 和 Nmap 报告文件等。

# 为了充分利用本书

为了充分利用本书，只需要有一个继续前进并详细理解每个概念的愿望。

# 下载示例代码文件

您可以从您在[www.packt.com](http://www.packt.com)的帐户中下载本书的示例代码文件。如果您在其他地方购买了本书，您可以访问[www.packt.com/support](http://www.packt.com/support)并注册，以便文件直接通过电子邮件发送给您。

您可以按照以下步骤下载代码文件：

1.  在[www.packt.com](http://www.packt.com)上登录或注册。

1.  选择支持选项卡。

1.  点击代码下载和勘误。

1.  在搜索框中输入书名，然后按照屏幕上的说明操作。

下载文件后，请确保您使用最新版本的解压或提取文件夹：

+   Windows 的 WinRAR/7-Zip

+   Mac 的 Zipeg/iZip/UnRarX

+   Linux 的 7-Zip/PeaZip

本书的代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/Hands-On-Penetration-Testing-with-Python`](https://github.com/PacktPublishing/Hands-On-Penetration-Testing-with-Python)。如果代码有更新，将在现有的 GitHub 存储库上进行更新。

我们还提供了来自我们丰富书籍和视频目录的其他代码包，可以在**[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)**上找到。请查看！

# 下载彩色图片

我们还提供了一个 PDF 文件，其中包含本书中使用的屏幕截图/图表的彩色图片。您可以在这里下载：[`www.packtpub.com/sites/default/files/downloads/9781788990820_ColorImages.pdf`](http://www.packtpub.com/sites/default/files/downloads/9781788990820_ColorImages.pdf)。

# 使用的约定

本书中使用了许多文本约定。

`CodeInText`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄。例如："要使用 Python 终端，只需在终端提示符中键入`python3`命令。"

代码块设置如下：

```py
a=44
b=33
if a > b:
    print("a is greater")
print("End") 

```

当我们希望引起您对代码块的特定部分的注意时，相关行或项目将以粗体显示：

```py
my_list=[1,"a",[1,2,3],{"k1":"v1"}]
my_list[0] -> 1
my_List[1] -> "a"
my_list[2] -> [1,2,3]
my_list[2][0] -> 1
my_list[2][2] -> 3
my_list[3] -> {"k1":"v1"}
my_list[3]["k1"] -> "v1"
my_list[3].get("k1") -> "v1 

```

任何命令行输入或输出都以以下方式编写：

```py
import threading
>>> class a(threading.Thread):
... def __init__(self):
... threading.Thread.__init__(self)
... def run(self):
... print("Thread started")
... 
```

**粗体**：表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词会在文本中出现。例如："点击**开始爬取**按钮。"

警告或重要说明会出现在这样。

技巧和窍门会出现在这样。

# 联系我们

我们的读者的反馈总是受欢迎的。

**一般反馈**：如果您对本书的任何方面有疑问，请在消息主题中提及书名，并发送电子邮件至`customercare@packtpub.com`。

**勘误**：尽管我们已经尽最大努力确保内容的准确性，但错误确实会发生。如果您在本书中发现错误，我们将不胜感激地向我们报告。请访问[www.packt.com/submit-errata](http://www.packt.com/submit-errata)，选择您的书，点击勘误提交表格链接，然后输入详细信息。

盗版：如果您在互联网上发现我们作品的任何形式的非法副本，我们将不胜感激，如果您能向我们提供位置地址或网站名称。请通过`copyright@packt.com`与我们联系，并附上材料链接。

**如果您有兴趣成为作者**：如果您在某个专题上有专业知识，并且有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com/)。

# 评论

请留下评论。当您阅读并使用本书后，为什么不在购买书籍的网站上留下评论呢？潜在的读者可以看到并使用您公正的意见来做出购买决定，我们在 Packt 可以了解您对我们产品的看法，我们的作者也可以看到您对他们书籍的反馈。谢谢！

有关 Packt 的更多信息，请访问[packt.com](http://www.packt.com/)。

# 免责声明

本书中的信息仅供以合乎道德的方式使用。如果您没有设备所有者的书面许可，请不要使用本书中的任何信息。如果您进行非法行为，您有可能被逮捕并依法起诉。Packt Publishing 对您滥用本书中的任何信息不承担任何责任。本书中的信息只能在获得适当人员的书面授权的测试环境中使用。
