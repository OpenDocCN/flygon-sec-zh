- en: Getting Started with Wireless Attacks
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开始无线攻击
- en: The wireless industry continues to grow with an increasing number of wireless
    gadgets. An average family possesses access points, media centers, phones, consoles,
    PCs, and even security systems. Businesses rely on wireless networks for convenience
    as employees move around freely inside and even outside of the corporate building.
    The downside to being able to freely access the network is that it opens up the
    network to attacks through vulnerabilities. Thus, it is important for companies
    to identify and fix vulnerabilities in their wireless networks.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 无线行业继续增长，无线设备的数量不断增加。一般家庭拥有访问点、媒体中心、电话、游戏机、个人电脑，甚至安全系统。企业依赖无线网络以提高员工在公司内外自由移动的便利性。能够自由访问网络的缺点是，它使网络容易受到漏洞的攻击。因此，公司识别和修复无线网络中的漏洞是很重要的。
- en: In this chapter, you will learn about wireless attacks and how to execute them.
    We will discuss various components of a wireless packet, such as beacon frames,
    and what is contained within the packet. You will learn about the types of wireless
    adapters that can be used for wireless packet injection and monitoring. We will
    dive into various tools that can be used to perform different attacks. Finally,
    you will learn how to crack various wireless encryption protocols.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将学习无线攻击以及如何执行它们。我们将讨论无线数据包的各个组成部分，比如信标帧，以及数据包中包含的内容。您将了解可以用于无线数据包注入和监视的无线适配器的类型。我们将深入探讨可以用于执行不同攻击的各种工具。最后，您将学习如何破解各种无线加密协议。
- en: 'As you progress through the chapter, you will learn about the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 随着本章的进行，您将学习以下主题：
- en: Exploring wireless attacks
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索无线攻击
- en: Compatible hardware
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 兼容的硬件
- en: Wireless attack tools
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无线攻击工具
- en: Cracking WPA/WPA2 and WEP
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 破解WPA/WPA2和WEP
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'The following technical requirements are needed for this chapter:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 本章需要以下技术要求：
- en: Kali Linux 2019.1
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kali Linux 2019.1
- en: Compatible network card for packet injection
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 兼容数据包注入的网络适配卡
- en: Wireless router supporting WPA/WPA2 and WEP
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持WPA/WPA2和WEP的无线路由器
- en: Exploring wireless attacks
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索无线攻击
- en: Wireless networking has really evolved from a **nice to have** to a **must have**
    requirement in organizations. Wireless networks are available almost everywhere.
    For example, you probably have a wireless network running at home to facilitate
    internet access. This access connects devices such as mobile phones, smart TVs,
    media players, gaming consoles, tablets, and personal computers to the internet
    at all times. All your neighbors probably have similar setups.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 无线网络从一个“好有”发展到组织中的一个“必须有”的需求。无线网络几乎无处不在。例如，您可能在家里运行无线网络以便接入互联网。这种接入可以让移动电话、智能电视、媒体播放器、游戏机、平板电脑和个人电脑随时连接到互联网。您的邻居可能也有类似的设置。
- en: In enterprises, wireless networks are a powerful tool that boost productivity
    and promote the exchange of information. Employees can roam and have untethered access
    to shared documents, emails, applications, and other network resources. Wireless
    networks provide simplicity, ease of use, convenience to guests, and network access
    in hard-to-reach areas.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在企业中，无线网络是一个强大的工具，可以提高生产力并促进信息交流。员工可以自由漫游，并且无线网络提供了简单性、易用性、方便性和客人的网络访问，以及在难以到达的区域的网络访问。
- en: Sadly, there is often a lack of security on wireless devices, which leads to
    severe vulnerabilities. Companies often do not configure wireless devices securely,
    and some might even use wireless equipment with default configurations.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 遗憾的是，无线设备通常缺乏安全性，这导致了严重的漏洞。公司通常没有对无线设备进行安全配置，甚至有些公司可能会使用默认配置的无线设备。
- en: Understanding how wireless networks work, and the various encryption algorithms
    and attacks against wireless networks, is crucial if you want to perform a successful
    penetration test.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 了解无线网络的工作原理，以及各种加密算法和对无线网络的攻击，如果您想进行成功的渗透测试，这是至关重要的。
- en: Wireless network architecture
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线网络架构
- en: Before performing a penetration test blindly against a wireless network, it
    is important to understand the architecture of a wireless network. This will help
    you gain a good understanding of the different modes and what types of wireless
    frames are important from a penetration testing perspective.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在对无线网络进行盲目的渗透测试之前，了解无线网络的架构是很重要的。这将帮助您对不同的模式有一个很好的理解，并且从渗透测试的角度来看，了解哪些类型的无线帧是重要的。
- en: 'Wireless networks operate in two main modes:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 无线网络有两种主要模式：
- en: Infrastructure mode
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基础设施模式
- en: Ad hoc mode
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点对点模式
- en: In both modes, there is a common component called a **Service Set Identifier**
    (**SSID**), which is required for network verification. When using infrastructure
    mode, the SSID is set by an **access point** (**AP**). In ad hoc mode, the SSID
    is set by the station that is creating the network.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在这两种模式中，有一个称为服务集标识（SSID）的共同组件，这是网络验证所必需的。在基础设施模式下，SSID由访问点（AP）设置。在点对点模式下，SSID由创建网络的站点设置。
- en: In **infrastructure mode**, there should be at least one access point and one
    station. Both of these form a **Basic Service Set** (**BSS**). An **Extended Service
    Set** (**ESS**) is when two or more access points are connected to the same IP
    subnet or **virtual local area network** (**VLAN**), thus creating a single logical
    network segment.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在基础设施模式中，至少应该有一个访问点和一个站点。这两者组成了一个基本服务集（BSS）。当两个或更多访问点连接到相同的IP子网或虚拟局域网（VLAN）时，形成了扩展服务集（ESS），从而创建了一个单一的逻辑网络段。
- en: In **ad hoc mode**, **Independent Basic Service Set** (**IBSS**) is created
    when two or more stations begin communicating without an access point. This mode
    can be referred to as peer-to-peer mode. One of the stations will take the liberty
    of handling responsibilities that the access point would handle, such as beaconing
    and authenticating new clients.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在**自组网模式**中，当两个或更多站点开始在没有访问点的情况下进行通信时，将创建**独立基本服务集**（**IBSS**）。这种模式可以称为点对点模式。其中一个站点将自行处理访问点处理的责任，例如信标和认证新客户端。
- en: Wireless frames
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线帧
- en: In wireless networks, communication takes place using frames. Within a wireless
    frame, the first two bytes belong to a component called **frame control**. Within
    this frame control frame, we have multiple fields, which have various bit sizes.
    The notable one is the `type` field.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 在无线网络中，通信是使用帧进行的。在无线帧中，前两个字节属于一个称为**帧控制**的组件。在这个帧控制帧内，我们有多个字段，其具有各种位大小。值得注意的是`类型`字段。
- en: 'The `type` field contains the following categories of frames:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '`类型`字段包含以下类别的帧：'
- en: '**Management frames**: These are responsible for keeping the communication
    going between stations and access points. Some subtypes of these frames include
    authentication, deauthentication, association, beacon, probe request, and probe
    response.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**管理帧**：这些负责保持站点和访问点之间的通信。这些帧的一些子类型包括认证、去认证、关联、信标、探测请求和探测响应。'
- en: '**Control frames**: These are responsible for data exchange between access
    points and stations. Some subtypes here include request to send, clear to send,
    and ACK.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**控制帧**：这些负责访问点和站点之间的数据交换。这里的一些子类型包括请求发送、准备发送和ACK。'
- en: '**Data frames**: These are the frames that carry the actual data. They have
    no subtypes.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据帧**：这些帧携带实际数据。它们没有子类型。'
- en: I want to dig deeper into the following frames, as these frames can reveal some
    key information.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 我想深入研究以下帧，因为这些帧可以揭示一些关键信息。
- en: Notable wireless frames
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 值得注意的无线帧
- en: '**Beacon frames** are the most common packets that are sent across wireless
    networks. These are sent out rather quickly, usually a couple of times per second.
    Of course, this can be controlled in various wireless access points. Beacon frames
    contain useful information, such as the following:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**信标帧**是在无线网络中发送的最常见的数据包。这些通常发送得相当快，通常每秒几次。当然，这可以在各种无线访问点中进行控制。信标帧包含有用的信息，例如以下内容：'
- en: SSID name (unless the SSID broadcast is disabled)
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SSID名称（除非关闭SSID广播）
- en: Mac address of the access point
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问点的MAC地址
- en: Security capabilities (WPA2 passphrase, WPA, WEP, WPA enterprise)
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全功能（WPA2密码，WPA，WEP，WPA企业）
- en: Beacon interval
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信标间隔
- en: Channel and channel width
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信道和信道宽度
- en: Country
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 国家
- en: Connection speeds supported by the access point
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问点支持的连接速度
- en: '*Figure 1* shows what is contained within a beacon frame. You will notice that
    the interval is 0.102400 [Seconds]. Point number 1 shows that the frame was sent
    by an AP, and since the second bit is not set, this indicates that it is not an
    ad hoc network. Point number 2 contains details about the SSID, supported data
    rates, channel width, and Country Information:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '*图1*显示了信标帧中包含的内容。您会注意到间隔为0.102400 [秒]。点号1显示该帧由一个AP发送，由于第二位未设置，这表示这不是一个自组网。点号2包含有关SSID、支持的数据速率、信道宽度和国家信息的详细信息：'
- en: '![](img/9b3e0c13-c2c3-49d2-b5cd-96375db5cefc.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9b3e0c13-c2c3-49d2-b5cd-96375db5cefc.png)'
- en: 'Figure 1: Beacon frame'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 图1：信标帧
- en: The filter applied (`wlan.fc.type_subtype==0x8`) is specific to beacon frames,
    since they are part of management frames (frame zero) and subtype 8.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 应用的过滤器（`wlan.fc.type_subtype==0x8`）是特定于信标帧的，因为它们是管理帧（帧零）和子类型8的一部分。
- en: '**Deauthentication **frames are used to disassociate clients that are currently
    associated with an access point. There are a number of reasons why you would force
    a client to disassociate; for example, if you want to uncover a hidden SSID or
    you want to capture the WPA/WPA2 handshake.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**去认证**帧用于取消与访问点当前关联的客户端。有许多原因会导致您强制客户端取消关联；例如，如果您想揭示隐藏的SSID或者想捕获WPA/WPA2握手。'
- en: '*Figure 2* shows a sample capture of a Deauthentication packet:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2*显示了一个去认证数据包的示例捕获：'
- en: '![](img/c0a4d9fe-8f8a-4cd8-84fe-1ac8b0fd0f5a.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c0a4d9fe-8f8a-4cd8-84fe-1ac8b0fd0f5a.png)'
- en: 'Figure 2: Deauthentication frame'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 图2：去认证帧
- en: 'Notice that the reason code defined is `class 3` means that the station is
    leaving or has left the independent basic service set. This deauthentication was
    made using aireplay-ng. We will cover this tool in detail later in this chapter.
    There are a number of reason codes, and in *Table 1* I have listed the common
    reason codes:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，定义的原因代码为`class 3`表示站点正在离开或已离开独立基本服务集。这个去认证是使用aireplay-ng进行的。我们将在本章后面详细介绍这个工具。有许多原因代码，在*表1*中我列出了常见的原因代码：
- en: '| **Reason code** | **Description** | **Explanation** |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| **原因代码** | **描述** | **解释** |'
- en: '| `0` | No reason code | This is normal behavior |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| `0` | 无原因代码 | 这是正常行为 |'
- en: '| `1` | Unspecified reason | The client is currently associated but is no longer
    authorized |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| `1` | 未指明的原因 | 客户端目前已关联但不再被授权 |'
- en: '| `2` | Previous authentication no longer valid | The client is associated
    but not authorized |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| `2` | 先前的身份验证不再有效 | 客户端已关联但未经授权 |'
- en: '| `3` | Deauthentication leaving | Station has been deauthenticated because
    it is leaving IBSS or ESS |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| `3` | 离开去认证 | 站点已被取消认证，因为它正在离开IBSS或ESS |'
- en: '| `4` | Disassociation due to inactivity | Client session has been timed out
    |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
  zh: '| `4` | 因不活动而取消关联 | 客户端会话已超时 |'
- en: '| `5` | Disassociation AP busy | The access point is currently busy and cannot
    handle the current associated clients |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
  zh: '| `5` | 关联AP繁忙 | 接入点当前繁忙，无法处理当前关联的客户端 |'
- en: '| `6` | `Class2` frame from non-authenticated station | Client tried to transfer
    data before authentication could take place |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
  zh: '| `6` | 非经过身份验证的站点的`Class2`帧 | 客户端尝试在身份验证之前传输数据 |'
- en: '| `7` | `Class3` frame from non-associated station | Client tried to transfer
    data before it was associated with the access point |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '| `7` | `Class3` 非关联站的帧 | 客户端在与接入点关联之前尝试传输数据 |'
- en: '**Authentication **frames make up the authentication process. The amount of
    authentication frames that are exchanged varies; the **authentication transaction
    sequence number** is responsible for keeping track of the authentication process,
    and it can handle values from `1` to `65535`. The **authentication algorithm**is
    used to identify the type of authentication being used. The following sample capture
    (*Figure 3*) shows that open authentication is being used:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '**认证**帧构成了认证过程。交换的认证帧数量各不相同；**认证事务序列号**负责跟踪认证过程，并且可以处理从`1`到`65535`的值。**认证算法**用于识别正在使用的认证类型。下面的示例捕获（*图3*）显示正在使用开放认证：'
- en: '![](img/0ee4d2f3-9c1b-485d-b230-de6fef2c764c.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0ee4d2f3-9c1b-485d-b230-de6fef2c764c.png)'
- en: 'Figure 3: Authentication frame'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 图3：认证帧
- en: Using a value of `0` indicates that open authentication is being used. The value
    of `1` denotes that shared key authentication is used.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 使用值`0`表示正在使用开放认证。值`1`表示正在使用共享密钥认证。
- en: Wireless security protocols
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线安全协议
- en: As wireless technologies have evolved and become widely used, so have security
    protocols to provide security on wireless technologies.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 随着无线技术的发展和广泛应用，无线技术的安全协议也得到了提升。
- en: 'Passwords are just half the battle in wireless security. It is just as vital
    to choose the correct level of encryption, and the right choice will determine
    whether your wireless LAN is an easily exploitable or not. Most wireless access
    points enable one of three standards for wireless encryption: **wired equivalent
    privacy** (**WEP**), or **Wi-Fi protected access** (**WPA** or **WPA2**).'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在无线安全中，密码只是一半的战斗。选择正确的加密级别同样重要，正确的选择将决定您的无线局域网是否容易被利用。大多数无线接入点为无线加密启用了三种标准之一：**有线等效隐私**（**WEP**），或**Wi-Fi保护访问**（**WPA**或**WPA2**）。
- en: Before diving into performing penetration tests on wireless networks. We need
    to examine the encryption standards that exist today and understand the vulnerabilities
    of them.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行对无线网络进行渗透测试之前，我们需要检查今天存在的加密标准，并了解它们的漏洞。
- en: WEP
  id: totrans-68
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: WEP
- en: WEP was created to address the issues of open networks that were susceptible
    to eavesdropping due to no encryption being used. It provided a reasonable degree
    of security back when it was created. It uses a **Rivest Cipher 4** (**RC4**)
    to encrypt traffic and provides message integrity using CRC32 checksums. RC4 is
    a symmetric cipher, which means that the same key is used for both encryption
    and decryption of data. The cipher creates a stream of bits that are XOR'd with
    plain text, resulting in encrypted data. Of course, decrypting the data can be
    done by simply performing a XOR on the encrypted data using the keystream.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: WEP是为了解决开放网络的问题而创建的，这些网络容易受到窃听，因为没有使用加密。它在创建时提供了合理程度的安全性。它使用**Rivest Cipher
    4**（**RC4**）来加密流量，并使用CRC32校验和提供消息完整性。RC4是对称密码，这意味着相同的密钥用于加密和解密数据。密码创建了一系列与明文进行异或运算的位，从而产生了加密数据。当然，可以通过简单地使用密钥流对加密数据进行异或运算来解密数据。
- en: WEP made use of a 24-bit **initialization vector** (**IV**). An IV is used to
    make sure that the first block of plain text data that is encrypted is random.
    This ensures that if the same plain text is encrypted, the results will be different
    ciphertexts. Due to the small size of the IV, the likelihood of key reuse is high,
    which makes cracking the encryption easily achievable.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: WEP使用了24位的**初始化向量**（**IV**）。IV用于确保加密的第一个明文数据块是随机的。这确保了如果相同的明文被加密，结果将是不同的密文。由于IV的大小较小，密钥重用的可能性很高，这使得破解加密变得容易。
- en: In 2001, cybersecurity experts identified several serious flaws in WEP, leading
    to industry-wide recommendations to phase out the use of WEP in both business
    and consumer devices.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 2001年，网络安全专家发现了WEP中的几个严重缺陷，导致业界普遍建议在商业和消费设备中淘汰WEP的使用。
- en: WPA
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: WPA
- en: Based on the flaws in WEP, there was an urgent need to provide more security
    for wireless devices. This was when WPA was introduced. WPA introduced two new
    link layer encryption protocols; these are **temporal key integrity protocol**
    (**TKIP**) and **counter mode with CBC-MAC** (**CCMP**).
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 基于WEP的缺陷，迫切需要为无线设备提供更多安全性。这就是WPA被引入的时候。WPA引入了两种新的链路层加密协议；这些是**临时密钥完整性协议**（**TKIP**）和**计数器模式与CBC-MAC**（**CCMP**）。
- en: 'WPA has two modes:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: WPA有两种模式：
- en: '**WPA personal**: This uses a pre-shared key for authentication, which is shared
    by all peers in the network.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**WPA个人**：这使用预共享密钥进行认证，该密钥由网络中的所有对等体共享。'
- en: '**WPA enterprise**: This leverages 802.1x authentication using a radius server
    for **authentication, authorization, and accounting** (**AAA**).'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**WPA企业**：利用radius服务器进行**认证、授权和计费**（**AAA**）的802.1x认证。'
- en: 'WPA still used WEP as an encryption algorithm to support backward compatibility
    and legacy hardware. However, using TKIP, it addressed a number of security flaws
    by using the following:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: WPA仍然使用WEP作为加密算法以支持向后兼容和旧硬件。然而，通过使用TKIP，它解决了一些安全漏洞，具体包括以下内容：
- en: 256-bit keys
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 256位密钥
- en: Per-packet key mixing by generating a unique key for each packet
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过为每个数据包生成一个唯一密钥进行数据包密钥混合
- en: Automatic transmission of updated keys
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动传输更新的密钥
- en: Integrity checks
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 完整性检查
- en: 48-bit IV size and IV sequencing to reduce replay attacks
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 48位IV大小和IV排序以减少重放攻击
- en: Wi-Fi Protected Access version 2 (WPA2)
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Wi-Fi保护访问版本2（WPA2）
- en: WPA2 was introduced as a successor to WPA. It makes use of a stronger **Advanced
    Encryption Standard** (**AES**) algorithm. AES is made up of three symmetric block
    ciphers that are 128 bits each. Encryption and decryption of the blocks can take
    place using 128-bit, 192-bit, and 256-bit keys. AES requires a lot more computing
    power, but with the advancements made with wireless devices, performance issues
    are only common on older hardware.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: WPA2作为WPA的继任者被引入。它使用更强大的**高级加密标准**（**AES**）算法。AES由三个对称块密码组成，每个密码块为128位。块的加密和解密可以使用128位、192位和256位密钥进行。AES需要更多的计算能力，但随着无线设备的进步，性能问题只在旧硬件上普遍存在。
- en: WPA2 uses counter mode with **Cipher Block Chaining Message Authentication Code
    Protocol** (**CCMP**). CCMP provides data confidentiality by allowing only devices
    or users who are authorized to receive data. Cipher block chaining is used to
    provide integrity of data.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: WPA2使用**计数器模式和密码块链接消息认证码协议**（**CCMP**）。CCMP通过只允许授权的设备或用户接收数据来提供数据机密性。密码块链接用于提供数据的完整性。
- en: WPA2 is not compatible with older hardware as it was redesigned from the ground
    up. It supports both the **personal** and **enterprise** mode that was introduced
    by WPA.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: WPA2与旧硬件不兼容，因为它是从头开始重新设计的。它支持WPA引入的**个人**和**企业**模式。
- en: In 2017, a serious flaw was announced that affected WPA2\. It was called **KRACK**,
    which stands for **Key Reinstallation Attacks**. A key reinstallation attack happens
    when an attacker tricks the target into reinstalling an already-in-use key. This
    can be done by manipulating and replaying the cryptographic handshake messages
    of WPA2\. When this key is installed, parameters such as the nonce (incremental
    transmit packet number) and replay counter are reset to their initial value. By
    forcing nonce reuse, packets can be replayed, forged, and decrypted.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 2017年，宣布了一个严重的影响WPA2的漏洞。它被称为**KRACK**，代表**密钥重新安装攻击**。当攻击者欺骗目标重新安装已经使用的密钥时，就会发生密钥重新安装攻击。这可以通过操纵和重放WPA2的加密握手消息来实现。当安装此密钥时，参数（如nonce（递增传输数据包编号）和重放计数器）被重置为其初始值。通过强制重用nonce，数据包可以被重放、伪造和解密。
- en: Wi-Fi Protected Access version 3 (WPA3)
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Wi-Fi保护访问版本3（WPA3）
- en: WPA3, which was announced in 2018, is designed as a successor to the widely
    used WPA2, and brings several core enhancements to enhance security protection
    and procedures across personal and corporate networks.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: WPA3，于2018年宣布，旨在成为广泛使用的WPA2的继任者，并带来了一些核心增强功能，以增强个人和企业网络的安全保护和程序。
- en: WPA3 introduces a different handshake process, which is called **simultaneous
    authentication of equals** (**SAE**), also known as the **Dragonfly** key exchange.
    Encryption is handled by AES-GCM, and the session key length used by WPA3 is 192
    bits for enterprise mode, and personal mode is 128 bits (192 bits is optional).
    Data integrity is handled by **Secure Hash Algorithm 2** (**SHA2**).
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: WPA3引入了一个不同的握手过程，称为**对等的同时认证**（**SAE**），也被称为**Dragonfly**密钥交换。加密由AES-GCM处理，WPA3使用的会话密钥长度为企业模式为192位，个人模式为128位（192位是可选的）。数据完整性由**安全哈希算法2**（**SHA2**）处理。
- en: Even for Wi-Fi networks without passwords, WPA3 Security provides a data protection
    mechanism called **Individual Data Encryption**. This mechanism encrypts data
    packets of each device with separate keys, so other devices cannot decrypt each
    other's data.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 即使对于没有密码的Wi-Fi网络，WPA3安全性也提供了一种称为**个人数据加密**的数据保护机制。该机制使用单独的密钥加密每个设备的数据包，因此其他设备无法解密彼此的数据。
- en: WPA3 sounds really secure; however, there has been a vulnerability called **Dragonblood**.
    This vulnerability allows the attacker to recover the password by abusing timing
    or cache-based side channel leaks.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: WPA3听起来确实很安全；然而，出现了一个名为**Dragonblood**的漏洞。这个漏洞允许攻击者通过滥用时间或基于缓存的侧信道泄漏来恢复密码。
- en: WPA3 is not within the scope of this book, but it is worth keeping abreast with
    the new standards and vulnerabilities that exist in them.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: WPA3不在本书的范围内，但了解新标准和其中存在的漏洞是值得的。
- en: For more information on WPA3, you can visit the Wi-Fi Alliance page found here: [https://www.wi-fi.org/discover-wi-fi/security](https://www.wi-fi.org/discover-wi-fi/security).
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 有关WPA3的更多信息，您可以访问Wi-Fi联盟网页：[https://www.wi-fi.org/discover-wi-fi/security](https://www.wi-fi.org/discover-wi-fi/security)。
- en: Types of wireless attacks
  id: totrans-95
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线攻击类型
- en: 'Let''s take a look at the various types of wireless attacks that exist:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看存在的各种类型的无线攻击：
- en: '**Access control attacks**: These types of attacks attempt to gain access to
    a wireless network by evading access control protections, such as MAC filters
    or `802.1x` port security. Some examples of access control attacks are as follows:'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**访问控制攻击**：这些类型的攻击试图通过规避访问控制保护（如MAC过滤器或`802.1x`端口安全）来获取对无线网络的访问权限。一些访问控制攻击的例子如下：'
- en: '**Rogue access points**: These are unsecured access points that are used to
    create a back door into a trusted network.'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**流氓接入点**：这些是未经保护的接入点，用于在受信任的网络中创建后门。'
- en: '**Mac spoofing**: This attack attempts to spoof the mac address of an already
    authorized access point or station.'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**MAC地址欺骗**：这种攻击试图欺骗已经获得授权的接入点或站点的MAC地址。'
- en: '**Ad hoc associations**: This type of attack attempts to connect directly to
    a station via ad hoc mode. This enables the security of an access point to be
    bypassed, as the station can be attacked or used as a pivot point.'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**临时关联**：这种类型的攻击试图通过临时模式直接连接到一个站点。这使得可以绕过接入点的安全性，因为可以攻击或使用该站点作为枢纽点。'
- en: '**Confidentiality attacks**: These types of attacks are aimed at intercepting
    traffic that is sent across a wireless network. Some examples of confidentiality
    attacks are as follows:'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**机密性攻击**：这些类型的攻击旨在拦截通过无线网络发送的流量。一些机密性攻击的例子如下：'
- en: '**Evil Twin AP**: This is a malicious access point that masquerades as a legitimate
    access point in the attempt to fool clients into authenticating to it. This can
    be used to steal credentials or perform man-in-the-middle attacks.'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 邪恶的双子AP：这是一个恶意接入点，伪装成合法的接入点，试图欺骗客户端对其进行认证。这可以用来窃取凭据或进行中间人攻击。
- en: '**Fake portals**: In this attack, a fake captive portal is used in an attempt
    to fool a user into providing information such as the pre-shared key, sensitive
    information, or login details.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虚假门户：在这种攻击中，使用虚假的强制门户试图欺骗用户提供诸如预共享密钥、敏感信息或登录详细信息。
- en: '**Integrity attacks**: These types of attacks utilize forged frames to mislead
    the recipient. They can also be used to perform a denial of service attack. Some
    examples of integrity attacks are as follows:'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 完整性攻击：这些类型的攻击利用伪造的帧来误导接收者。它们也可以用于执行拒绝服务攻击。一些完整性攻击的例子如下：
- en: '**Radius replay attacks**: Utilizing techniques such as sniffing and interception,
    request authenticators, identifiers, and server responses can be captured and
    stored. These can later be replayed for malicious purposes.'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Radius重放攻击：利用嗅探和拦截等技术，可以捕获和存储请求认证器、标识符和服务器响应。这些可以稍后用于恶意目的进行重放。
- en: '**Frame injection attacks**: In this attack, wireless frames can be manipulated.
    For example, forcing a deauthentication frame to force a device to reauthenticate
    to the access point so that the handshake can be captured.'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 帧注入攻击：在这种攻击中，无线帧可以被操纵。例如，强制发出去认证帧，以迫使设备重新对接入点进行认证，以便捕获握手。
- en: '**Authentication attacks**: These types of attacks are aimed at stealing authentication
    information, which can be used to access resources or services. Some examples
    of authentication attacks are as follows:'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 身份验证攻击：这些类型的攻击旨在窃取身份验证信息，这些信息可以用于访问资源或服务。一些身份验证攻击的例子如下：
- en: '**WEP/WPA/WPA2** **key cracking**: This attack entails capturing the authentication
    handshakes and performing an offline brute force to obtain the pre-shared key.'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WEP/WPA/WPA2密钥破解：这种攻击涉及捕获认证握手并执行离线暴力破解以获取预共享密钥。
- en: '**Downgrade attacks**: These attacks can be used against `802.1x` by forcing
    the server to offer a weaker authentication using forged EAP packets.'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 降级攻击：这些攻击可以针对`802.1x`，通过强制服务器使用伪造的EAP数据包提供更弱的认证。
- en: Compatible hardware
  id: totrans-110
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 兼容的硬件
- en: Having the right hardware is key in performing penetration tests against wireless
    networks. Not all wireless adapters enable you to switch to monitor mode or perform
    packet injection.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 拥有正确的硬件对于对无线网络进行渗透测试至关重要。并非所有无线适配器都能让您切换到监视模式或执行数据包注入。
- en: Monitor mode allows a wireless adapter to switch into **promiscuous** mode so
    that it can **monitor** the packets without any filtering. Many tools, such as
    `airodump-ng` and `aireplay-ng`, require a wireless adapter to be placed in monitor
    mode to operate.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 监视模式允许无线适配器切换到**混杂**模式，以便**监视**数据包而不进行任何过滤。许多工具，如`airodump-ng`和`aireplay-ng`，需要将无线适配器置于监视模式才能运行。
- en: Wireless adapters
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线适配器
- en: Choosing the right wireless adapter can be tricky, especially with the many
    options that exist today. The right adapter is specific to your needs. You might
    require a small compact adapter or an adapter that you can leverage various antenna
    sizes. It all depends on what your preferences are and if it will work for you.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 选择合适的无线适配器可能会很棘手，特别是在当今存在许多选项的情况下。正确的适配器是根据您的需求而定的。您可能需要一个小巧的适配器或一个可以利用各种天线尺寸的适配器。这完全取决于您的偏好以及它是否适合您。
- en: One thing to note with wireless adapters is that TX power and RX sensitivity
    should be taken into consideration. For example, lower sensitivity is better for
    reception but higher power is better for transmission of data. Generally, you
    will only use high-powered adapters if you are considering range.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的一点是，无线适配器的传输功率和接收灵敏度应该考虑在内。例如，较低的灵敏度对于接收更好，但较高的功率对于数据传输更好。通常，只有在考虑范围时才会使用高功率适配器。
- en: Wireless adapters that have an Atheros, Realtek, or Ralink chipset generally
    support monitor mode and packet injection. However, not all of them do. There
    are multiple reviews and write-ups on the internet that are updated regularly
    with the latest supported hardware. A quick search on your favorite search engine
    for keywords such as `Kali Linux compatible wireless adapters` will provide you
    with ample results.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 具有Atheros、Realtek或Ralink芯片组的无线适配器通常支持监视模式和数据包注入。但并非所有适配器都支持。互联网上有多篇评论和文章定期更新最新支持的硬件。在您喜欢的搜索引擎上快速搜索关键词，如“Kali
    Linux兼容的无线适配器”，将为您提供丰富的结果。
- en: The most common wireless adapters used are the Alfa wireless adapters. These
    are found on Amazon and other vendors, and are relatively cheap. Be careful of
    fakes, as there have been a number of fakes on the market. The wireless adapter
    that I am using is the **Alfa** **AWUSO36NH**. This card has an impressive TX
    power of 2000 mW. It is available on Amazon for $31.99 at the time of writing.
    As some networks use 2.4 GHz and 5 GHz frequencies, you may want a wireless adapter
    that can work across both frequencies. The **Panda PAU09** works well with Kali
    linux and supports both the 2.4 GHz and the 5 GHz frequency; at the time of writing,
    this adapter is available on Amazon for $39.99.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 最常用的无线适配器是Alfa无线适配器。这些适配器在亚马逊和其他供应商那里都可以找到，而且价格相对便宜。要小心假货，因为市场上有许多假货。我正在使用的无线适配器是Alfa
    AWUSO36NH。该卡的传输功率为2000毫瓦。在撰写本文时，该适配器在亚马逊上的价格为31.99美元。由于一些网络使用2.4 GHz和5 GHz频率，您可能需要一个可以在两个频率上工作的无线适配器。Panda
    PAU09在Kali Linux上运行良好，并支持2.4 GHz和5 GHz频率；在撰写本文时，该适配器在亚马逊上的价格为39.99美元。
- en: It is important to note that some wireless cards will work straight out of the
    box with Kali Linux. Some will require drivers to be compiled. Sometimes, minor
    revisions of the same card model will produce different results. Ensure that you
    research your wireless card thoroughly.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要注意，一些无线网卡在Kali Linux中可以直接使用。有些需要编译驱动程序。有时，同一型号的微小修订版本会产生不同的结果。确保您对无线网卡进行彻底的研究。
- en: The primary difference between 2.4 GHz and 5 GHz frequencies is the range. 2.4
    GHz is able to reach a much further distance compared to 5 GHz. Alternatively,
    2.4 GHz suffers from a lot more interference than 5 GHz. The number of overlapping
    channels are a lot more in 2.4 GHz, which has three non-overlapping channels,
    while 5 GHz has twenty-three non-overlapping channels.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 2.4 GHz和5 GHz频率之间的主要区别是范围。2.4 GHz能够比5 GHz到达更远的距离。另外，2.4 GHz受到的干扰比5 GHz多得多。2.4
    GHz中有更多的重叠信道，有三个不重叠的信道，而5 GHz有二十三个不重叠的信道。
- en: 'Once you have a compatible wireless adapter, you can put it into monitor mode
    by performing the following:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您有兼容的无线适配器，您可以通过执行以下操作将其设置为监控模式：
- en: 'Open a Terminal window in Kali Linux and issue the `iwconfig` command. Note
    the interface name of your wireless card (*Figure 4*). In the following example,
    the wireless adapter interface name is `wlan0`:'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Kali Linux中打开一个终端窗口，并发出`iwconfig`命令。注意您的无线网卡的接口名称（*图4*）。在下面的示例中，无线适配器接口名称是`wlan0`：
- en: '![](img/ed4ead75-d972-488e-b6b4-cb50673fc375.png)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ed4ead75-d972-488e-b6b4-cb50673fc375.png)'
- en: 'Figure 4: Using iwconfig to identify the wireless adapter'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 图4：使用iwconfig识别无线适配器
- en: 'Before changing the mode, it is a good practice to shut down the interface.
    This can be done using the `ifconfig wlan0 down` command. To change the mode from
    managed to monitor, the `iwconfig wlan0 mode monitor` command is used. Lastly,
    the interface is brought back online using the `ifconfig wlan0 up` command as
    shown in *Figure 5*:'
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在更改模式之前，关闭接口是一个好习惯。这可以通过使用`ifconfig wlan0 down`命令来完成。要将模式从托管更改为监控，使用`iwconfig
    wlan0 mode monitor`命令。最后，使用`ifconfig wlan0 up`命令将接口重新上线，如*图5*所示：
- en: '![](img/faf78388-c2ee-4ac4-8b10-acf751f8f3dd.png)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![](img/faf78388-c2ee-4ac4-8b10-acf751f8f3dd.png)'
- en: 'Figure 5: Putting the wireless adapter in monitor mode'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 图5：将无线适配器设置为监控模式
- en: Now the wireless adapter is operating in monitor mode (`Mode:Monitor`). To change
    the interface back to monitor mode, follow *step 2* from before, but use the `iwconfig
    wlan0 mode managed`.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 现在无线适配器正在监控模式下运行（`Mode:Monitor`）。要将接口切换回监控模式，请按照之前的*步骤2*进行操作，但使用`iwconfig wlan0
    mode managed`。
- en: There is a much quicker way of enabling monitor mode by using `airmon-ng`; this
    will be covered in the next section.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`airmon-ng`可以更快地启用监控模式；这将在下一节中介绍。
- en: 'If you are using an Alfa wireless card which supports a transmit power rating
    of 1000 mW, depending on your location, your `Tx-Power` might be set to 20 dBm
    (as per *Figure 6*). To enable the cards full capability, follow these steps:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是支持1000 mW传输功率评级的Alfa无线网卡，根据您的位置，您的`Tx-Power`可能设置为20 dBm（如*图6*所示）。要启用卡的全部功能，请按照以下步骤操作：
- en: Shut down the interface using the `ifconfig wlan0 down` command. `Wlan0` is
    the interface name; in your environment it might be different.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`ifconfig wlan0 down`命令关闭接口。`Wlan0`是接口名称；在您的环境中可能会有所不同。
- en: Set the region to US using the `iw reg set US` command.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`iw reg set US`命令将区域设置为美国。
- en: Bring the interface online using the `ifconfig wlan0 up` command.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`ifconfig wlan0 up`命令将接口上线。
- en: 'Check the power rating using the `iwconfig wlan0` command:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`iwconfig wlan0`命令检查功率评级：
- en: '![](img/d128a900-7072-4022-aa8b-058349940ea6.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d128a900-7072-4022-aa8b-058349940ea6.png)'
- en: 'Figure 6: Increasing Alfa TX power'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图6：增加Alfa TX功率
- en: Notice the power rating has increased now to `30 dBm` (*Figure 6*). Every `10
    dBm` increases the power in mW 10 times.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 注意功率评级现在已经增加到`30 dBm`（*图6*）。每`10 dBm`增加一次功率，以mW为单位增加10倍。
- en: Wireless attack tools
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线攻击工具
- en: Kali Linux includes a number of built-in tools that can be used for attacking
    wireless networks. We will explore the various tools and how they can be used.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux包括一些内置工具，可用于攻击无线网络。我们将探讨各种工具及其用法。
- en: Please note that as you progress through this chapter, you should perform the
    attacks on your own wireless network.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，随着您在本章的进展，您应该在自己的无线网络上执行攻击。
- en: Wifiphisher
  id: totrans-140
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Wifiphisher
- en: Wifiphisher is an excellent rogue access point tool that can be used for conducting
    penetration tests or Wi-Fi security testing. This tool works by creating a man-in-the-middle
    attack against wireless clients that are performing associations to access points.
    Wifiphisher can be customized by using third-party login pages, or you can create
    your own.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: Wifiphisher是一个出色的恶意访问点工具，可用于进行渗透测试或Wi-Fi安全测试。该工具通过对执行对接入点进行关联的无线客户端进行中间人攻击来工作。Wifiphisher可以通过使用第三方登录页面进行定制，或者您可以创建自己的页面。
- en: Wifiphisher is installed by default in Kali Linux. It can be run using the `wifiphisher`
    command. Note that `wifiphisher` requires `roguehostapd`, however, you can use
    `hostapd`, which is installed in Kali. To use `hostapd`, you can run the `wifiphisher
    --force-hostapd` command.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: Wifiphisher默认安装在Kali Linux中。可以使用`wifiphisher`命令来运行它。请注意，`wifiphisher`需要`roguehostapd`，但是您可以使用Kali中安装的`hostapd`。要使用`hostapd`，您可以运行`wifiphisher
    --force-hostapd`命令。
- en: 'Let''s perform a simple phishing campaign using the built-in phishing pages
    of `wifiphisher`. Remember to have your wireless adapter in monitor mode:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用`wifiphisher`的内置钓鱼页面执行一个简单的钓鱼活动。记得将您的无线适配器设置为监控模式：
- en: 'From a Kali Terminal window, run the `wifiphisher --force-hostapd` command.
    You will be presented with the main screen of `wifiphisher` (*Figure 7*). Here,
    you will be presented with a list of discovered wireless networks. Select the
    one that you want to create a rogue access point of:'
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从Kali终端窗口运行`wifiphisher --force-hostapd`命令。您将看到`wifiphisher`的主屏幕（*图7*）。在这里，您将看到一个发现的无线网络列表。选择您想要创建一个恶意访问点的网络：
- en: '![](img/f97fe321-0577-4fff-81c4-77924d4faeeb.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f97fe321-0577-4fff-81c4-77924d4faeeb.png)'
- en: 'Figure 7: Wifiphisher wireless network selection'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图7：Wifiphisher无线网络选择
- en: 'Once the network is selected, you will be presented with a selection of available
    phishing scenarios. I have selected the standard `Firmware Upgrade Page` as shown
    in *Figure 8*:'
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦选择了网络，你将看到一系列可用的钓鱼场景。我选择了标准的“固件升级页面”，如*图8*所示：
- en: '![](img/6be66c70-62a5-4718-8ac9-5fe4e91ea850.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6be66c70-62a5-4718-8ac9-5fe4e91ea850.png)'
- en: 'Figure 8: Phishing scenarios of wifiphisher'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 图8：wifiphisher的钓鱼场景
- en: You can build your own phishing scenarios, and leverage pre-built custom pages
    that are available on the internet. These pages need to be stored in the `wifiphisher/data/phishingpages`
    directory.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以构建自己的钓鱼场景，并利用互联网上提供的预构建自定义页面。这些页面需要存储在`wifiphisher/data/phishingpages`目录中。
- en: Once you have selected the page, `wifiphisher` will automatically create the
    rogue access point and start to deauthenticate any connected clients.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你选择了页面，`wifiphisher`将自动创建伪造的接入点，并开始去认证任何连接的客户端。
- en: 'Once the user tries to connect to the wireless network again, they will be
    presented with the phishing page you have selected. In my case, it is the firmware
    upgrade page as shown in *Figure 9*:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦用户再次尝试连接到无线网络，他们将看到您选择的钓鱼页面。在我的情况下，就像*图9*中显示的固件升级页面一样：
- en: '![](img/6c545c84-c63d-4543-8276-d57c3f2dcf1f.png)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6c545c84-c63d-4543-8276-d57c3f2dcf1f.png)'
- en: 'Figure 9: Firmware upgrade phishing page'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 图9：固件升级钓鱼页面
- en: 'Once the pre-shared key is provided, the page begins to `upgrade the firmware`,
    but of course, nothing is actually happening. However, on the Wifiphisher Terminal,
    we have the captured credentials in clear text as shown in *Figure 10*:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦提供了预共享密钥，页面就会开始“升级固件”，但当然，实际上什么都没有发生。然而，在Wifiphisher终端上，我们有明文显示的捕获凭据，如*图10*所示：
- en: '![](img/c29a3e7f-9bb5-4a32-8a8b-592265b03d16.png)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c29a3e7f-9bb5-4a32-8a8b-592265b03d16.png)'
- en: 'Figure 10: Captured PSK'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 图10：捕获的PSK
- en: When using this tool in a penetration test, you need to make the phishing page
    convincing. Some end users are tech-savvy and would not easily fall for a simple
    phishing page. You also need to consider that in an enterprise Wi-Fi authentication
    uses their domain credentials; in this case, you need to create a crafty phishing
    page that will resemble an enterprise portal.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 在渗透测试中使用这个工具时，你需要让钓鱼页面令人信服。一些终端用户很懂技术，不会轻易上当一个简单的钓鱼页面。你还需要考虑，在企业Wi-Fi认证中使用他们的域凭据；在这种情况下，你需要创建一个巧妙的钓鱼页面，让它看起来像一个企业门户。
- en: More information on creating custom phishing pages can be found here: [https://wifiphisher.org/docs.html](https://wifiphisher.org/docs.html).
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 关于创建自定义钓鱼页面的更多信息可以在这里找到：[https://wifiphisher.org/docs.html](https://wifiphisher.org/docs.html)。
- en: Aircrack-ng suite
  id: totrans-160
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Aircrack-ng套件
- en: 'Aircrack-ng is a powerful set of tools that comes pre-installed with Kali Linux.
    The suite includes tools that address the following categories:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: Aircrack-ng是预先安装在Kali Linux中的一套强大的工具。该套件包括以下类别的工具：
- en: '**Monitoring**: Performs packet captures and provides capabilities to export
    data to text files for use in third-party tools'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**监控**：执行数据包捕获，并提供将数据导出到文本文件以供第三方工具使用的能力'
- en: '**Attacking**: Used to perform replay attacks, frame attacks such as deauthentication,
    and more, using packet injection'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**攻击**：用于执行重放攻击、帧攻击（如去认证）等，使用数据包注入'
- en: '**Testing**: Views Wi-Fi adapter capabilities, performs captures, and packet
    injection'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**测试**：查看Wi-Fi适配器的功能，执行捕获和数据包注入'
- en: '**Cracking**: Performs attacks against WEP, WPA, and WPA2 pre-shared keys'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**破解**：对WEP、WPA和WPA2预共享密钥执行攻击'
- en: Let's dive into the various tools and how these can be used for penetration
    testing. Keep in mind that your wireless adapter must be in monitor mode for the
    tools to work. We will begin with using `airmon-ng` to enable monitor mode.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们深入了解各种工具以及如何用于渗透测试。请记住，你的无线适配器必须处于监视模式才能使用这些工具。我们将从使用`airmon-ng`启用监视模式开始。
- en: Airmon-ng
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Airmon-ng
- en: Airmon-ng is a script that is used for enabling and disabling monitor mode on
    your wireless adapter. Your current wireless interface status will be displayed
    by running `airmon-ng` without any parameters.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: Airmon-ng是一个脚本，用于在无线适配器上启用和禁用监视模式。运行`airmon-ng`而不带任何参数将显示当前的无线接口状态。
- en: 'Airmon-ng is simple and straightforward. Use the following steps to enable
    monitor mode on the wireless adapter:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: Airmon-ng简单直接。使用以下步骤在无线适配器上启用监视模式：
- en: Open a Terminal window and view the name of your wireless adapter using the
    `airmon-ng` command. This command will display the current wireless adapter, its
    interface name, driver, and chipset.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个终端窗口，使用`airmon-ng`命令查看你的无线适配器的名称。这个命令将显示当前的无线适配器、它的接口名称、驱动程序和芯片组。
- en: 'To put the adapter into monitor mode you can use the `airmon-ng start [interface
    name]` command. For example, in *Figure 11*, my adapter has the interface name
    of `wlan0`:'
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将适配器置于监视模式，你可以使用`airmon-ng start [interface name]`命令。例如，在*图11*中，我的适配器的接口名称是`wlan0`：
- en: '![](img/7ba2cc42-89e3-469b-822d-7f6e4c67d497.png)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7ba2cc42-89e3-469b-822d-7f6e4c67d497.png)'
- en: 'Figure 11: Using airmon-ng to enable monitor mode'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 图11：使用airmon-ng启用监视模式
- en: An `airmon-ng` can be used to check if there are any processes that will interfere
    with the tools of the `aircrack-ng` suite. The command to check this is `airmon-ng
    check`.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '`airmon-ng`可以用来检查是否有任何进程会干扰`aircrack-ng`套件的工具。检查的命令是`airmon-ng check`。'
- en: 'In *Figure 12,* we see there are a few processes that can cause problems with
    the `aircrack-ng` suite of tools:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 在*图12*中，我们看到有一些进程可能会影响`aircrack-ng`工具套件：
- en: '![](img/ae45beff-a984-483f-8ca9-42da6ff809bd.png)'
  id: totrans-176
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ae45beff-a984-483f-8ca9-42da6ff809bd.png)'
- en: 'Figure 12: Identifying problematic processes'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 图12：识别有问题的进程
- en: 'You have the ability to let `airmon-ng` kill any process that will interface
    by using this command: `airmon-ng check kill`.'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以让`airmon-ng`使用这个命令杀死任何会干扰的进程：`airmon-ng check kill`。
- en: To put your wireless adapter back into `managed` mode, you can use this command: `airmon-ng
    stop [interface name]`.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 要将无线适配器重新设置为`managed`模式，可以使用以下命令：`airmon-ng stop [interface name]`。
- en: 'An `airmon-ng` enables the ability to set your adapter in monitor mode on a
    specific channel. This can be done using this command:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '`airmon-ng`使您能够在特定信道上将适配器设置为监视模式。可以使用以下命令完成：'
- en: '[PRE0]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This comes in handy when there are a lot of wireless networks and you want to
    focus on a specific channel which your target network operates on.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 当有很多无线网络并且您想专注于目标网络所在的特定信道时，这将非常有用。
- en: Airodump-ng
  id: totrans-183
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Airodump-ng
- en: Airodump-ng is used to perform a packet capture of raw 802.11 frames. This tool
    can be used to collect WPA handshakes or weak WEP initialization vectors for use
    with Aircrack-ng. It has the functionality to log GPS coordinates of the detected
    wireless networks, which can later be imported into online Wi-Fi mapping tools.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: Airodump-ng用于捕获原始802.11帧的数据包。该工具可用于收集WPA握手或弱WEP初始化向量，以供Aircrack-ng使用。它具有记录检测到的无线网络的GPS坐标的功能，这些坐标可以稍后导入在线Wi-Fi映射工具。
- en: The command syntax for `airodump-ng` is `airodump-ng [options][interface name]`.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '`airodump-ng`的命令语法是`airodump-ng [options][interface name]`。'
- en: 'There are a lot of options available for `airodump-ng`. Just issuing the `airodump-ng`
    command will display the full list. Some of the notable options are as follows:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '`airodump-ng`有很多选项可供选择。只需输入`airodump-ng`命令即可显示完整列表。一些值得注意的选项如下：'
- en: '`-w`: This is used to write the output to a file.'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-w`：用于将输出写入文件。'
- en: '`-c`: This is used to specify the channel to capture.'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-c`：用于指定要捕获的信道。'
- en: '`-bssid`: This is used to define the target BSSID.'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-bssid`：用于定义目标BSSID。'
- en: 'Sniffing for wireless networks using `airodump-ng` is done using the `airodump-ng [interface
    name]` command, without any options. The output displayed will show the current
    wireless networks in range including the stations that are connected as shown
    in *Figure 13*:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`airodump-ng [interface name]`命令进行无线网络嗅探，不需要任何选项。显示的输出将显示范围内的当前无线网络，包括连接的站点，如*图13*所示：
- en: '![](img/44f55a6c-1e0f-4dae-8a25-cfb9ab21da70.png)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![](img/44f55a6c-1e0f-4dae-8a25-cfb9ab21da70.png)'
- en: 'Figure 13: Airodump-ng output'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 图13：Airodump-ng输出
- en: 'Do not be overwhelmed with the information displayed, as making sense of it
    is simple. Airodump-ng has two separate sections. The top portion displays information
    about the discovered networks. The fields are described as follows:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 不要被显示的信息所压倒，因为理解它很简单。Airodump-ng有两个独立的部分。顶部显示了有关发现的网络的信息。字段描述如下：
- en: '| **Field** | **Description** |'
  id: totrans-194
  prefs: []
  type: TYPE_TB
  zh: '| **字段** | **描述** |'
- en: '| `BSSID`  | This is the MAC address of the access point. |'
  id: totrans-195
  prefs: []
  type: TYPE_TB
  zh: '| `BSSID`  | 这是接入点的MAC地址。 |'
- en: '| `PWR`  | This is the signal level. The closer you are to the access point,
    the higher the signal level rating. Some might show up as `-1`, meaning that you
    are too far, or there is a driver issue with detecting the signal level. |'
  id: totrans-196
  prefs: []
  type: TYPE_TB
  zh: '| `PWR`  | 这是信号级别。您离接入点越近，信号级别评分就越高。有些可能显示为`-1`，意味着您离得太远，或者检测信号级别时存在驱动程序问题。
    |'
- en: '| `Beacons`  | Number of beacon frames sent by the AP. |'
  id: totrans-197
  prefs: []
  type: TYPE_TB
  zh: '| `Beacons`  | AP发送的信标帧数量。 |'
- en: '| `#Data`  | Number of captured data packets. If WEP is being used, it will
    be the unique IV count. |'
  id: totrans-198
  prefs: []
  type: TYPE_TB
  zh: '| `#Data`  | 捕获的数据包数量。如果使用WEP，它将是唯一的IV计数。'
- en: '| `#/s` | Number of data packets captured over 10-second periods. |'
  id: totrans-199
  prefs: []
  type: TYPE_TB
  zh: '| `#/s` | 在10秒内捕获的数据包数量。'
- en: '| `CH` | This is the channel number, which is derived from the beacon frames.
    |'
  id: totrans-200
  prefs: []
  type: TYPE_TB
  zh: '| `CH` | 这是信道号，从信标帧中派生出来。 |'
- en: '| `MB` | Maximum speed supported by the AP. |'
  id: totrans-201
  prefs: []
  type: TYPE_TB
  zh: '| `MB` | AP支持的最大速度。 |'
- en: '| `ENC`  | Encryption algorithm in use. |'
  id: totrans-202
  prefs: []
  type: TYPE_TB
  zh: '| `ENC`  | 正在使用的加密算法。 |'
- en: '| `Cipher` | Cipher that has been detected. |'
  id: totrans-203
  prefs: []
  type: TYPE_TB
  zh: '| `Cipher` | 检测到的加密算法。 |'
- en: '| `Auth` | Authentication protocol that is in use. |'
  id: totrans-204
  prefs: []
  type: TYPE_TB
  zh: '| `Auth` | 正在使用的认证协议。 |'
- en: '| `ESSID` | The SSID of the network. If the SSID is hidden, then this value
    will be blank; however, `airodump-ng` will try to recover the SSID from probe
    and association responses. |'
  id: totrans-205
  prefs: []
  type: TYPE_TB
  zh: '| `ESSID` | 网络的SSID。如果SSID是隐藏的，那么这个值将为空；但是，`airodump-ng`将尝试从探测和关联响应中恢复SSID。'
- en: The bottom section displays the MAC address of the detected access points and
    the clients (stations) that are connected to the access point.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 底部部分显示了检测到的接入点和连接到接入点的客户端（站点）的MAC地址。
- en: 'For demo purposes, I am targeting the Hackme wireless network. I will tell
    `airodump-ng` to focus on that access point and channel, and I want to write the
    captures to disk. This can be done using the following command:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 出于演示目的，我正在瞄准Hackme无线网络。我将告诉`airodump-ng`专注于该接入点和信道，并且我希望将捕获写入磁盘。可以使用以下命令完成：
- en: '[PRE1]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'In this command, the `-c 6` denotes the channel number, `--bssid` denotes the
    access point MAC address, `-w` denotes the filename for the captures, and `interface
    name` is my wireless adapter, which is in monitor mode:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 在此命令中，`-c 6`表示信道号，`--bssid`表示接入点MAC地址，`-w`表示捕获的文件名，`interface name`是我的无线适配器，处于监视模式：
- en: '![](img/a504b269-1f5d-41de-a2ce-1be79bea675b.png)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a504b269-1f5d-41de-a2ce-1be79bea675b.png)'
- en: 'Figure 14: Customizing airodump-ng for a specific network'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 图14：定制airodump-ng以针对特定网络
- en: Notice the output in *Figure 14*, where a WPA handshake has been captured. We
    will cover cracking that handshake in the *Aircrack-ng* section later in this
    chapter.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意*图14*中的输出，其中捕获了WPA握手。我们将在本章后面的*Aircrack-ng*部分介绍如何破解该握手。
- en: Aireplay-ng
  id: totrans-213
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Aireplay-ng
- en: Aireplay-ng is primarily used to inject frames and to generate traffic for later
    use with `aircrack-ng`. One of the common attacks is the deauthentication attack;
    the purpose of this attack is to capture handshake data.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: Aireplay-ng主要用于注入帧并生成流量，以备后续使用`aircrack-ng`。常见的攻击之一是去认证攻击；这种攻击的目的是捕获握手数据。
- en: 'The command syntax for `aireplay-ng` is as follows:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '`aireplay-ng`的命令语法如下：'
- en: '[PRE2]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'An `aireplay-ng` has a wealth of options, where for each of the various attack
    methods, the attack methods can be defined by name or number. For example, the
    `deauthentication attack is attack number 0` or `--deauth` can be used. An `aireplay-ng`
    supports the following attack methods:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '`aireplay-ng`具有丰富的选项，对于各种攻击方法，攻击方法可以用名称或数字来定义。例如，`去认证攻击是攻击编号0`或者可以使用`--deauth`。`aireplay-ng`支持以下攻击方法：'
- en: '**Deauthentication**: The purpose of this attack is to disassociate the clients
    that are connected to an access point. This forces them to reassociate and enables
    you to capture the handshake.'
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**去认证**：此攻击的目的是使连接到接入点的客户端取消关联。这会迫使它们重新关联，并使您能够捕获握手过程。'
- en: '**Fake** **authentication**: This attack allows you to associate with an access
    point. It is useful when you need to leverage various attacks and there are no
    stations associated with the access point.'
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**伪认证**：此攻击允许您与接入点关联。当您需要利用各种攻击而没有站点与接入点关联时，这是很有用的。'
- en: '**Interactive packet replay**: This attack is used when you want to choose
    a specific packet to replay to the access point.'
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**交互式数据包重播**：当您想要选择特定数据包重播到接入点时使用此攻击。'
- en: '**ARP request replay attack**: This attack is effective in generating new IVs.
    It works by retransmitting ARP packets back to the access point, which forces
    the access point to repeat the ARP packet with a new IV.'
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ARP请求重播攻击**：此攻击有效地生成新的IV。它通过将ARP数据包重新发送到接入点来工作，这迫使接入点用新的IV重复ARP数据包。'
- en: '**KoreK** **chopchop** **attack**: This attack is able to decrypt a WEP data
    packet without having the key. It does not recover the WEP key but reveals it
    in plain text.'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**KoreK** **chopchop** **攻击**：此攻击能够在没有密钥的情况下解密WEP数据包。它不会恢复WEP密钥，但会以明文形式显示出来。'
- en: '**Fragmentation attack**: This attack is used to obtain a **pseudo-random generation
    algorithm** (**PRGA**). This PRGA can be used with `packetforge-ng` to generate
    packets for various other injection attacks.'
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分段攻击**：此攻击用于获取**伪随机生成算法**（**PRGA**）。这个PRGA可以与`packetforge-ng`一起用于生成各种其他注入攻击的数据包。'
- en: '**Cafe-latte attack**: This attack enables you to obtain a WEP key from a client
    station instead of the access point. It manipulates ARP packets which get sent
    to the client, who in turn sends it back, and it is captured and analyzed.'
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Cafe-latte攻击**：此攻击使您能够从客户端站点而不是接入点获取WEP密钥。它操纵ARP数据包发送到客户端，客户端再将其发送回来，然后被捕获和分析。'
- en: '**Client-oriented fragmentation attack**: This extends the cafe-latte attack
    by using any packets and not just an ARP packet.'
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**面向客户端的分段攻击**：这扩展了cafe-latte攻击，使用任何数据包而不仅仅是ARP数据包。'
- en: '**WPA migration mode**: This attack is specific to bugs found in Cisco access
    points that enabled both WPA and WEP clients to associate to an access point using
    the same SSID.'
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**WPA迁移模式**：此攻击特定于Cisco接入点中发现的漏洞，使WPA和WEP客户端能够使用相同的SSID关联到接入点。'
- en: '**Injection test**: This test determines if your wireless adapter can successfully
    inject packets to an access point.'
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**注入测试**：此测试确定您的无线适配器是否能成功向接入点注入数据包。'
- en: Each attack can be defined using a number. For example, the deauthentication
    attack can be defined as `-0`. You will notice later in this chapter, will use
    numbers for the various attacks.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 每种攻击都可以用一个数字来定义。例如，去认证攻击可以定义为`-0`。您将在本章后面注意到，我们将使用数字来表示各种攻击。
- en: 'Let''s use `aireplay-ng` to perform a deauthentication attack as shown in *Figure
    15 *using the following command:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用`aireplay-ng`来执行去认证攻击，如*图15*所示，使用以下命令：
- en: '[PRE3]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'In this command, `-0 10` is used to specify a deauthentication attack and only
    `10` packets will be sent, `-a`is used to define the MAC address of the access
    point, `-c` is used to define the client mac address, and the `interface name`
    is the wireless adapter, which is in monitor mode. Sometimes, it might take a
    few more packets to cause the station to deauthenticate. You can use the `-0 0`
    option to send an unlimited number of packets:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个命令中，`-0 10`用于指定去认证攻击，只会发送`10`个数据包，`-a`用于定义接入点的MAC地址，`-c`用于定义客户端的MAC地址，`interface
    name`是无线适配器，处于监视模式。有时，可能需要更多的数据包才能使站点取消认证。您可以使用`-0 0`选项来发送无限数量的数据包：
- en: '![](img/003f1c81-2205-49e9-a0d1-ab54d1295157.png)'
  id: totrans-232
  prefs: []
  type: TYPE_IMG
  zh: '![](img/003f1c81-2205-49e9-a0d1-ab54d1295157.png)'
- en: 'Figure 15: Deauthentication attack'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 图15：去认证攻击
- en: 'The `ACKs` represent the following:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '`ACKs`代表以下内容：'
- en: '[PRE4]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: This provides you with a good indication whether the packets were received.
    Higher values are better.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 这为您提供了一个很好的指示，表明数据包是否已被接收。数值越高越好。
- en: Airgeddon
  id: totrans-237
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Airgeddon
- en: Moving away from multiple tools within the `aircrack-ng` suite, let's now focus
    on a tool that has multiple capabilities built into it—and is simple to use.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 摆脱了`aircrack-ng`套件中的多个工具，现在让我们专注于一个具有多种功能并且易于使用的工具。
- en: 'Airgeddon (developed by `v1s1t0r1sh3r3`) is a tool that is written in `bash`
    for multiple attacks against wireless networks. Some of the features of Airgeddon
    are as follows:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: Airgeddon（由`v1s1t0r1sh3r3`开发）是一个用`bash`编写的工具，用于对无线网络进行多种攻击。Airgeddon的一些特点如下：
- en: Ability to manage the interface mode (monitor and managed)
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 能够管理接口模式（监视和管理）
- en: Support for 2.4 GHz and 5 GHz bands
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持2.4 GHz和5 GHz频段
- en: Assisted WPA/WPA2 handshake capturing, with cleaning and optimizing the files
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 辅助WPA/WPA2握手捕获，清理和优化文件
- en: Offline password cracking for WPA/WPA2 enterprise and personal
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WPA/WPA2企业和个人的离线密码破解
- en: Evil twin attacks
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 恶意双胞胎攻击
- en: WPS attacks
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WPS攻击
- en: 'Airgeddon is not installed by default in Kali Linux. To install it, perform
    the following steps:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: Airgeddon在Kali Linux中不是默认安装的。要安装它，请执行以下步骤：
- en: 'Installing Airgeddon can be done by cloning the repository. Use the following
    command to clone Airgeddon in Kali Linux:'
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装Airgeddon可以通过克隆存储库来完成。在Kali Linux中使用以下命令来克隆Airgeddon：
- en: '[PRE5]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Once you''ve cloned Airgeddon, use the following command to run it:'
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦你克隆了Airgeddon，就使用以下命令来运行它：
- en: '[PRE6]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'When Airgeddon starts up, it will perform a series of checks to ensure that
    you have all the required tools. If it detects that tools are missing, it will
    highlight these and including the package name as shown in *Figure 16*:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 当Airgeddon启动时，它将执行一系列检查，以确保您拥有所有所需的工具。如果检测到缺少工具，它将突出显示这些工具，并包括软件包名称，如*图16*所示：
- en: '![](img/a0822180-f420-4ddf-9a32-be0d2ce86271.png)'
  id: totrans-252
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a0822180-f420-4ddf-9a32-be0d2ce86271.png)'
- en: 'Figure 16: Airgeddon optional tools check'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 图16：Airgeddon可选工具检查
- en: 'In *Figure 16*, there are some tools missing. Take note of the package name.
    To install the missing tools, we can simply use this command:'
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在*图16*中，有一些工具缺失。请注意软件包名称。要安装缺失的工具，我们可以简单地使用此命令：
- en: '[PRE7]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'After the initial checks are completed, Airgeddon will prompt for the network
    card that will be used as shown in *Figure 17*:'
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成初始检查后，Airgeddon将提示选择要使用的网络卡，如*图17*所示：
- en: '![](img/50af05a0-3115-4003-8e78-fcfcf86aed1b.png)'
  id: totrans-257
  prefs: []
  type: TYPE_IMG
  zh: '![](img/50af05a0-3115-4003-8e78-fcfcf86aed1b.png)'
- en: 'Figure 17: Interface selection'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 图17：接口选择
- en: 'Once you have selected your interface, you will be presented with the main
    menu of Airgeddon as shown in *Figure 18*:'
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您的接口后，您将看到Airgeddon的主菜单，如*图18*所示：
- en: '![](img/e6c39546-25bf-442b-8482-3ce0b1a52ed0.png)'
  id: totrans-260
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e6c39546-25bf-442b-8482-3ce0b1a52ed0.png)'
- en: 'Figure 18: Main menu of Airgeddon'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 图18：Airgeddon的主菜单
- en: The main menu presents a number of options. In the first section, we have the
    ability to put the selected interface into monitor or managed mode. The next section
    defines the various attacks that Airgeddon is capable of performing. Finally,
    the last section is for options and credits.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 主菜单提供了许多选项。在第一部分中，我们可以将所选的接口设置为监视模式或托管模式。接下来的部分定义了Airgeddon能够执行的各种攻击。最后一部分是选项和积分。
- en: The Evil Twin attack
  id: totrans-263
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 邪恶孪生攻击
- en: 'Now, we will perform an Evil Twin attack using Airgeddon. An Evil Twin attack
    is a malicious access point that is set up to obtain sensitive information, obtain
    credentials, or drop malicious payloads. In our example, we will create an Evil
    Twin that is set up to steal the pre-shared key of a wireless network using a
    captive portal:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将使用Airgeddon执行邪恶孪生攻击。邪恶孪生攻击是一种恶意接入点，旨在获取敏感信息、获取凭据或投放恶意有效负载。在我们的示例中，我们将创建一个邪恶孪生，旨在通过俘获门户窃取无线网络的预共享密钥：
- en: You should only perform this attack against networks you are authorized for.
    For learning purposes, you should perform this attack against your own wireless
    network.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 您只应对您被授权的网络执行此攻击。出于学习目的，您应该对自己的无线网络执行此攻击。
- en: 'Start up Airgeddon using this command:'
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令启动Airgeddon：
- en: '[PRE8]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Select your wireless adapter, and put it into monitor mode using the main menu
    of Airgeddon. Next, select option `7`, the Evil Twin attacks menu (*Figure 19*).
    Once the menu has loaded, select option `9`:'
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您的无线适配器，并使用Airgeddon的主菜单将其设置为监视模式。接下来，选择选项`7`，邪恶孪生攻击菜单（*图19*）。菜单加载后，选择选项`9`：
- en: '![](img/200decdf-0cf6-4d3c-8593-454aacea43ca.png)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
  zh: '![](img/200decdf-0cf6-4d3c-8593-454aacea43ca.png)'
- en: 'Figure 19: The Evil Twin attacks menu'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 图19：邪恶孪生攻击菜单
- en: 'The first step that Airgeddon will perform is exploring for wireless networks.
    It will automatically set the filters for WPA/WPA2, and the scan will be started
    in a new window as shown in *Figure 20*:'
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Airgeddon将执行的第一步是探索无线网络。它将自动设置WPA/WPA2的过滤器，并在新窗口中开始扫描，如*图20*所示：
- en: '![](img/ae7cf8a3-e42d-43d6-b7a1-33eac642d702.png)'
  id: totrans-272
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ae7cf8a3-e42d-43d6-b7a1-33eac642d702.png)'
- en: 'Figure 20: Airgeddon exploring for targets'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 图20：Airgeddon探索目标
- en: 'Leave this window open for a while so that you can obtain an accurate reading
    of the wireless network. Once you close the window, Airgeddon will prompt you
    to select the network you want to attack (*Figure 21*). Note that the `*` denotes
    it is an active network:'
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请将此窗口保持打开一段时间，以便您可以获得无线网络的准确读数。一旦您关闭窗口，Airgeddon将提示您选择要攻击的网络（*图21*）。请注意，`*`表示这是一个活动网络：
- en: '![](img/a946f9cf-00fc-4fdd-b1a5-f533f4f07efc.png)'
  id: totrans-275
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a946f9cf-00fc-4fdd-b1a5-f533f4f07efc.png)'
- en: 'Figure 21: Airgeddon network selection'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 图21：Airgeddon网络选择
- en: 'Once you select the network you want to attack, you will be presented with
    the deauth attack menu as shown in *Figure 22*:'
  id: totrans-277
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择要攻击的网络后，您将看到deauth攻击菜单，如*图22*所示：
- en: '![](img/49fb2635-90d2-426a-a893-f7f25a9fa0cf.png)'
  id: totrans-278
  prefs: []
  type: TYPE_IMG
  zh: '![](img/49fb2635-90d2-426a-a893-f7f25a9fa0cf.png)'
- en: 'Figure 22: Deauth attack menu'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 图22：Deauth攻击菜单
- en: There are a few options to choose here; you will need to find the best match
    for the network you are attacking. Generally, the `mdk4` attack is very effective.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些选项可供选择；您需要找到与您攻击的网络最匹配的选项。通常，`mdk4`攻击非常有效。
- en: Once you select the deauth mode, Airgeddon will prompt you for some additional
    settings, such as DOS pursuit mode and enabling internet access on the interface.
    For simplicity, we will select `NO` for these. The next batch of options is related
    to spoofing your mac addresses, and defining a capture file if you already have
    this. If you select `NO` for the capture file, you can define the value in seconds
    to wait for the WPA proposal. Depending on how active the network is, you will
    need to increase this value. If you don't, and use the default, you might not
    obtain the WPA handshake.
  id: totrans-281
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择deauth模式后，Airgeddon将提示您进行一些额外的设置，例如DOS追求模式和在接口上启用互联网访问。为简单起见，我们将选择`NO`。下一批选项与欺骗您的mac地址有关，并定义捕获文件（如果您已经有）。如果选择捕获文件的`NO`，则可以定义等待WPA提议的秒数。根据网络的活动程度，您需要增加此值。如果不这样做，并使用默认值，您可能无法获得WPA握手。
- en: 'Once you complete the options, two new windows will open. Once the WPA handshake
    is captured, Airgeddon will notify you to move on to the next step, which is defining
    the language for the captive portal. Once the language is defined, Airgeddon will
    launch multiple windows (*Figure 23*) to perform the Evil Twin attack:'
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成选项后，将打开两个新窗口。一旦捕获到WPA握手，Airgeddon将通知您继续下一步，即定义俘获门户的语言。一旦定义了语言，Airgeddon将启动多个窗口（*图23*）执行邪恶孪生攻击：
- en: '![](img/031b5e24-ce0b-40b8-a82c-a957c6ef8305.png)'
  id: totrans-283
  prefs: []
  type: TYPE_IMG
  zh: '![](img/031b5e24-ce0b-40b8-a82c-a957c6ef8305.png)'
- en: 'Figure 23: Airgeddon Evil Twin attack'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 图23：Airgeddon邪恶孪生攻击
- en: The windows that were spawned relate to DNS (for intercepting DNS requests),
    DHCP (for providing the stations a valid network address in order to communicate
    with the fake access point), fake access point (the fake access point configuration),
    web server (used to host the captive portal) and finally, the information window.
    All of these are needed in order to host a fake captive portal.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 生成的窗口与DNS（用于拦截DNS请求）、DHCP（用于为站点提供有效的网络地址，以便与虚假接入点通信）、虚假接入点（虚假接入点配置）、Web服务器（用于托管俘获门户）和最后，信息窗口有关。所有这些都是为了托管虚假的俘获门户而需要的。
- en: 'Now, when the station connects to the access point, it will be presented with
    a captive portal. Once the pre-shared key is entered, it will be presented in
    clear text (*Figure 24*). The captive portal can be tweaked as needed:'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，当站点连接到接入点时，它将被呈现一个俘获门户。一旦输入预共享密钥，它将以明文形式呈现（*图24*）。可以根据需要调整俘获门户：
- en: '![](img/6b2cb785-98ac-4172-a802-eaa6265a97e6.png)'
  id: totrans-287
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6b2cb785-98ac-4172-a802-eaa6265a97e6.png)'
- en: 'Figure 24: Pre-shared key captured'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 图24：捕获的预共享密钥
- en: Airgeddon is really simple to use. It has a wealth of attacks that it is capable
    of performing. As you progress, you will likely find more tools, but knowing how
    to use the tools in `aircrack-ng` is still beneficial, as you may have noticed
    some of the attacks within Airgeddon still leverage parts of the `aircrack-ng`
    suite.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: Airgeddon非常简单易用。它具有丰富的攻击功能。随着您的进展，您可能会发现更多的工具，但是了解如何使用`aircrack-ng`中的工具仍然是有益的，因为您可能已经注意到Airgeddon中的一些攻击仍然利用了`aircrack-ng`套件的部分。
- en: Cracking WEP, WPA, and WPA2
  id: totrans-290
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 破解WEP、WPA和WPA2
- en: 'Aircrack-ng is a program that enables you to crack WEP, WPA, and WPA2 pre-shared
    keys. It supports a number of methods for password cracking; these methods are
    as follows:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: Aircrack-ng是一个程序，可以破解WEP、WPA和WPA2预共享密钥。它支持一些用于破解密码的方法，这些方法如下：
- en: '**Pyshkin, Tews, Weinmann** (**PTW**), which uses ARP packets to crack WEP
    keys.'
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Pyshkin，Tews，Weinmann**（**PTW**），它使用ARP数据包来破解WEP密钥。'
- en: FMS/KoreK uses statistical attacks coupled with brute force techniques to crack
    WEP keys.
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FMS/KoreK使用统计攻击和暴力破解技术来破解WEP密钥。
- en: The dictionary method leverages dictionary files, which can be used to brute
    force WEP, WPA/WPA2 keys. Note that for WPA/WPA2 cracking, this is the only method
    used.
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 字典方法利用字典文件，可用于暴力破解WEP、WPA/WPA2密钥。请注意，对于WPA/WPA2破解，这是唯一使用的方法。
- en: 'The command syntax for `aircrack-ng` is as follows:'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: '`aircrack-ng`的命令语法如下：'
- en: '[PRE9]'
  id: totrans-296
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: There are a bunch of options available to use with `aircrack-ng`. These can
    be viewed by running the `aircrack-ng` command without anything else defined.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: '`aircrack-ng`有许多可用选项。可以通过运行`aircrack-ng`命令而不定义其他任何内容来查看这些选项。'
- en: Cracking WPA/WPA2
  id: totrans-298
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 破解WPA/WPA2
- en: Let's take a look at an example of using `aircrack-ng` to crack WPA2\. It's
    important to note that the only possible way of cracking WPA2 is using a dictionary
    file with brute force techniques. With all brute force attempts, success is dependant
    on the quality of your wordlist. Remember that larger wordlists will require a
    lot more time and processing power.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看一个使用`aircrack-ng`破解WPA2的例子。重要的是要注意，破解WPA2的唯一可能方法是使用带有暴力破解技术的字典文件。对于所有暴力破解尝试，成功取决于您的字典文件的质量。请记住，更大的字典文件将需要更多的时间和处理能力。
- en: 'In *Figure 25*, you will notice that a WPA handshake was captured:'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 在*图25*中，您会注意到捕获了一个WPA握手：
- en: '![](img/6de235e2-cb05-43a5-8cfc-4b3435e9c04a.png)'
  id: totrans-301
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6de235e2-cb05-43a5-8cfc-4b3435e9c04a.png)'
- en: 'Figure 25: WPA handshake capture'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 图25：WPA握手捕获
- en: 'Cracking this handshake using `aircrack-ng` is done using the following command:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下命令破解这个握手：
- en: '[PRE10]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'The `-w` switch denotes the location of a wordlist that will be used. You can
    define the capture file by name, or you can use `*.cap` if you have multiple capture
    files. Using the command, observe the results as shown in *Figure 26*:'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: '`-w`开关表示将使用的字典文件的位置。您可以按名称定义捕获文件，或者如果有多个捕获文件，可以使用`*.cap`。使用该命令，观察结果如*图26*所示：'
- en: '![](img/1d9df36f-2350-4f18-bf37-08f22f1e24a8.png)'
  id: totrans-306
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1d9df36f-2350-4f18-bf37-08f22f1e24a8.png)'
- en: 'Figure 26: WPA key cracked using aircrack-ng'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 图26：使用aircrack-ng破解WPA密钥
- en: The process of cracking a WPA2 handshake is the exact same as the process for
    WPA.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 破解WPA2握手的过程与WPA的过程完全相同。
- en: WPA/WPA2 supports a number of authentication methods apart from pre-shared keys.
    Aircrack-ng can only crack WPA networks that use pre-shared keys. If `airodump-ng`
    shows the network having something other than PSK, do not bother cracking it as
    it will waste your time.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: WPA/WPA2除了预共享密钥之外，还支持许多认证方法。Aircrack-ng只能破解使用预共享密钥的WPA网络。如果`airodump-ng`显示网络使用PSK以外的东西，请不要尝试破解，因为这会浪费您的时间。
- en: Cracking WEP
  id: totrans-310
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 破解WEP
- en: There are multiple ways to crack WEP keys. In the previous section, we discussed
    attacks such as fake authentication, caffe-latte attacks, PTW attacks, and so
    forth.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 破解WEP密钥有多种方法。在前一节中，我们讨论了攻击，如伪身份验证、caffe-latte攻击、PTW攻击等。
- en: Now, we will perform a few attacks to crack a WEP key. This attack requires
    at least one station connected to the access point.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将执行一些攻击来破解WEP密钥。此攻击至少需要一个连接到接入点的站点。
- en: 'In my setup, I have used my host machine as a connected client. If the router
    you are using to test this attack supports WEP, please set up WEP on the router
    prior to performing the following steps:'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 在我的设置中，我已将我的主机机器用作连接的客户端。如果您用于测试此攻击的路由器支持WEP，请在执行以下步骤之前在路由器上设置WEP：
- en: 'Ensure that your wireless adapter is in monitor mode. Using `airodump-ng`,
    we will specify the wireless network that is using WEP and begin capturing the
    packets. In my setup, the wireless network is called `Hackme`*. *Using the command
    defined in the `airodump-ng` section earlier, I am tuning `airodump` to capture
    packets specifically for the wireless network using the following command:'
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您的无线适配器处于监视模式。使用`airodump-ng`，我们将指定使用WEP的无线网络并开始捕获数据包。在我的设置中，无线网络名为`Hackme`。使用`airodump-ng`部分中定义的命令，我正在调整`airodump`以使用以下命令专门捕获无线网络的数据包：
- en: '[PRE11]'
  id: totrans-315
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: To crack a 64-bit WEP key requires a lot of IVs, around 250,000 at least. Leaving
    the capture idle, it will take a bit of time to obtain a sufficient amount of
    IVs. In order to speed up the process, we will capture and replay packets back
    to the access point in order to generate unique IVs. Before we do this, we need
    to authenticate to the access point, or else any packets we send will be dropped.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 要破解64位WEP密钥需要大量的IVs，至少需要大约250,000个。让捕获空闲，需要一些时间来获取足够数量的IVs。为了加快这个过程，我们将捕获并重放数据包到接入点，以生成唯一的IVs。在这之前，我们需要对接入点进行认证，否则我们发送的任何数据包都将被丢弃。
- en: 'To authenticate to the access point, we will perform a fake authentication
    attack (*Figure 27*). This attack works by convincing the access point that we
    know the WEP key, but we do not send it. To perform this attack, we use this command:'
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了对接入点进行认证，我们将执行一个伪身份验证攻击（*图27*）。这种攻击通过说服接入点我们知道WEP密钥来进行，但我们并不发送它。为了执行这个攻击，我们使用这个命令：
- en: '[PRE12]'
  id: totrans-318
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'In this command, we are defining the attack using `-1`; `0` is the retransmission
    time, `-e` denotes the SSID, `-a`is the MAC address of the access point that we
    want to authenticate to, `-h` is the MAC address of the network card, and `interface
    name` is the wireless `interface name`, which is in monitor mode:'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个命令中，我们使用`-1`来定义攻击；`0`是重传时间，`-e`表示SSID，`-a`是我们想要认证的接入点的MAC地址，`-h`是网络卡的MAC地址，`interface
    name`是处于监视模式的无线`interface name`：
- en: '![](img/43d8c861-0675-4f61-baa3-4b00fee3f0cf.png)'
  id: totrans-320
  prefs: []
  type: TYPE_IMG
  zh: '![](img/43d8c861-0675-4f61-baa3-4b00fee3f0cf.png)'
- en: 'Figure 27: Performing a fake authentication attack'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 图27：执行伪身份验证攻击
- en: Notice that the authentication was successful; we can begin sending packets
    to the access point. The access point will not accept traffic unless the WEP key
    is sent first. Since we did not send the key (because we don't know it as yet)
    we will need to capture packets from clients who are authenticated, and replay
    them. To do this, we will use the ARP request replay attack.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 注意认证成功了；我们可以开始向接入点发送数据包。除非先发送WEP密钥，否则接入点不会接受流量。由于我们还没有发送密钥（因为我们还不知道），我们需要捕获已认证的客户端的数据包，并重放它们。为此，我们将使用ARP请求重放攻击。
- en: 'Leveraging `aireplay-ng`, we will tell it to capture and re-broadcast any ARP
    packets it received. The command we will use is as follows:'
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 利用`aireplay-ng`，我们将告诉它捕获并重新广播它收到的任何ARP数据包。我们将使用以下命令：
- en: '[PRE13]'
  id: totrans-324
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'In this command (*Figure 28*), we define the attack using `-3`; `-b` is used
    to define the access point MAC address, `-h` is used to define the MAC address
    of the wireless adapter that is in monitor mode, and `interface name` is the interface
    name of the wireless adapter, which is in monitor mode:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个命令（*图28*）中，我们使用`-3`来定义攻击；`-b`用于定义接入点的MAC地址，`-h`用于定义处于监视模式的无线适配器的MAC地址，`接口名称`是处于监视模式的无线适配器的接口名称：
- en: '![](img/8485d682-b95e-4748-807c-3c8a89df910b.png)'
  id: totrans-326
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8485d682-b95e-4748-807c-3c8a89df910b.png)'
- en: 'Figure 28: Performing an ARP request replay attack'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 图28：执行ARP请求重放攻击
- en: Take note of the warning. If you define the wrong MAC address, `aireplay-ng`
    will alert you.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 注意警告。如果您定义了错误的MAC地址，“aireplay-ng”将会警告您。
- en: As traffic traverses from the authenticated client to the access point, and
    ARP requests are captured, you will notice the ARP request count increasing. You
    might receive a message stating that you got a `deauth/disassoc` packet. If this
    happens, ensure that you re-run the fake authentication attack again (*step 2*);you
    might have to do this a number of times.
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 当流量从经过认证的客户端到接入点，以及捕获ARP请求时，您会注意到ARP请求计数在增加。您可能会收到一条消息，说明您收到了`deauth/disassoc`数据包。如果发生这种情况，请确保重新运行伪身份验证攻击（*步骤2*）；您可能需要多次这样做。
- en: 'Once you have received enough IVs, as shown in *Figure 29 *under the `#Data`
    column, you are ready to crack the key using `aircrack-ng`:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您收到足够的IVs，如*图29*所示，在`#Data`列下，您就可以使用`aircrack-ng`来破解密钥：
- en: '![](img/a9625617-44de-41f6-a421-815de46dc291.png)'
  id: totrans-331
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a9625617-44de-41f6-a421-815de46dc291.png)'
- en: 'Figure 29: Large number of IVs received as depicted by the #Data column'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 图29：通过#Data列显示接收到大量IVs
- en: 'To crack the WEP key, the following command is used:'
  id: totrans-333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要破解WEP密钥，使用以下命令：
- en: '[PRE14]'
  id: totrans-334
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: In this command, we define the access points MAC address using the `-b` option,
    then we define the capture name, which can also be defined as `*.cap`.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个命令中，我们使用`-b`选项定义了接入点的MAC地址，然后我们定义了捕获名称，也可以定义为`*.cap`。
- en: 'If you have capture enough IVs, the key will be cracked as shown in *F**igure
    30*:'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您捕获了足够的IVs，密钥将会被破解，如*图30*所示：
- en: '![](img/926fb949-de2f-4a92-801f-208793d3f03c.png)'
  id: totrans-337
  prefs: []
  type: TYPE_IMG
  zh: '![](img/926fb949-de2f-4a92-801f-208793d3f03c.png)'
- en: 'Figure 30: WEP key cracked'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 图30：WEP密钥破解
- en: Remember to remove the colons, `:`, to obtain the actual key.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 记住去掉冒号`:`，以获取实际的密钥。
- en: The difference between cracking WPA/WPA2 and WEP is the approach. WEP uses statistical
    methods, which can be used to speed up the cracking process, but in WPA/WPA2,
    the only option that exists is brute force.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 破解WPA/WPA2和WEP之间的区别在于方法。WEP使用统计方法，可以用来加快破解过程，但在WPA/WPA2中，唯一存在的选项是暴力破解。
- en: Summary
  id: totrans-341
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, you have learned about the various wireless attack methods.
    We have identified a key component of a wireless network, wireless frames, and
    the various information that can be obtained from some of these frames. You have
    learned which network cards are capable of performing packet injection, intercepting
    wireless packets, and how to increase power ratings of an Alfa wireless card.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章中，您已经了解了各种无线攻击方法。我们已经确定了无线网络的一个关键组成部分，无线帧，以及可以从其中一些帧中获取的各种信息。您已经了解了哪些网络卡能够执行数据包注入，拦截无线数据包，以及如何增加Alfa无线网卡的功率评级。
- en: We discussed the various encryption methods that exist in wireless networks,
    and the vulnerabilities of them. You have gained knowledge about various attack
    tools, and how to perform different types of attacks. Lastly, you have learned
    how to crack WEP and WPA/WPA2 pre-shared keys.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 我们讨论了存在于无线网络中的各种加密方法，以及它们的漏洞。您已经了解了各种攻击工具，以及如何执行不同类型的攻击。最后，您已经学会了如何破解WEP和WPA/WPA2预共享密钥。
- en: In [Chapter 10](aa2258b0-f6da-4c68-a2e0-d9ef6d53d9ed.xhtml), *Moving Laterally
    and Escalating Your Privileges*, we will look at how to move around laterally
    within a network, with the objective of finding a high-privileged account. You
    will also learn how to escalate privileges within a network.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第10章](aa2258b0-f6da-4c68-a2e0-d9ef6d53d9ed.xhtml)中，*横向移动和提升特权*，我们将探讨如何在网络中横向移动，以寻找高特权账户的目标。您还将学习如何在网络中提升特权。
- en: Questions
  id: totrans-345
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Name the three types of wireless frames.
  id: totrans-346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 列举三种无线帧的类型。
- en: What type of information can be obtained from a beacon frame?
  id: totrans-347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从信标帧中可以获得什么类型的信息？
- en: Why is WPA2 more secure than WPA?
  id: totrans-348
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为什么WPA2比WPA更安全？
- en: Name four types of wireless attack.
  id: totrans-349
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 列举四种无线攻击类型。
- en: Name three wireless attack tools.
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 列举三种无线攻击工具的名称。
