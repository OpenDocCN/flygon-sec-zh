- en: Chapter 7. Client-side Attacks
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第7章 客户端攻击
- en: In the previous chapter, we discussed how to execute a vulnerability assessment
    on the network. This chapter will cover client-side attacks, which will help you
    understand how hackers can target and attack systems and other devices on the
    network. So what is a client-side attack? I'm glad you asked!
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们讨论了如何对网络进行漏洞评估。本章将涵盖客户端攻击，这将帮助您了解黑客如何针对网络上的系统和其他设备进行攻击。那么什么是客户端攻击？我很高兴你问！
- en: 'In this chapter, we will be covering the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Types of client-side attacks
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客户端攻击的类型
- en: Sniffing unencrypted traffic
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 嗅探未加密的流量
- en: Honeypot attacking
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 蜜罐攻击
- en: Preventing threats
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预防威胁
- en: '![Client-side Attacks](img/3183OS_07_01.jpg)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![客户端攻击](img/3183OS_07_01.jpg)'
- en: How client-side attacks work
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户端攻击的工作原理
- en: To fully understand how a client-side attack works, we need to discuss how server-side
    attacks work in contrast to client-side attacks. Servers run many different applications
    and services that interact with clients. These server services are accessible
    to the client that makes the service available to them at their disposal to try
    and exploit. As more services run on a server, it becomes more vulnerable to attacks.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 要充分理解客户端攻击的工作原理，我们需要讨论与客户端攻击相对的服务器端攻击的工作原理。服务器运行许多不同的应用程序和服务，这些应用程序和服务与客户端进行交互。这些服务器服务对客户端开放，使客户端可以尝试利用这些服务。服务器上运行的服务越多，就越容易受到攻击。
- en: '![How client-side attacks work](img/3183OS_07_02.jpg)'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![客户端攻击的工作原理](img/3183OS_07_02.jpg)'
- en: Client-side attacks are different. These kinds of attacks target vulnerabilities
    within the client applications that interact with a malicious server. If the client
    is not connected to a server, it is not at risk because it doesn't process anything
    sent from a server. Instant messaging applications can potentially expose a client
    to attacks because most clients are automatically configured to log in to the
    server.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 客户端攻击是不同的。这些攻击针对与恶意服务器交互的客户端应用程序中的漏洞。如果客户端没有连接到服务器，它就不会有风险，因为它不会处理从服务器发送的任何内容。即时通讯应用程序可能会使客户端暴露于攻击之下，因为大多数客户端都自动配置为登录到服务器。
- en: '![How client-side attacks work](img/3183OS_07_03.jpg)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![客户端攻击的工作原理](img/3183OS_07_03.jpg)'
- en: The most common client-side attacks are carried out when someone visits a malicious
    web page that targets their web browser application. If the attack is successful,
    the attacker could easily take control of the client. There are more attacks than
    just web-based attacks such as attacks via e-mail, instant messaging, and FTP.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 最常见的客户端攻击是当某人访问一个恶意的网页，该网页针对他们的网络浏览器应用程序。如果攻击成功，攻击者可以轻易控制客户端。除了基于网络的攻击，还有更多的攻击方式，比如通过电子邮件、即时通讯和FTP进行的攻击。
- en: '![How client-side attacks work](img/3183OS_07_04.jpg)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![客户端攻击的工作原理](img/3183OS_07_04.jpg)'
- en: Clients are only protected when there is defense available. Firewalls and proxies
    help restrict network traffic to only trusted websites and servers. Hardware firewalls
    such as WatchGuard's XTM 800 Series have packet filtering, intrusion prevention
    services, and application control. If you are a business and don't have a hardware
    firewall on your network, all of your systems and devices are at risk.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 只有在有防御措施时，客户端才受到保护。防火墙和代理帮助限制网络流量只能访问受信任的网站和服务器。WatchGuard的XTM 800系列硬件防火墙具有数据包过滤、入侵防护服务和应用程序控制。如果您是一家企业，而网络上没有硬件防火墙，那么您所有的系统和设备都会面临风险。
- en: Types of client-side attacks
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户端攻击的类型
- en: Client-side attacks exploit the trust between the user and the website or server
    they visit.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 客户端攻击利用用户与他们访问的网站或服务器之间的信任。
- en: '![Types of client-side attacks](img/3183OS_07_05.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![客户端攻击的类型](img/3183OS_07_05.jpg)'
- en: 'The following types of attacks are the most common client-side attacks:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是最常见的客户端攻击类型：
- en: '**Spoofing**: Tricking the user into believing a website or server is legitimate.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**欺骗**: 欺骗用户相信网站或服务器是合法的。'
- en: '**Cross-site scripting (XSS)**: This allows an attacker to execute from within
    the user''s web browser. This attack can be used to take control of a user''s
    session, conduct phishing attacks to steal login credentials, or even humiliate
    the user with explicit content. All web applications are vulnerable to this exploit.
    Typically, an exploit will use HTML, JavaScript, VBScript, ActiveX, Java, or Flash
    to execute on the user''s web browser application.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**跨站脚本（XSS）**: 这允许攻击者在用户的网络浏览器内执行操作。这种攻击可以用来控制用户的会话，进行钓鱼攻击以窃取登录凭据，甚至用露骨内容羞辱用户。所有网络应用程序都容易受到这种利用的攻击。通常，攻击会使用HTML、JavaScript、VBScript、ActiveX、Java或Flash在用户的网络浏览器应用程序上执行。'
- en: '![Types of client-side attacks](img/3183OS_07_06.jpg)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![客户端攻击的类型](img/3183OS_07_06.jpg)'
- en: Sniffing unencrypted traffic
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 嗅探未加密的流量
- en: You should know by now that unencrypted wireless traffic can be viewed by anyone
    and so your data can be easily compromised. Have you ever connected to a public
    wireless network such as Starbucks or a hotel? Have you ever thought who else
    might be connected and could be listening to your network traffic? Sounds pretty
    scary, huh?
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在应该知道，任何人都可以查看未加密的无线流量，因此您的数据很容易被泄露。您是否曾经连接到过公共无线网络，比如星巴克或酒店？您是否曾经想过还有谁可能连接并监听您的网络流量？听起来很可怕，对吧？
- en: It actually takes little to no experience at all! It is remarkably easy for
    anyone to view unencrypted traffic. In this next demonstration, I will be showing
    you in detail how to sniff your unencrypted traffic. This demonstration will help
    you understand how important it is to always connect using a secure connection.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，几乎不需要任何经验！任何人都可以轻松查看未加密的流量。在接下来的演示中，我将详细向您展示如何嗅探您的未加密流量。这个演示将帮助您了解始终使用安全连接是多么重要。
- en: Navigate to **Applications** | **Internet** | **Wireshark**:![Sniffing unencrypted
    traffic](img/3183OS_07_08.jpg)
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**应用程序** | **互联网** | **Wireshark**：![嗅探未加密的流量](img/3183OS_07_08.jpg)
- en: Tip
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: You can also open Wireshark by opening a Terminal and typing `sudo wireshark`.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以通过打开终端并输入`sudo wireshark`来打开Wireshark。
- en: If you receive an error message or information message, click on **OK**:![Sniffing
    unencrypted traffic](img/3183OS_07_09.jpg)
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果收到错误消息或信息消息，请点击**确定**：![嗅探未加密的流量](img/3183OS_07_09.jpg)
- en: In the preceding screenshot, it is simply stating that `dofile` is disabled
    due to running Wireshark as a superuser. We can simply ignore this error message
    by clicking on **OK** as it will not affect our work. It is simply stating that
    we are running Wireshark as an unprivileged user.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在上面的截图中，它只是说明由于以超级用户身份运行Wireshark，`dofile`被禁用。我们可以简单地忽略这个错误消息，点击**确定**，因为这不会影响我们的工作。它只是说明我们正在以非特权用户身份运行Wireshark。
- en: '![Sniffing unencrypted traffic](img/3183OS_07_10.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![嗅探未加密的流量](img/3183OS_07_10.jpg)'
- en: The Wireshark graphical interface should appear:![Sniffing unencrypted traffic](img/3183OS_07_11.jpg)
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Wireshark图形界面应该会出现：![嗅探未加密的流量](img/3183OS_07_11.jpg)
- en: Then, navigate to **Capture** | **Interfaces...** as follows:![Sniffing unencrypted
    traffic](img/3183OS_07_12.jpg)
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，按照以下步骤导航到**捕获** | **接口...**：![嗅探未加密的流量](img/3183OS_07_12.jpg)
- en: In this demonstration, we have selected **eth0**. This might be **wlan0** or
    **wlan1** for some of you. Check the box and click on **Start**:![Sniffing unencrypted
    traffic](img/3183OS_07_13.jpg)
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这个演示中，我们选择了**eth0**。对于一些人来说，这可能是**wlan0**或**wlan1**。选中该框，然后点击**开始**：![嗅探未加密的流量](img/3183OS_07_13.jpg)
- en: You should see Wireshark beginning to capture network traffic:![Sniffing unencrypted
    traffic](img/3183OS_07_14.jpg)
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您应该看到Wireshark开始捕获网络流量：![嗅探未加密的流量](img/3183OS_07_14.jpg)
- en: In this demonstration, we will be filtering `telnet`. Click on **Save**:![Sniffing
    unencrypted traffic](img/3183OS_07_15.jpg)
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这个演示中，我们将过滤`telnet`。点击**保存**：![嗅探未加密的流量](img/3183OS_07_15.jpg)
- en: Use the `telnet` command to connect to a telnet server. You will need to run
    your own telnet server to follow this:![Sniffing unencrypted traffic](img/3183OS_07_16.jpg)
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`telnet`命令连接到telnet服务器。您需要运行自己的telnet服务器才能进行此操作：![嗅探未加密的流量](img/3183OS_07_16.jpg)
- en: In Wireshark, you should see a lot of different telnet packets. Right-click
    on one of them and select **Follow TCP Stream**:![Sniffing unencrypted traffic](img/3183OS_07_17.jpg)
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Wireshark中，您应该会看到很多不同的telnet数据包。右键单击其中一个，然后选择**跟踪TCP流**：![嗅探未加密的流量](img/3183OS_07_17.jpg)
- en: It should display the telnet session output with the login and password in plain
    text:![Sniffing unencrypted traffic](img/3183OS_07_18.jpg)
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它应该显示telnet会话输出，其中包含明文的登录和密码：![嗅探未加密的流量](img/3183OS_07_18.jpg)
- en: To use a secure form of this connection, you must use SSH-2\. SSH-1 has man-in-the-middle
    attack problems and security vulnerabilities. SSH-1 is also obsolete and should
    be avoided at all costs. Make sure you update your `sshd_config` file, change
    the default SSH port, limit users' SSH access, configure IDL logout timeout interval,
    disable the root login, and set a warning banner according to your legal terms
    and legal notice details. Use strong SSH passwords and passphrases. I cannot stress
    enough how important this is.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用此连接的安全形式，必须使用SSH-2。SSH-1存在中间人攻击问题和安全漏洞。SSH-1也已经过时，应该尽量避免使用。确保更新您的`sshd_config`文件，更改默认的SSH端口，限制用户的SSH访问，配置IDL注销超时间隔，禁用root登录，并根据您的法律条款和法律通知详细信息设置警告横幅。使用强大的SSH密码和口令。我无法再次强调这一点有多重要。
- en: Honeypot attacking
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 蜜罐攻击
- en: With technology advancing, wireless networks are becoming much larger in terms
    of bandwidth and range. A hacker can easily set up a wireless honeypot to lure
    victims into what they believe is a trusted wireless network. What is a wireless
    honeypot? A **wireless honeypot** is a device configured to be an access point
    in which it may have the same SSID as another access point in the area and is
    also configured with a proxy to point to the attacker's computer.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 随着技术的进步，无线网络在带宽和范围方面变得更大。黑客可以轻松地设置一个无线蜜罐，诱使受害者进入他们认为是受信任的无线网络。什么是无线蜜罐？**无线蜜罐**是一个配置为接入点的设备，它可能具有与该区域内另一个接入点相同的SSID，并且还配置有代理指向攻击者的计算机。
- en: 'If a user were to connect to a honeypot, all their network traffic would be
    filtered or monitored by the attacker, which may end up in a man-in-the-middle
    attack. The attacker would then be able to view any unencrypted traffic within
    that connection, such as e-mail, instant messaging, FTP, and telnet sessions:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果用户连接到蜜罐，他们所有的网络流量都将被攻击者过滤或监视，这可能导致中间人攻击。攻击者随后可以查看该连接中的任何未加密流量，例如电子邮件、即时通讯、FTP和telnet会话：
- en: '![Honeypot attacking](img/3183OS_07_20.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![蜜罐攻击](img/3183OS_07_20.jpg)'
- en: If the attacker has a high-power gain antenna, the client is more than likely
    to see it on the top of the wireless list for available wireless networks. Another
    thing to note is that most Microsoft Windows operating systems are configured
    to automatically connect to a wireless network, which can be very bad if a honeypot
    happened to be nearby with the same SSID and passphrase. This feature can be disabled.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 如果攻击者有高功率增益天线，客户端很可能会在可用无线网络的顶部看到它。还要注意的是，大多数Microsoft Windows操作系统都配置为自动连接到无线网络，如果附近有相同SSID和密码短语的蜜罐，这可能非常糟糕。此功能可以被禁用。
- en: How do I protect myself from a honeypot or man-in-the-middle attack?
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何保护自己免受蜜罐或中间人攻击？
- en: One of the easiest ways to protect yourself from a honeypot attack is to simply
    not use wireless. What if your organization requires wireless? On BYOD devices,
    profiles should be created to only allow trusted wireless networks to connect
    to the client's devices. Use a 3G/4G connection or go wired. What if you still
    need wireless? There are software- and hardware-based Wireless Intrusion Prevention
    Systems (WIPS) that can detect rogue access points.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 保护自己免受蜜罐攻击的最简单方法之一是简单地不使用无线网络。如果您的组织需要无线网络怎么办？在BYOD设备上，应创建配置文件，只允许信任的无线网络连接到客户端设备。使用3G/4G连接或有线连接。如果您仍然需要无线网络怎么办？有基于软件和硬件的无线入侵防范系统（WIPS）可以检测到恶意接入点。
- en: '![How do I protect myself from a honeypot or man-in-the-middle attack?](img/3183OS_07_22.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![我如何保护自己免受蜜罐或中间人攻击？](img/3183OS_07_22.jpg)'
- en: WIPS identifies these access points by SSID, channel, signal strength, and MAC
    address. If the parameters do not match, then there is a chance that the AP is
    a honeypot. What if the hacker operates at the same SSID and channel? The WIPS
    will then go by the signal strength. The signal strength can determine whether
    it is a legitimate AP or not.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: WIPS通过SSID、频道、信号强度和MAC地址识别这些接入点。如果参数不匹配，则AP可能是蜜罐。如果黑客在相同的SSID和频道上操作会怎么样？WIPS将根据信号强度进行判断。信号强度可以确定它是否是合法的AP。
- en: '**KFSensor** is a Windows-based honeypot **Intrusion Detection System** (**IDS**).
    It acts like a honeypot to attract and detect hackers, worms, rogues, and vulnerabilities.
    By acting as a decoy, it can divert from attacks to provide an additional level
    of security. The KFSensor interface is shown in the following screenshot:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '**KFSensor**是基于Windows的蜜罐**入侵检测系统**（**IDS**）。它就像一个蜜罐，吸引并检测黑客、蠕虫、流氓和漏洞。通过充当诱饵，它可以转移攻击以提供额外的安全级别。KFSensor界面如下截图所示：'
- en: '![How do I protect myself from a honeypot or man-in-the-middle attack?](img/3183OS_07_23.jpg)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![我如何保护自己免受蜜罐或中间人攻击？](img/3183OS_07_23.jpg)'
- en: You can download a 30-day trial from [http://www.keyfocus.net/kfsensor/download/](http://www.keyfocus.net/kfsensor/download/).
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[http://www.keyfocus.net/kfsensor/download/](http://www.keyfocus.net/kfsensor/download/)下载30天的试用版。
- en: Karmetasploit
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Karmetasploit
- en: 'Karmetasploit is very much like a honeypot, but it focuses on vulnerabilities
    and exploiting the client. Karmetasploit is a fake rogue access point application.
    When a victim connects to it, Karmetasploit will launch all exploits within the
    Metasploit framework against the client. It can also capture logins and passwords.
    The Karmetasploit interface is shown in the following screenshot:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: Karmetasploit非常类似于蜜罐，但它专注于漏洞和对客户端的利用。Karmetasploit是一个虚假的流氓接入点应用程序。当受害者连接到它时，Karmetasploit将针对客户端启动Metasploit框架中的所有漏洞利用。它还可以捕获登录和密码。Karmetasploit界面如下截图所示：
- en: '![Karmetasploit](img/3183OS_07_24.jpg)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![Karmetasploit](img/3183OS_07_24.jpg)'
- en: In this next demonstration, we will be creating a fake AP using Karmetasploit.
    Please understand that these demonstrations are only to be used for educational
    purposes. Broadcasting Karmetasploit can be illegal in some locations. Please
    consult with a competent attorney licensed to practice in your jurisdiction before
    using Karmetasploit.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的演示中，我们将使用Karmetasploit创建一个虚假的AP。请理解这些演示仅用于教育目的。在某些地方广播Karmetasploit可能是非法的。在使用Karmetasploit之前，请咨询在您的司法管辖区有执业资格的有能力的律师。
- en: Let's begin the demonstration!
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始演示！
- en: 'Open a Terminal and download PwnSTAR from [www.github.com](http://www.github.com):'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开终端并从[www.github.com](http://www.github.com)下载PwnSTAR：
- en: '[PRE0]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The following is the output:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是输出：
- en: '![Karmetasploit](img/3183OS_07_25.jpg)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![Karmetasploit](img/3183OS_07_25.jpg)'
- en: Navigate to the `PwnSTAR` directory:![Karmetasploit](img/3183OS_07_26.jpg)
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到`PwnSTAR`目录：![Karmetasploit](img/3183OS_07_26.jpg)
- en: Execute `installer.sh` and follow the prompts:![Karmetasploit](img/3183OS_07_27.jpg)
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行`installer.sh`并按照提示操作：![Karmetasploit](img/3183OS_07_27.jpg)
- en: Tip
  id: totrans-64
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: When asked where to install PwnSTAR, just press *Enter* or type `/usr/bin`.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 当被问及在哪里安装PwnSTAR时，只需按*Enter*或输入`/usr/bin`。
- en: Navigate to the `pwnstar` directory `/user/bin`:![Karmetasploit](img/3183OS_07_28.jpg)
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到`pwnstar`目录`/user/bin`：![Karmetasploit](img/3183OS_07_28.jpg)
- en: Enter `y`:![Karmetasploit](img/3183OS_07_29.jpg)
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`y`：![Karmetasploit](img/3183OS_07_29.jpg)
- en: Choose option **5) Karmetasploit**:![Karmetasploit](img/3183OS_07_30.jpg)
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择选项**5) Karmetasploit**：![Karmetasploit](img/3183OS_07_30.jpg)
- en: Follow the prompts:![Karmetasploit](img/3183OS_07_31.jpg)
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照提示操作：![Karmetasploit](img/3183OS_07_31.jpg)
- en: In the preceding screenshot, you can see we are providing Internet access. This
    way the user knows they are connected to the Internet; however, DNS can be spoofed
    so that DNS requests will go to the attacker and not to the Internet. `wlan0`
    is the interface used for the wireless access point.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一个屏幕截图中，您可以看到我们正在提供互联网访问。这样用户就知道他们已连接到互联网；但是，DNS可能被欺骗，以便DNS请求将发送到攻击者而不是互联网。`wlan0`是用于无线接入点的接口。
- en: Follow the prompts, as shown:![Karmetasploit](img/3183OS_07_32.jpg)
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照所示的提示操作：![Karmetasploit](img/3183OS_07_32.jpg)
- en: This should take you to the following screen:![Karmetasploit](img/3183OS_07_33.jpg)
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这应该带您到以下屏幕：![Karmetasploit](img/3183OS_07_33.jpg)
- en: In the preceding screenshot, when asked for the channel, you can enter any channel
    number (`1` to `11`). In this demonstration, I used `6`.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一个屏幕截图中，当要求输入频道时，您可以输入任何频道号（`1`到`11`）。在这个演示中，我使用了`6`。
- en: Choose option **3) SoftAP Channel** and enter channel number `6`:![Karmetasploit](img/3183OS_07_34.jpg)
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择选项**3) SoftAP Channel**并输入频道号`6`：![Karmetasploit](img/3183OS_07_34.jpg)
- en: Enter the letter `c` to continue and choose option **2) Bullzeye**:![Karmetasploit](img/3183OS_07_35.jpg)
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入字母`c`继续并选择选项**2) Bullzeye**：![Karmetasploit](img/3183OS_07_35.jpg)
- en: Bullzeye broadcasts only the SSID that you want to assign. When a user connects
    to the wireless AP, they will receive Internet access from `eth0` as it is being
    shared to `wlan0`.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: Bullzeye只广播您想要分配的SSID。当用户连接到无线AP时，他们将从`eth0`接收到互联网访问，因为它被共享到`wlan0`。
- en: Enter the SSID name that you want to use:![Karmetasploit](img/3183OS_07_36.jpg)
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入要使用的SSID名称：![Karmetasploit](img/3183OS_07_36.jpg)
- en: Tip
  id: totrans-78
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: If you are asked to check for DHCP server parameters, you do not need to do
    that. DHCP will be automatically set and configured.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 如果要求检查DHCP服务器参数，则不需要这样做。DHCP将自动设置和配置。
- en: If all goes well, Karmetasploit and several other Terminal windows will prompt
    you for input:![Karmetasploit](img/3183OS_07_37.jpg)
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果一切顺利，Karmetasploit和其他几个终端窗口将提示您输入：![Karmetasploit](img/3183OS_07_37.jpg)
- en: Congratulations! You have successfully installed and run Karmetasploit.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜！您已成功安装并运行Karmetasploit。
- en: Jasager
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Jasager
- en: Not many people know much about Jasager. If you are one of those people, today's
    your lucky day because in this section, you are going to learn what Jasager is
    and what it has to offer to wireless penetration testers.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 很少有人对Jasager了解甚深。如果你是其中之一，今天就是你的幸运日，因为在这一部分，你将学到Jasager是什么，以及它对无线渗透测试人员有什么提供。
- en: Jasager is built off Karma. It's designed to run on OpenWrt. Jasager supports
    most wireless access points and Wi-Fi network adapters. Its key features are a
    web interface that displays network information, full control of Karma features
    through AJAX and Lynx, autorun scripts that make it easy to execute tasks, logging,
    and support for basic commands.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: Jasager是基于Karma构建的。它设计用于在OpenWrt上运行。Jasager支持大多数无线接入点和Wi-Fi网络适配器。它的主要特点是一个显示网络信息的Web界面，通过AJAX和Lynx完全控制Karma功能，自动运行脚本使执行任务变得容易，日志记录以及对基本命令的支持。
- en: The WiFi Pineapple Mark 5 is the perfect device for all your wireless network
    auditing tools. Darren Kitchen, owner of hak5.com, focuses on making the most
    affordable wireless device that extends the use of wireless hacking tools. The
    WiFi Pineapple has been around since 2008 and has served penetration testers,
    military and government, law enforcement, and hacktivists. Be sure to check it
    out at [https://wifipineapple.com](https://wifipineapple.com).
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: WiFi Pineapple Mark 5是所有无线网络审计工具的完美设备。hak5.com的所有者Darren Kitchen专注于制造最实惠的无线设备，以扩展无线黑客工具的使用。WiFi
    Pineapple自2008年以来一直存在，并为渗透测试人员、军方和政府、执法部门和黑客活动分子提供服务。一定要在[https://wifipineapple.com](https://wifipineapple.com)上查看它。
- en: In this next demonstration, I will show you how to enable Jasager on the WiFi
    Pineapple. Those of you who don't have one should still follow along because it's
    important to understand how it works and how easy it is to execute over the network.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的演示中，我将向你展示如何在WiFi Pineapple上启用Jasager。即使你没有WiFi Pineapple，也应该跟着做，因为了解它的工作原理以及在网络上执行起来有多容易是很重要的。
- en: Connect to your WiFi Pineapple directly to your computer via an Ethernet cable.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以太网电缆直接将WiFi Pineapple连接到你的计算机。
- en: Open your web browser and navigate to `http://172.16.42.1/pineapple`. Sign in
    as `root`; the password is `pineapplesareyummy`:![Jasager](img/3183OS_07_41.jpg)
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开你的网络浏览器，导航到`http://172.16.42.1/pineapple`。以`root`身份登录；密码是`pineapplesareyummy`：![Jasager](img/3183OS_07_41.jpg)
- en: On the left-hand side, you should see a list of services; click on the **Start**
    button next to **MK4 Karma**:![Jasager](img/3183OS_07_42.jpg)
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在左侧，你应该看到一个服务列表；点击**MK4 Karma**旁边的**Start**按钮：![Jasager](img/3183OS_07_42.jpg)
- en: Congratulations! You have successfully enabled Jasager. So what is Jasager?
    **Jasager** is an implementation of Karma designed to run on OpenWRT. With Jasager,
    you can see the currently connected clients with their MAC address, IP address,
    and SSID. You can autorun scripts to automate your tasks for association and IP
    assignment, log information, and make use of a full-blown command-line interface
    for quick and easy access. For a business, you could use Jasager to notify you
    if a new client connects to the network and then provide the new client with a
    website banner indicating that they are being monitored and that any unauthorized
    access is prohibited. At home, you can identify if you have neighbors trying to
    steal your wireless Internet.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜！你已成功启用了Jasager。那么Jasager是什么呢？**Jasager**是Karma的一种实现，旨在在OpenWRT上运行。通过Jasager，你可以看到当前连接的客户端及其MAC地址、IP地址和SSID。你可以自动运行脚本来自动执行关联和IP分配的任务，记录信息，并利用一个完整的命令行界面进行快速和轻松的访问。对于企业来说，你可以使用Jasager通知你新的客户端连接到网络，然后为新的客户端提供一个网站横幅，指示他们正在被监视，并且任何未经授权的访问是被禁止的。在家里，你可以确定是否有邻居试图窃取你的无线互联网。
- en: Preventions
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 预防措施
- en: 'Okay, so you are fully aware that the next hotel visit could be dangerous,
    even if it''s only flooded with kittens on each web page redirection. Well, the
    good news is we still have ways to protect ourselves from these honeypots or rogue
    access points. Some of them are listed as follows:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 好的，所以你完全意识到下一次酒店访问可能是危险的，即使每个网页重定向都只是充斥着小猫。好消息是，我们仍然有办法保护自己免受这些蜜罐或恶意接入点的威胁。以下是其中一些：
- en: '**Disable Wi-Fi**: Turning off the Wi-Fi is the easiest way to ensure your
    security. Without Wi-Fi, you are reducing your security risk to these attacks.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**禁用Wi-Fi**：关闭Wi-Fi是确保你的安全的最简单方法。没有Wi-Fi，你就减少了这些攻击对你的安全风险。'
- en: '**Never connect to open Wi-Fi networks**: Free Internet sounds great, but what
    if someone happens to be sniffing all the network traffic? Don''t take any chances
    with open Wi-Fi networks.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 永远不要连接到开放的Wi-Fi网络：免费的互联网听起来很棒，但如果有人碰巧在嗅探所有的网络流量呢？不要冒险连接开放的Wi-Fi网络。
- en: '**Connect to a secure VPN connection**: If an open network is your only way
    of access, always use a secure VPN connection.'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**连接到安全的VPN连接**：如果开放网络是你唯一的访问方式，一定要使用安全的VPN连接。'
- en: Summary
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: This has been a great chapter! We covered a lot of stuff. Let's take a few moments
    to look back at what you've learned. In this chapter, you learned how to capture
    unencrypted traffic, and gained an understanding of honeypot attacks and methods,
    Karmetasploit, Jasager, and prevention from threats.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个很棒的章节！我们涵盖了很多内容。让我们花一些时间回顾一下你学到了什么。在这一章中，你学会了如何捕获未加密的流量，并了解了蜜罐攻击和方法、Karmetasploit、Jasager以及威胁预防。
- en: In the next chapter, you will learn to capture encrypted network traffic and
    get to know about man-in-the-middle attacks.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，你将学会捕获加密的网络流量，并了解中间人攻击。
