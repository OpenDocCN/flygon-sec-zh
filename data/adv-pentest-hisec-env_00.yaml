- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Penetration testers are faced with a combination of firewalls, intrusion detection
    systems, host-based protection, hardened systems, and teams of knowledgeable analysts
    that pour over data collected by their security information management systems.
    In an environment such as this, simply running automated tools will typically
    yield few results. The false sense of this security can easily result in the loss
    of critical data and resources.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试人员面临着防火墙、入侵检测系统、基于主机的保护、硬化系统以及由知识渊博的分析员组成的团队，他们通过安全信息管理系统收集的数据。在这样的环境中，仅仅运行自动化工具通常会产生很少的结果。这种安全的虚假感觉很容易导致关键数据和资源的丢失。
- en: '*Advanced Penetration Testing for Highly Secured Environments* provides guidance
    on going beyond the basic automated scan. It will provide you with a stepping
    stone which can be used to take on the complex and daunting task of effectively
    measuring the entire attack surface of a traditionally secured environment.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 《高度安全环境下的高级渗透测试》提供了超越基本自动化扫描的指导。它将为您提供一个基石，可用于承担有效测量传统安全环境的整个攻击面的复杂和艰巨任务。
- en: '*Advanced Penetration Testing for Highly Secured Environments* uses only freely
    available tools and resources to teach these concepts. One of the tools we will
    be using is the well-known penetration testing platform BackTrack. BackTrack''s
    amazing team of developers continuously update the platform to provide some of
    the best security tools available. Most of the tools we will use for simulating
    a penetration test are contained on the most recent version of BackTrack.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 《高度安全环境下的高级渗透测试》使用仅有的免费工具和资源来教授这些概念。我们将使用的其中一个工具是著名的渗透测试平台BackTrack。BackTrack的出色开发团队不断更新平台，提供一些最好的安全工具。我们将用于模拟渗透测试的大多数工具都包含在最新版本的BackTrack中。
- en: The Penetration Testing Execution Standard (**PTES**), [http://www.pentest-standard.org](http://www.pentest-standard.org),
    is used as a guideline for many of our stages. Although not everything within
    the standard will be addressed, we will attempt to align the knowledge in this
    book with the basic principles of the standard when possible.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试执行标准（PTES），[http://www.pentest-standard.org](http://www.pentest-standard.org)，被用作我们许多阶段的指南。尽管标准中的并非所有内容都会被讨论，但我们将尽可能地将本书中的知识与标准的基本原则相一致。
- en: '*Advanced Penetration Testing for Highly Secured Environments* provides step-by-step
    instructions on how to emulate a highly secured environment on your own equipment
    using VirtualBox, pfSense, snort, and similar technologies. This enables you to
    practice what you have learned throughout the book in a safe environment. You
    will also get a chance to witness what security response teams may see on their
    side of the penetration test while you are performing your testing!'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 《高度安全环境下的高级渗透测试》提供了关于如何在您自己的设备上使用VirtualBox、pfSense、snort和类似技术模拟高度安全环境的逐步说明。这使您能够在安全的环境中实践本书中学到的知识。您还将有机会在执行测试时，亲眼见证安全响应团队可能在渗透测试的一侧看到的情况！
- en: '*Advanced Penetration Testing for Highly Secured Environments* wraps up by
    presenting a challenge in which you will use your virtual lab to simulate an entire
    penetration test from beginning to end. Penetration testers need to be able to
    explain mitigation tactics with their clients; with this in mind we will be addressing
    various mitigation strategies that will address the attacks listed throughout
    the chapters.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 《高度安全环境下的高级渗透测试》通过提出一个挑战来结束，您将使用虚拟实验室模拟从头到尾的整个渗透测试。渗透测试人员需要能够向客户解释缓解策略；考虑到这一点，我们将讨论各种缓解策略，以解决各章节中列出的攻击。
- en: What this book covers
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖内容
- en: '[Chapter 1](ch01.html "Chapter 1. Planning and Scoping for a Successful Penetration
    Test"), *Planning and Scoping for a Successful Penetration Test*, introduces you
    to the anatomy of a penetration test. You will learn how to effectively determine
    the scope of the penetration test as well as where to place your limits, such
    as when dealing with third-party vendor equipment or environments. Prioritization
    techniques will also be discussed.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 《第1章》《规划和范围确定成功的渗透测试》向您介绍了渗透测试的解剖学。您将学习如何有效地确定渗透测试的范围，以及在处理第三方供应商设备或环境时应该设定的限制。还将讨论优先级技术。
- en: '[Chapter 2](ch02.html "Chapter 2. Advanced Reconnaissance Techniques"), *Advanced
    Reconnaissance Techniques*, will guide you through methods of data collection
    that will typically avoid setting off alerts. We will focus on various reconnaissance
    strategies including digging into the deep web and specialty sites to find information
    about your target.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 《第2章》《高级侦察技术》将指导您通过数据收集方法，通常可以避免触发警报。我们将专注于各种侦察策略，包括深入挖掘深网和专业网站，以获取有关您目标的信息。
- en: '[Chapter 3](ch03.html "Chapter 3. Enumeration: Choosing Your Targets Wisely"),
    *Enumeration: Choosing Your Targets Wisely*, provides a thorough description of
    the methods used to perform system footprinting and network enumeration. The goal
    is to enumerate the environment and to explain what to look for when selecting
    your targets. This chapter touches upon mid to advanced Nmap techniques and using
    PBNJ to detect changes on the network. The chapter closes with tips on how to
    avoid enumeration attempts as well as methods of trying to confuse an attacker
    (to buy time for the blue team).'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 《第3章》《枚举：明智选择目标》提供了对执行系统足迹和网络枚举的方法的详细描述。目标是枚举环境并解释在选择目标时要寻找的内容。本章涉及中级到高级的Nmap技术，并使用PBNJ来检测网络上的变化。本章还介绍了如何避免枚举尝试以及如何混淆攻击者的方法（为蓝队争取时间）。
- en: '[Chapter 4](ch04.html "Chapter 4. Remote Exploitation"), *Remote Exploitation*,
    will delve into the Metasploit® framework. We will also describe team based testing
    with Armitage. We take a look at proof of concept exploit code from `Exploit-DB.com`
    which we will rewrite and compile; we also take a look at THC Hydra and John the
    Ripper for password attacks.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](ch04.html "第4章 远程攻击")，“远程攻击”，将深入探讨Metasploit®框架。我们还将描述使用Armitage进行团队测试。我们将查看来自`Exploit-DB.com`的概念验证攻击代码，我们将重新编写和编译；我们还将研究THC
    Hydra和John the Ripper进行密码攻击。'
- en: '[Chapter 5](ch05.html "Chapter 5. Web Application Exploitation"), *Web Application
    Exploitation*, has a focus on web application attacks. We will begin by providing
    step-by-step instructions on how to build a web application exploitation lab and
    then move toward detailing the usage of w3af and WebScarab. Load balancing is
    discussed in detail as many environments now have these features. We introduce
    you to methods of detecting web application firewalls and load balancing with
    hands-on examples. We finish this chapter with an introduction to the Mantra browser.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](ch05.html "第5章 网络应用程序攻击")，“网络应用程序攻击”，重点讨论网络应用程序攻击。我们将首先提供逐步说明如何构建网络应用程序攻击实验室，然后详细介绍w3af和WebScarab的用法。负载平衡将被详细讨论，因为许多环境现在都具有这些功能。我们将介绍检测网络应用程序防火墙和负载平衡的方法，并提供实际示例。我们将在本章结束时介绍Mantra浏览器。'
- en: '[Chapter 6](ch06.html "Chapter 6. Exploits and Client-Side Attacks"), *Exploits
    and Client-Side Attacks*, discusses bypassing AV signatures, details the more
    advanced features of the Social Engineering Toolkit, and goes over the details
    of buffer overflows and fuzzing.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](ch06.html "第6章 攻击和客户端攻击")，“攻击和客户端攻击”，讨论了绕过AV签名，详细介绍了社会工程工具包的更高级功能，并介绍了缓冲区溢出和模糊测试的细节。'
- en: '[Chapter 7](ch07.html "Chapter 7. Post-Exploitation"), *Post-Exploitation*,
    describes the activities performed after a successful attack has been completed.
    We will cover privilege escalation, advanced meterpreter functionality, setting
    up privileged accounts on different OS types, and cleaning up afterwards to leave
    a pristine system behind.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](ch07.html "第7章 攻击后")，“攻击后”，描述了成功攻击完成后执行的活动。我们将涵盖权限提升、高级meterpreter功能、在不同操作系统类型上设置特权帐户，以及清理工作，以留下一个干净的系统。'
- en: '[Chapter 8](ch08.html "Chapter 8. Bypassing Firewalls and Avoiding Detection"),
    *Bypassing Firewalls and Avoiding Detections*, covers methods that can be used
    to attempt to bypass detection while testing. This includes avoiding intrusion
    detection systems and advanced evasion techniques. We also discuss methods of
    increasing the detectability of malicious users or applications.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](ch08.html "第8章 绕过防火墙和避免检测")，“绕过防火墙和避免检测”，涵盖了可以用来尝试绕过检测的方法。这包括避免入侵检测系统和高级规避技术。我们还讨论了增加恶意用户或应用程序的可检测性的方法。'
- en: '[Chapter 9](ch09.html "Chapter 9. Data Collection Tools and Reporting"), *Data
    Collection Tools and Reporting*, will help you create reports and statistics from
    all of the data that you have gathered throughout this testing. You will learn
    how to collect all of the testing data and how to validate results. You will also
    be walked through generating your report.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](ch09.html "第9章 数据收集工具和报告")，“数据收集工具和报告”，将帮助您从您在测试中收集的所有数据中创建报告和统计数据。您将学习如何收集所有测试数据以及如何验证结果。您还将逐步学习如何生成报告。'
- en: '[Chapter 10](ch10.html "Chapter 10. Setting Up Virtual Test Lab Environments"),
    *Setting Up Virtual Testing Lab Environments*, walks you through setting up a
    test environment that mimics a corporation that has a multitier DMZ environment
    using IDS and "some" hardened systems and apps. This includes setting up VBOX,
    BackTrack, virtual firewalls, IDS and Monitoring.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[第10章](ch10.html "第10章 设置虚拟测试实验室环境")，“设置虚拟测试实验室环境”，将指导您设置一个模拟具有多层DMZ环境的公司的测试环境，使用IDS和“一些”加固系统和应用程序。这包括设置VBOX、BackTrack、虚拟防火墙、IDS和监控。'
- en: '[Chapter 11](ch11.html "Chapter 11. Take the Challenge — Putting It All Together"),
    *Take the Challenge — Putting It All Together*, will allow you to gain hands-on
    experience using the skills you have learned throughout the book. We will set
    challenges for you that require you to perform a penetration test on your testing
    environment from start to finish. We will offer step-by-step solutions to the
    challenges to ensure that the material has been fully absorbed.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[第11章](ch11.html "第11章 挑战-将所有内容整合在一起")，“挑战-将所有内容整合在一起”，将让您通过实际操作来运用您在整本书中学到的技能。我们将为您设置挑战，要求您从头到尾对您的测试环境进行渗透测试。我们将提供挑战的逐步解决方案，以确保材料已经完全吸收。'
- en: What you need for this book
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你需要什么来读这本书
- en: In order to practice the material, you will need a computer with sufficient
    power and space to run the virtualization tools that we need to build the lab.
    Any modern computer with a bit of hard drive space should suffice. The virtualization
    tools described within can be run on most modern Operating Systems available today.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 为了练习这些材料，您需要一台性能和空间足够的计算机来运行我们需要构建实验室的虚拟化工具。任何一台带有一点硬盘空间的现代计算机都应该足够。本书中描述的虚拟化工具可以在今天大多数现代操作系统上运行。
- en: Who this book is for
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书是为谁准备的
- en: This book is for any ethical person with the drive, conviction, and the willingness
    to think out-of-the-box and to learn about security testing. Much of the material
    in this book is directed at someone who has some experience with security concepts
    and has a basic understanding of different operating systems. If you are a penetration
    tester, security consultant, or just generally have an interest in testing the
    security of your environment then this book is for you.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书适合任何有动力、信念和愿意打破常规并学习安全测试的道德人士。本书中的许多材料都是针对那些对安全概念有一些经验并对不同操作系统有基本了解的人。如果您是渗透测试人员、安全顾问，或者只是对测试环境的安全性感兴趣，那么这本书适合您。
- en: 'Please note:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意：
- en: '**The information within this book is intended to be used only in an ethical
    manner**.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**本书中的信息仅供以合乎道德的方式使用**。'
- en: '**Do not use any of the information within this book unless you have written
    permission by the owner of the equipment**.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**除非您得到设备所有者的书面许可，否则不要使用本书中的任何信息**。'
- en: '**If you perform illegal acts you should expect to be arrested and prosecuted
    to the full extent of the law**.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**如果您进行非法行为，您应该预料到会被逮捕并依法起诉**。'
- en: '**We do not take responsibility if you misuse any of the information contained
    within this book**.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**如果您滥用本书中包含的任何信息，我们不承担责任**。'
- en: '**The information herein must only be used while testing environments with
    proper written authorization from the appropriate persons**.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '**此处的信息只能在获得适当人员的书面授权后用于测试环境**。'
- en: Conventions
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of styles of text that distinguish between
    different kinds of information. Here are some examples of these styles, and an
    explanation of their meaning.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您会发现一些区分不同信息类型的文本样式。以下是一些这些样式的示例，以及它们的含义解释。
- en: 'Code words in text are shown as follows: "We will use a picture named `FotoStation.jpg`
    ".'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码单词显示如下："我们将使用名为`FotoStation.jpg`的图片"。
- en: 'A block of code is set as follows:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起您对代码块的特定部分的注意时，相关的行或项目会以粗体显示：
- en: '[PRE1]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都以以下方式书写：
- en: '[PRE2]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, in menus or dialog boxes for example, appear in the text like this:
    "Setting the **Network adapter** to **Internal Network** allows our BackTrack
    system to share the same subnet with the newly-created Ubuntu machine."'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语**和**重要单词**以粗体显示。例如，您在屏幕上看到的单词，例如菜单或对话框中的单词，会在文本中显示为这样："将**网络适配器**设置为**内部网络**允许我们的
    BackTrack 系统与新创建的 Ubuntu 机器共享相同的子网。"'
- en: Note
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要说明会以这样的方式显示在一个框中。
- en: Tip
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Tips and tricks appear like this.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 提示和技巧是这样显示的。
- en: Reader feedback
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 读者反馈
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book — what you liked or may have disliked. Reader feedback is important
    for us to develop titles that you really get the most out of.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。让我们知道您对本书的看法——您喜欢或不喜欢的地方。读者的反馈对我们开发您真正受益的标题非常重要。
- en: To send us general feedback, simply send an e-mail to `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`,
    and mention the book title through the subject of your message.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 要向我们发送一般反馈，只需发送电子邮件至 `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`，并在消息主题中提及书名。
- en: If there is a topic that you have expertise in and you are interested in either
    writing or contributing to a book, see our author guide on [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在某个主题上有专业知识，并且有兴趣撰写或为书籍做出贡献，请参阅我们的作者指南 [www.packtpub.com/authors](http://www.packtpub.com/authors)。
- en: Customer support
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户支持
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您是 Packt 书籍的自豪所有者，我们有一些事情可以帮助您充分利用您的购买。
- en: Errata
  id: totrans-49
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 勘误
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books — maybe a mistake in the
    text or the code — we would be grateful if you would report this to us. By doing
    so, you can save other readers from frustration and help us improve subsequent
    versions of this book. If you find any errata, please report them by visiting
    [http://www.packtpub.com/support](http://www.packtpub.com/support), selecting
    your book, clicking on the **errata submission form** link, and entering the details
    of your errata. Once your errata are verified, your submission will be accepted
    and the errata will be uploaded to our website, or added to any list of existing
    errata, under the Errata section of that title.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已经尽一切努力确保内容的准确性，但错误确实会发生。如果您在我们的书中发现错误——也许是文本或代码中的错误——我们将不胜感激，如果您能向我们报告。通过这样做，您可以帮助其他读者避免挫折，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问[http://www.packtpub.com/support](http://www.packtpub.com/support)报告，选择您的书，点击**勘误提交表格**链接，并输入您的勘误详情。一旦您的勘误经过验证，您的提交将被接受，并将被上传到我们的网站，或添加到该标题的勘误部分的任何现有勘误列表中。
- en: Piracy
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 盗版
- en: Piracy of copyright material on the Internet is an ongoing problem across all
    media. At Packt, we take the protection of our copyright and licenses very seriously.
    If you come across any illegal copies of our works, in any form, on the Internet,
    please provide us with the location address or website name immediately so that
    we can pursue a remedy.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网上侵犯版权材料的盗版是所有媒体的持续问题。在 Packt，我们非常重视保护我们的版权和许可。如果您在互联网上发现我们作品的任何非法副本，请立即向我们提供位置地址或网站名称，以便我们采取补救措施。
- en: Please contact us at `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`
    with a link to the suspected pirated material.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 请通过 `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>` 联系我们，并附上涉嫌盗版材料的链接。
- en: We appreciate your help in protecting our authors, and our ability to bring
    you valuable content.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感谢您帮助保护我们的作者，以及我们提供有价值内容的能力。
- en: Questions
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题
- en: You can contact us at `<[questions@packtpub.com](mailto:questions@packtpub.com)>`
    if you are having a problem with any aspect of the book, and we will do our best
    to address it.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在阅读本书的任何方面遇到问题，请通过 `<[questions@packtpub.com](mailto:questions@packtpub.com)>`
    与我们联系，我们将尽力解决。
