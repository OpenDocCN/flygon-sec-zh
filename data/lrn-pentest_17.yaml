- en: Reporting and Acting on Your Findings
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 报告和对发现的行动
- en: Penetration test reports are extremely important as they provide the client
    with detailed outcomes of the test. In this chapter, you will be able to understand
    what exactly goes into a penetration test report. You will be able to identify
    the audience of the report and how their views of the report differ. You will
    learn how to use Dradis, which can help you to keep track of findings, issues,
    and evidence that you can use in your report. You will learn what kind of remediation
    efforts are recommended to help a client to secure their environment.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试报告非常重要，因为它为客户提供了测试的详细结果。在本章中，你将能够了解渗透测试报告的具体内容。你将能够确定报告的受众及其对报告的看法有何不同。你将学会如何使用Dradis，它可以帮助你跟踪发现、问题和证据，这些都可以用在你的报告中。你将学会推荐什么样的补救工作来帮助客户保护他们的环境。
- en: 'As you progress through this chapter, you will learn about the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 随着你在本章的学习过程中，你将了解以下主题：
- en: The importance of a penetration testing report
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 渗透测试报告的重要性
- en: What goes into a penetration test report?
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 渗透测试报告的内容是什么？
- en: Tools for report writing
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 报告撰写工具
- en: Recommending remediation options
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 推荐补救选项
- en: Technical requirements
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'The following technical requirements are needed for this chapter:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 本章需要以下技术要求：
- en: Kali Linux 2019.1
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kali Linux 2019.1
- en: The importance of a penetration testing report
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 渗透测试报告的重要性
- en: Don't underestimate the importance of reporting. A penetration test report serves
    as a way for you to tell your story of navigating through the target organization
    and discovering vulnerabilities. It allows you to communicate important information
    to stakeholders such as the executive and IT management teams. This will help
    them to drive remediation efforts and provide executive backing to any policies
    that may need to be created or updated to address risks that were discovered.
    Remember that, with information security, if there is no backing by an executive
    stake holder, policies are bound to fail.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 不要低估报告的重要性。渗透测试报告是你讲述在目标组织中导航和发现漏洞的故事的一种方式。它允许你向利益相关者传达重要信息，如高管和IT管理团队。这将帮助他们推动补救工作，并为可能需要制定或更新的政策提供高管支持，以解决发现的风险。请记住，在信息安全领域，如果没有高管利益相关者的支持，政策注定会失败。
- en: For technical teams, the report provides a clear picture of how vulnerable their
    environment is. It will provide them with the full technical details of what is
    vulnerable, why it is vulnerable, who it will affect, and how the vulnerability
    can be exploited. Having this information will help the technical team to prepare
    a roadmap of remediation efforts and plan which issues will be addressed first.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 对于技术团队，报告提供了他们环境有多脆弱的清晰图景。它将为他们提供有关哪些方面容易受攻击、为什么容易受攻击、会影响谁以及漏洞如何被利用的全部技术细节。拥有这些信息将帮助技术团队准备补救工作的路线图，并计划首先解决哪些问题。
- en: Don't fall into a pit of not having enough time to produce a decent report—ensure
    that you account for report writing within your planning.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 不要陷入没有足够时间撰写体面报告的困境——确保你在计划中考虑了报告撰写。
- en: When you write your report, don't assume that the people who will read it hold
    the same level of technical skill that you have. They work in IT, but their interests
    might be far different to yours. There is an art to learning how to explain your
    findings in a report; it is an art you will master as you grow and gain experience
    in the field. Ultimately, you want your report to help to build relationships
    with your clients, who will then use your services over and over.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写报告时，不要假设阅读报告的人具有与你相同的技术水平。他们在IT领域工作，但他们的兴趣可能与你的迥然不同。学会如何在报告中解释你的发现是一门艺术；随着你在这个领域的成长和经验的积累，你将掌握这门艺术。最终，你希望你的报告能够帮助建立与客户的关系，然后他们会一次又一次地使用你的服务。
- en: What goes into a penetration test report?
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 渗透测试报告的内容是什么？
- en: Some clients might tell you exactly what they want in a report, while some customers
    won't. In any event, you should have a basic structure that your report will follow.
    The structure that will be discussed here is by no means a template; it is merely
    to help you to understand what will be in the report. If you work for a organization
    that contacts other organizations to perform penetration tests, they might have
    their own templates. If you perform penetration tests as an individual, you will
    build your own templates.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 一些客户可能会告诉你他们想在报告中看到什么，而有些客户则不会。无论如何，你都应该有一个报告遵循的基本结构。这里将讨论的结构绝不是一个模板；它只是帮助你了解报告中会有什么。如果你在一个联系其他组织进行渗透测试的组织工作，他们可能有自己的模板。如果你作为个人进行渗透测试，你将建立自己的模板。
- en: Let's look at some of the sections that a report can contain.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看报告可能包含的一些部分。
- en: Cover page
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 封面
- en: The cover page should contain information such as the name and logo of the penetration
    testing company. The client's name should be displayed, as well as any title that
    has been given for the penetration test. This will provide a clear separation
    in case multiple tests are performed for the same client. The date should appear
    on this page, as well as the classification of the document. The details contained
    within the report are sensitive and should not be available for everyone to view;
    hence, a classification such as **confidential** or **highly confidential** should
    be used.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 封面应包含渗透测试公司的名称和标志。客户的名称应显示，以及为渗透测试指定的任何标题。这将在为同一客户执行多次测试时提供清晰的区分。日期应出现在此页面上，以及文档的分类。报告中包含的细节是敏感的，不应该供所有人查看；因此，应使用**机密**或**高度机密**等分类。
- en: Executive summary
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 执行摘要
- en: The executive summary will communicate the specific goals of the penetration
    test and the findings at a high level. The audience of this section will be people
    who are in charge of the strategic vision, security programs, and oversight of
    the organization. This section usually contains sub-sections, which we will describe
    now.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 执行摘要将以高层次传达渗透测试的具体目标和发现。这一部分的受众将是负责战略愿景、安全计划和组织监督的人员。这一部分通常包含我们将在下面描述的子部分。
- en: Background
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 背景
- en: In this section, you need to define the purpose of the test. Ensure that you
    connect details that were discussed during the pre-engagement phase so that the
    readers are able to link aspects such as the risk, countermeasures, or testing
    goals to the objectives and results of the test.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，您需要定义测试的目的。确保您连接了预参与阶段讨论的细节，以便读者能够将风险、对抗措施或测试目标与测试的目标和结果联系起来。
- en: You can also list any objectives that may have changed during the engagement
    within this section.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以在这一部分列出在参与过程中可能发生变化的任何目标。
- en: Overall posture
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 整体态度
- en: Here, you will state the overall posture of the penetration test. You will state
    how effective the penetration test was and what goals were achieved during the
    test. Within this section, you can state the potential impact it has on the organization.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您将说明渗透测试的整体态度。您将说明渗透测试的有效性以及测试期间实现了哪些目标。在这一部分中，您可以说明它对组织的潜在影响。
- en: Risk ranking
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 风险排名
- en: This section will define the overall risk ranking of the organization. You will
    use a scoring mechanism that should be agreed upon during the pre-engagement phase.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 这一部分将定义组织的整体风险排名。您将使用在预参与阶段达成一致的评分机制。
- en: 'An example would be the **Damage potential**, **Reproducibility**, **Exploitability**,
    **Affected users**, and **Discoverability** model (**DREAD**). Each aspect can
    be defined as follows:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 一个例子是**损害潜力**，**可重现性**，**可利用性**，**受影响用户**和**可发现性**模型（**DREAD**）。每个方面可以定义如下：
- en: '**Damage potential**: How affected are the assets?'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**损害潜力**：资产受到多大影响？'
- en: '**Reproducibility**: How easily can the attack be reproduced?'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可重现性**：攻击有多容易重现？'
- en: '**Exploitability**: How easily can the asset be exploited?'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可利用性**：资产有多容易被利用？'
- en: '**Affected users**: How many users are affected?'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**受影响用户**：有多少用户受到影响？'
- en: '**Discoverability**: How easily can the vulnerability be found?'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可发现性**：漏洞有多容易被发现？'
- en: By answering these questions, you will assign a risk rating value to each item
    that's been discovered. This can be **high**, **medium**, or **low**. The risk
    rating value can be something simple that is expressed in numbers, for example,
    Low=1, Medium=2, and High=3.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 通过回答这些问题，您将为每个发现的项目分配一个风险评级值。这可以是**高**，**中**或**低**。风险评级值可以是一些简单的数字表示，例如，低=1，中=2，高=3。
- en: 'Adding up all of the values will determine the risk rating:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 将所有值相加将确定风险评级：
- en: '| **Risk rating** | **Result** |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '|**风险评级**|**结果**|'
- en: '| High | 12 - 15 |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '|高|12-15|'
- en: '| Medium | 8 -11 |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '|中等|8-11|'
- en: '| Low | 5 - 7 |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '|低|5-7|'
- en: 'An example of using the DREAD model on a finding is as follows:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 使用DREAD模型对发现进行评估的一个例子如下：
- en: '**Vulnerability discovered**: Lack of input sanitation enables the use of a
    SQL injection attack to extract user details from the SQL database.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '**发现的漏洞**：缺乏输入过滤使得可以利用SQL注入攻击从SQL数据库中提取用户详细信息。'
- en: 'Analyzing the ratings for the items in the DREAD model will determine the risk
    rating:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 分析DREAD模型中项目的评级将确定风险评级：
- en: '| **Item** | **Rating** |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '|**项目**|**评级**|'
- en: '| Damage potential | 3 |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '|损害潜力|3|'
- en: '| Reproducibility | 2 |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '|可重现性|2|'
- en: '| Exploitability | 3 |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '|可利用性|3|'
- en: '| Affected users | 3 |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '|受影响用户|3|'
- en: '| Discoverability | 1 |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '|可发现性|1|'
- en: Once you add up all of the values, the sum is 12, which means the risk rating
    is high.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦将所有值相加，总和为12，这意味着风险评级很高。
- en: General findings
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 一般发现
- en: In this section, you will be provided with an overall view of the findings.
    This will not be the specific detailed findings, but rather a statistical representation
    of the findings. You can look at using graphs or charts that will represent the
    targets that have been tested, results, attack scenarios, and other metrics that
    were defined in the pre-engagement phase. You can look at using graphs that represent
    the cause of the issues, for example, lack of operating system hardening = 35%,
    and so forth.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，您将得到对发现的整体视图。这不会是具体的详细发现，而是发现的统计表现。您可以使用图表或图形来表示已经测试的目标、结果、攻击场景和预参与阶段定义的其他指标。您可以查看使用图表来表示问题的原因，例如，操作系统未加固=35%，等等。
- en: The effectiveness of countermeasures can be listed here too. For example, when
    testing a web application that has a web application firewall in place, you may
    state that two out five attacks were stopped by the firewall.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 对抗措施的有效性也可以在这里列出。例如，当测试一个已经部署了Web应用程序防火墙的Web应用程序时，您可以说明五次攻击中有两次被防火墙阻止。
- en: Strategic roadmap
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 战略路线图
- en: Roadmaps provide a prioritized plan of remediation. These must be weighed against
    the business objectives and level of impact. Ideally, this section should map
    to the goals defined by the organization.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 路线图提供了一个优先级排列的补救计划。这些必须与业务目标和影响程度相权衡。理想情况下，这一部分应该与组织定义的目标相匹配。
- en: The roadmap can be broken down into short-, mid-, and long-term activities.
    Short-term would define what the organization can do within a 1-3 month period
    that would address the issues that have been discovered. Mid-term could be a 3-6
    month period, whereas long-term would be a 6-12 month period.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 路线图可以分为短期、中期和长期活动。短期将定义组织在1-3个月内可以解决已发现问题的活动。中期可能是3-6个月，而长期可能是6-12个月。
- en: Technical report
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术报告
- en: The technical report is where you will communicate all of the technical details
    around the findings that you have discovered. This section of the document will
    describe the scope of the engagement in detail. The audience of this section will
    be personnel who have deep technical skills and will probably be the ones remediating
    the findings.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 技术报告是您将传达您发现的所有技术细节的地方。这份文件的这一部分将详细描述参与范围。这一部分的受众将是具有深厚技术技能的人员，可能是解决发现问题的人员。
- en: The first part of a technical report would be an introduction section. This
    section would contain topics such as who was involved in the penetration test,
    contact information, the target systems or applications, objectives, and scope.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 技术报告的第一部分将是介绍部分。这一部分将包括谁参与了渗透测试、联系信息、目标系统或应用程序、目标和范围等主题。
- en: Let's focus on the main topics that would fall into the technical report.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们专注于可能包括在技术报告中的主要主题。
- en: Tools used
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的工具
- en: In some cases, your client may want to reproduce the test that you have performed.
    In order for them to obtain the same results, it would be good to disclose the
    tools that you used, as well as their versions.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，您的客户可能希望重现您进行的测试。为了让他们获得相同的结果，披露您使用的工具以及它们的版本将是有益的。
- en: 'An example of this is as follows:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 一个例子如下：
- en: '** Testing platform**: Kali Linux 2019.1'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**测试平台**：Kali Linux 2019.1'
- en: '**Metasploit Framework v5**: Penetration testing framework'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Metasploit Framework v5**：渗透测试框架'
- en: '**Burp Suite Professional v1.7.34**: Web application testing framework'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Burp Suite专业版v1.7.34**：Web应用测试框架'
- en: '**Nmap v7.70**: Port scanning and enumeration tool'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Nmap v7.70**：端口扫描和枚举工具'
- en: You will proceed to list all of the tools that were used during the penetration
    test.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 您将继续列出在渗透测试期间使用的所有工具。
- en: Information gathering
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 信息收集
- en: 'In this section, you will write about how much information is obtainable about
    the customer. Be sure to highlight the extent of both public and private information.
    You can break down this section into two categories if needed:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，您将写关于客户可获取多少信息。一定要突出公共和私人信息的范围。如果需要，您可以将这一部分分为两个类别：
- en: '**Passive information gathering**: This section is where you will display the
    amount of information that has been gathered without sending any data to the target.
    For example, you can highlight any information that was obtained from a crafted
    Google dork, DNS, or publicly accessible documents.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**被动信息收集**：这一部分是您将展示在不向目标发送任何数据的情况下收集到的信息量。例如，您可以突出从精心设计的Google dork、DNS或公开可访问的文档中获取的任何信息。'
- en: '**Active information gathering**: In this section, you will show how much information
    was obtained using techniques such as port scanning and other foot printing activities.
    This section discloses data that was obtained by directly sending data to the
    assets.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主动信息收集**：在这一部分，您将展示使用端口扫描和其他足迹活动等技术获取了多少信息。这一部分披露了通过直接向资产发送数据获取的数据。'
- en: Publicly accessible information should be a huge concern for any organization,
    especially if any metadata exists within publicly accessible documents that could
    give away the organization's username structure.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 公开可访问的信息对于任何组织来说都应该是一个巨大的关注点，特别是如果在公开可访问的文档中存在可能泄露组织用户名结构的元数据。
- en: Vulnerability assessment and exploitation
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 漏洞评估和利用
- en: In this section, you will define the methods that were used to identify vulnerabilities
    and how they were exploited. You will include things such as the classification
    of the vulnerability, evidence of it, and CVE details.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，您将定义用于识别漏洞以及漏洞如何被利用的方法。您将包括漏洞的分类、证据以及CVE细节等内容。
- en: When disclosing the vulnerability, be sure to break them into both technical
    vulnerabilities and logical vulnerabilities.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在披露漏洞时，一定要将它们分为技术漏洞和逻辑漏洞。
- en: Technical vulnerabilities are vulnerabilities that can be exploited by missing
    patches, or coding errors or the possibility of injecting malicious code, for
    example, a SQL injection attack.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 技术漏洞是可以通过缺失的补丁、编码错误或注入恶意代码来利用的漏洞，例如，SQL注入攻击。
- en: Logical vulnerabilities are exploited by finding a flaw in the way the application
    works, for example, a web application that fails to perform a permission check.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 逻辑漏洞是通过发现应用程序工作方式的缺陷来利用的，例如，一个未能执行权限检查的Web应用程序。
- en: 'Here is an example of how you would report a vulnerability:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是您报告漏洞的一个例子：
- en: '**Finding**: Here, you will discuss the finding in detail. For example: we
    found that Server01 (`192.168.10.15`) is missing the MS17-010 Microsoft Windows
    patch, and the server has been manually exploited with DoublePulsar. DoublePulsar
    creates a backdoor to the system that can be used by anyone. It opens up a door
    for ransomware such as WannaCry and NotPetya, especially on systems that don''t
    have the MS17-010 patch. We were able to exploit this missing patch to gain access
    to the server with full administrative rights. Since we have access to the server,
    we were able to extract the local administrator account (`localadmin`) and its
    password hash using Metasploit''s hashdump.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**发现**：在这里，您将详细讨论发现。例如：我们发现Server01（`192.168.10.15`）缺少MS17-010微软Windows补丁，并且该服务器已被手动利用DoublePulsar。DoublePulsar为系统创建了一个后门，可以被任何人使用。它为勒索软件（如WannaCry和NotPetya）打开了一扇门，特别是在没有MS17-010补丁的系统上。我们能够利用这个缺失的补丁获得对具有完全管理权限的服务器的访问。由于我们可以访问服务器，我们能够使用Metasploit的hashdump提取本地管理员账户（`localadmin`）及其密码哈希。'
- en: '**Affected host**: This is where you define the full name of the host or application,
    for example, `CLIENT\Server01` (hostname).'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**受影响的主机**：这里是您定义主机或应用程序的全名，例如，`CLIENT\Server01`（主机名）。'
- en: '**Tool used**: Here, you will explain what tool you used, for example, Metasploit
    Framework v5.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用的工具**：在这里，您将解释您使用的工具，例如，Metasploit Framework v5。'
- en: '**Evidence**: This is where you will provide evidence of the exploit. It can
    be in the form of a screenshot or screen text capture.'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**证据**：这是您提供利用证据的地方。可以是截图或屏幕文本捕获的形式。'
- en: '**Business impact**: In this section, you define what the risk of the finding
    is. For example, when systems are not patched in a timely manner, they can introduce
    a risk, which could be abused by malware, ransomware, and malicious users to gain
    access to sensitive information.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**业务影响**：在本节中，您定义了发现的风险是什么。例如，当系统未能及时打补丁时，它们可能会引入风险，这可能会被恶意软件、勒索软件和恶意用户滥用，以获取对敏感信息的访问权限。'
- en: '**Root cause**: This defines what the cause of the vulnerability is. This can
    be technical, such as missing a security patch, or process-related. For example,
    the root cause is process-related since a patch management system exists. Servers
    are not being patched in a timely manner.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**根本原因**：这定义了漏洞的根本原因。这可能是技术性的，比如缺少安全补丁，也可能是与流程相关的。例如，根本原因是与流程相关的，因为存在补丁管理系统。服务器未能及时打补丁。'
- en: '**Recommendations**: Here, you will define what the recommended course of action
    should be to remediate this finding. Ensure that you provide as much detail as
    possible. For example, the short-term action would be to update the server to
    ensure that it is up to date with all Microsoft patches. The long-term action
    would be to ensure that vulnerability assessments are run monthly on the entire
    network and that servers and workstations are fully patched. Management should
    also scan the network for all systems that have been manually exploited with DoublePulsar
    and remove them from the network as they create a backdoor to the system for anyone
    to use.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**建议**：在这里，您将定义应采取的建议行动方案，以纠正这一发现。确保提供尽可能多的细节。例如，短期行动将是更新服务器，以确保其与所有Microsoft补丁保持最新。长期行动将是确保每月对整个网络进行漏洞评估，并确保服务器和工作站完全打补丁。管理层还应扫描网络，查找所有手动利用DoublePulsar的系统，并将其从网络中移除，因为它们为任何人创建了系统的后门。'
- en: Obtaining the correct level of detail in a report can be tricky. Some customers
    might find the report overwhelming if it is too detailed, while some might find
    it lacking in detail. The best way to determine the right amount of detail that
    should be in the report is to spend time with your client to understand what their
    expectations are and what they want to get out of the report.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在报告中获得正确的细节水平可能有些棘手。如果报告过于详细，一些客户可能会觉得不知所措，而有些客户可能会觉得缺乏细节。确定报告中应包含的正确细节量的最佳方法是花时间与客户一起，了解他们的期望和他们希望从报告中得到什么。
- en: Post-exploitation
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 渗透后
- en: Once you have discussed the vulnerabilities and the exploitation of them, you
    need to highlight the actual impact to the client. Remember that this impact would
    be what the client would experience in a real-world attack.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦讨论了漏洞及其利用，您需要强调对客户的实际影响。请记住，这种影响将是客户在真实世界攻击中所经历的。
- en: 'Within this section, you can make use of screenshots to elaborate on the extent
    of the impact. Some topics that you would discuss in this section are as follows:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，您可以利用截图详细说明影响的程度。您可以在本节中讨论以下主题：
- en: Privilege escalation paths and the techniques that were used, for example, pass-the-hash
    attacks and ultimately forging a golden ticket
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特权升级路径和使用的技术，例如哈希传递攻击，最终伪造黄金票证
- en: The ability to maintain access using persistence
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用持久性维持访问的能力
- en: The ability to exfiltrate data
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据外泄的能力
- en: Additional systems that may have been accessed using pivot points
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可能使用枢纽点访问的其他系统
- en: Countermeasure effectiveness can be discussed in this section, including both
    proactive and reactive countermeasures. Detection capabilities fall into this
    section too; for example, was the antivirus able to detect your payloads?
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 本节可以讨论反制措施的有效性，包括积极和消极的反制措施。检测能力也属于本节；例如，杀毒软件能否检测到您的有效载荷？
- en: If there were any incident response activities that were triggered during the
    penetration test, these should be listed in this section.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 如果在渗透测试期间触发了任何事件响应活动，这些应该列在本节中。
- en: Conclusion
  id: totrans-97
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: The conclusion will have the final overview of the penetration test. Within
    this section, you can reiterate portions of the test and how the client can grow
    their security posture. Always end on a positive note, no matter how bad the results
    are. This will provide your client with confidence to enforce future testing activities
    as they grow.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 结论将对渗透测试进行最终概述。在本节中，您可以重申测试的部分内容以及客户如何提升其安全姿态。无论结果有多糟糕，都要以积极的态度结束。这将使您的客户对未来的测试活动有信心。
- en: Tools for report writing
  id: totrans-99
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 报告撰写工具
- en: When it comes to writing a penetration testing report, you may wonder how to
    keep track of findings. Maybe you prefer a manual method of using a word processor,
    or maybe you want something that is more intuitive.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写渗透测试报告时，您可能会想知道如何跟踪发现。也许您更喜欢使用文字处理器的手动方法，或者您可能希望使用更直观的工具。
- en: Kali Linux includes a tool called Dradis, which is an open source framework
    that's is used by security professionals for effective information sharing. Dradis
    comes in a community edition and pro edition. Kali Linux contains the community
    edition. The professional edition contains a few interesting features, such as
    custom branding, 2FA, one-click reports, and the ability to export to multiple
    file types. However, the community edition contains the core features that the
    professional version has and allows you to export the results in HTML or CSV formats.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux包含一个名为Dradis的工具，这是一个开源框架，安全专业人员用于有效信息共享。Dradis有社区版和专业版。Kali Linux包含社区版。专业版包含一些有趣的功能，如自定义品牌、双因素认证、一键报告以及导出到多种文件类型的能力。然而，社区版包含专业版本具有的核心功能，并允许您以HTML或CSV格式导出结果。
- en: 'Dradis is accessible from Applications | Reporting Tools:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: Dradis可从应用程序 | 报告工具中访问：
- en: '![](img/467fda84-c405-44ee-b0da-41ee8a1434f8.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![](img/467fda84-c405-44ee-b0da-41ee8a1434f8.png)'
- en: 'Figure 1: Accessing Dradis'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 图1：访问Dradis
- en: When you run Dradis for the first time, you will be prompted to create a shared
    server password and a new user account. Once you've done that, you will log in
    to the main landing page of Dradis.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 当您第一次运行Dradis时，您将被提示创建共享服务器密码和一个新用户帐户。完成后，您将登录到Dradis的主要登录页面。
- en: Methodologies
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 方法论
- en: 'Within Dradis, there is a section called Methodologies. This is a list of tasks
    that you want to perform for a given project. You can create your own methodology
    or import existing ones:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 在Dradis中，有一个名为方法论的部分。这是您想要为给定项目执行的任务列表。您可以创建自己的方法论或导入现有的方法论：
- en: '![](img/af806cbc-8f48-46a2-a5c7-b503ef40ed20.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![](img/af806cbc-8f48-46a2-a5c7-b503ef40ed20.png)'
- en: 'Figure 2: The Methodologies component of Dradis'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图2：Dradis的方法论组件
- en: If you click on Add new and select Download more, you will be redirected to
    a link where you can download compliance packages. Download the PTES Technical
    Guidelines; this will be a `.zip` file that you will need to extract. Within the
    contents of the file will be a folder called `ptes_methodology`; extract these
    files to `/var/lib/dradis/templates/methodologies`. Once the files are extracted,
    refresh the Dradis page.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您点击“添加新内容”并选择“下载更多”，您将被重定向到一个链接，您可以在那里下载合规包。下载PTES技术指南；这将是一个`.zip`文件，您需要解压缩。文件的内容中将会有一个名为`ptes_methodology`的文件夹；将这些文件解压缩到`/var/lib/dradis/templates/methodologies`。文件解压缩后，刷新Dradis页面。
- en: 'Now, you will be able to add the various PTES methodologies. Go ahead and add
    them all:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您将能够添加各种PTES方法论。继续添加它们：
- en: '![](img/cac099f0-d143-46af-89f1-0c8f2a114f4e.png)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cac099f0-d143-46af-89f1-0c8f2a114f4e.png)'
- en: 'Figure 3: Adding the PTES methodologies'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图3：添加PTES方法论
- en: 'Once you have added them, take note of the output. You now have a checklist
    of various tasks that can be performed at different stages of the PTES methodology. This
    is a good way to ensure that you are following a methodology standard when performing
    a penetration test:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 添加完后，注意输出。现在您有了一个可以在PTES方法论的不同阶段执行的各种任务的清单。这是确保在执行渗透测试时遵循方法论标准的好方法：
- en: '![](img/e6259f0f-dc71-431b-81f8-4ff022fd1b7f.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e6259f0f-dc71-431b-81f8-4ff022fd1b7f.png)'
- en: 'Figure 4: Checklist as per the PTES methodology'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图4：按照PTES方法论的清单
- en: Of course, not all penetration tests will follow this methodology. As you perform
    different penetration tests, you will create different methodologies that are
    tailored to the client.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，并非所有的渗透测试都会遵循这种方法。随着您执行不同的渗透测试，您将创建针对客户定制的不同方法论。
- en: Nodes
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 节点
- en: Nodes can be likened to folders in a filesystem. This is where you will store
    information such as notes, attachments, and evidence files. Nodes will help you
    to structure your project.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 节点可以类比为文件系统中的文件夹。这是您将存储笔记、附件和证据文件等信息的地方。节点将帮助您构建项目结构。
- en: 'To create a node, click on the plus (+) sign to the right of Nodes. From here,
    you will add a top-level node. You can add them one at a time or all at once:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建一个节点，请点击“节点”右侧的加号（+）号。在这里，您将添加一个顶级节点。您可以一次添加一个或全部添加：
- en: '![](img/3aa37940-f02a-4d57-8584-06d0b662762d.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3aa37940-f02a-4d57-8584-06d0b662762d.png)'
- en: 'Figure 5: Adding multiple nodes'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图5：添加多个节点
- en: 'Once you have created your node structure, you have the ability to upload files
    from other tools. Here, you can import files from Nmap scans, Nessus, Nikto, and
    more:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 创建节点结构后，您可以从其他工具上传文件。在这里，您可以从Nmap扫描、Nessus、Nikto等导入文件：
- en: '![](img/200bee0f-1306-44d9-b96d-1ce8c8216378.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](img/200bee0f-1306-44d9-b96d-1ce8c8216378.png)'
- en: 'Figure 6: Uploading files from other tools'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图6：从其他工具上传文件
- en: 'In the following screenshot, I have uploaded an Nmap Scan. Dradis has populated
    the properties and notes section to reflect the scan results:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的截图中，我上传了一个Nmap扫描。Dradis已经填充了属性和笔记部分以反映扫描结果：
- en: '![](img/ed53e7d8-95c5-449a-965b-7cf3be26cb11.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ed53e7d8-95c5-449a-965b-7cf3be26cb11.png)'
- en: 'Figure 7: Nmap scan results imported into Dradis'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 图7：Nmap扫描结果导入到Dradis
- en: As you import various tool outputs, Dradis will utilize its rule engine to autopopulate
    the data into the node.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 当您导入各种工具输出时，Dradis将利用其规则引擎自动填充数据到节点中。
- en: Issues and evidence
  id: totrans-130
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题和证据
- en: An **issue** contains information about a problem or vulnerability. For example,
    you would provide a description, CVE, URL references, and so on here.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '**问题**包含有关问题或漏洞的信息。例如，您可以在这里提供描述、CVE、URL引用等。'
- en: '**Evidence** shows the presence of an issue. For example, you might create
    evidence of an exploit working.'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '**证据**显示存在问题。例如，您可能会创建一个漏洞利用的证据。'
- en: 'Before you can create evidence, you need to create an issue. To create an issue,
    click on the plus (+) sign to the right of Issues. You can use a template if you
    wish, but you don''t have to. Define the issue that you will show evidence about,
    as follows:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在您创建证据之前，您需要创建一个问题。要创建问题，请点击“问题”右侧的加号（+）号。如果愿意，您可以使用模板，但不是必须的。定义您将展示证据的问题，如下所示：
- en: '![](img/6a44412c-50d5-4362-8396-28dc04684761.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6a44412c-50d5-4362-8396-28dc04684761.png)'
- en: 'Figure 8: Creating an issue'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图8：创建问题
- en: 'Once the issue has been created, you can navigate to the node that you want
    to log the evidence on and click on the evidence flag. Next, you will select the
    issue from the drop-down list and then write your evidence:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 创建问题后，您可以导航到要记录证据的节点，并点击证据标志。接下来，您将从下拉列表中选择问题，然后编写您的证据：
- en: '![](img/6d165a55-39eb-4e93-b33c-be9aeb80be2f.png)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6d165a55-39eb-4e93-b33c-be9aeb80be2f.png)'
- en: 'Figure 9: Creating evidence'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图9：创建证据
- en: Within the nodes, you have the option to upload attachments. Attachments can
    be anything from screenshots, reports, files that have been downloaded from the
    target, and so on.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 在节点中，您可以选择上传附件。附件可以是来自目标的截图、报告、文件等。
- en: You can explore the project by clicking on the Export results link at the top
    of the project.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过点击项目顶部的“导出结果”链接来探索项目。
- en: Using Dradis can really help you to keep track of your findings as you perform
    a penetration test. Methodologies serve as a good reminder in case you missed
    a step in a specific stage of the penetration test.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行渗透测试时，使用Dradis可以帮助您跟踪您的发现。方法论可以作为一个很好的提醒，以防您在渗透测试的特定阶段错过了一步。
- en: Recommending remediation options
  id: totrans-142
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 推荐纠正选项
- en: Within a penetration test report, you will need to give recommendations on how
    to secure the findings that were discovered. It's important to understand how
    the vulnerabilities can be remediated, as opposed to only knowing how to exploit
    them.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在渗透测试报告中，您需要提出如何保护所发现的发现的建议。重要的是要了解漏洞如何得到纠正，而不仅仅是知道如何利用它们。
- en: Let's consider a few of the attacks that were performed throughout this book
    and the remediation activities that can be recommended.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑一下本书中进行的一些攻击以及可以推荐的纠正活动。
- en: Information gathering
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 信息收集
- en: During the information gathering phase, we looked at how we can gather information
    on our target using publicly accessible sources (OSINT). It's inevitable that
    an organization will post information publicly. The key to protecting from information
    exposure (such as metadata in documents) is by using techniques such as **information
    protection**. Information protection protects data from unauthorized use, disclosure,
    access, destruction, disruption, and modification. Information protection leverages
    a few techniques, such as encryption, data classification, policies, and processes
    to secure information.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在信息收集阶段，我们看了如何使用公开可访问的来源（OSINT）收集有关我们目标的信息。组织不可避免地会公开发布信息。保护信息免受暴露（例如文档中的元数据）的关键是使用诸如**信息保护**之类的技术。信息保护保护数据免受未经授权的使用、披露、访问、破坏、中断和修改。信息保护利用了一些技术，如加密、数据分类、策略和流程来保护信息。
- en: Protecting against active information gathering entails securing ports that
    should not be open. Network layer defenses can also be used, such as access-control
    lists on switches, and firewalls to perform filtering.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 保护免受主动信息收集的攻击包括保护不应该打开的端口。还可以使用网络层防御，如交换机上的访问控制列表和防火墙进行过滤。
- en: Social engineering
  id: totrans-148
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 社会工程
- en: Social engineering is perhaps one of the most dangerous attack vectors that's
    available to attackers. Successful social engineering attacks are dependent on
    the amount of information the attacker can obtain. Similarly, in a penetration
    test, a successful social engineering attack will depend on how much information
    you are able to obtain about the target organization.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 社会工程学可能是攻击者可以利用的最危险的攻击向量之一。成功的社会工程攻击取决于攻击者能够获取的信息量。同样，在渗透测试中，成功的社会工程攻击将取决于您能够获取有关目标组织的信息量。
- en: 'There is no silver bullet when it comes to protecting against social engineering.
    At the end of the day, it is our human nature that will sway us to falling victim
    to these kinds of attacks. However, there are some measures that an organization
    can put into place, as follows:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 在保护免受社会工程攻击方面并没有银弹。归根结底，是我们的人性会使我们成为这类攻击的受害者。然而，组织可以采取一些措施，如下所示：
- en: '**Education**: Providing end user education is critical to any organization.
    If users don''t know how to identify social engineering attacks, how will they
    not fall victim to them? The key with education is making the end user care about
    security.'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**教育**: 为最终用户提供教育对于任何组织都至关重要。如果用户不知道如何识别社会工程攻击，他们怎么能不成为受害者呢？教育的关键在于让最终用户关心安全。'
- en: '**Awareness**: Organizations need to be aware of what type of information is
    available publicly. This type of information is the first thing an attacker will
    access. If the information discloses too much that a social engineering attack
    can easily be crafted, then the organization needs to address that.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**意识**: 组织需要意识到公开可获得的信息类型。这种信息是攻击者将首先访问的信息。如果信息披露了太多，以至于可以轻松制定社会工程攻击，那么组织就需要解决这个问题。'
- en: '**Identity verification**: Organizations need to look at multiple ways of identifying
    a user. For example, when users request a password reset via a self-service portal,
    there should be some type of two-factor authentication in place.'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**身份验证**: 组织需要考虑多种识别用户的方式。例如，当用户通过自助门户请求重置密码时，应该有某种形式的双因素身份验证。'
- en: '**Technology**: Many organizations are moving their email to cloud services
    such as Office 365\. Within Office 365, there is a wealth of security mechanisms
    that can be enabled to protect against sophisticated phishing attacks. Most of
    the time, organizations are not fully aware of the defenses that exist, or they
    may not have tweaked them correctly.'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**技术**: 许多组织正在将他们的电子邮件转移到Office 365等云服务。在Office 365中，有许多可以启用的安全机制，以防范复杂的网络钓鱼攻击。大多数情况下，组织并不完全了解现有的防御措施，或者他们可能没有正确地调整它们。'
- en: Social engineering can be very dangerous to an organization. It all boils down
    to the amount of information available that can be used against an organization.
    If social engineering was an attack vector in your penetration test, ensure that
    you disclose exactly how much information you had access to in order to successfully
    launch the attack. This will help the organization to know of their weaknesses
    and address them.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 社会工程对组织可能非常危险。这完全取决于可以用来攻击组织的信息量。如果社会工程是您渗透测试中的一个攻击向量，请确保披露您可以访问多少信息以成功发动攻击。这将帮助组织了解他们的弱点并加以解决。
- en: Vulnerabilities and OS hardening
  id: totrans-156
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 漏洞和操作系统加固
- en: It is highly unlikely that software will ever be bug-free, and so vulnerabilities
    will always exist. This is evident in large-scale software such as operating systems.
    Operating systems are complex, with many components that work together. It takes
    just one flaw in one component to enable the exploitation of a system.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 软件很难做到没有错误，因此漏洞总是存在的。这在操作系统等大型软件中是显而易见的。操作系统是复杂的，有许多组件共同工作。只需一个组件中的一个缺陷就可以使系统被利用。
- en: Organizations that build software usually follow a **Software Development Life
    Cycle **(**SDLC**). It is a framework that defines detailed steps on how to develop,
    maintain, and replace software. Security is now being encompassed into software
    life cycles so that secure software can be built. This dramatically reduces the
    amount of errors that are found within the code, which can lead to vulnerabilities,
    but this does not remove the risk of coding errors completely.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 通常构建软件的组织遵循**软件开发生命周期**（**SDLC**）。这是一个定义了如何开发、维护和替换软件的详细步骤的框架。现在安全已经被纳入软件生命周期，以便构建安全的软件。这大大减少了代码中发现的错误数量，这可能导致漏洞，但这并不能完全消除编码错误的风险。
- en: This is where patch management comes into play. Having a proper patch management
    process in place that's adhered to will dramatically reduce the amount of vulnerabilities
    that exist in relation to software used by the organization.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是补丁管理发挥作用的地方。建立一个适当的补丁管理流程，并且遵守这个流程将大大减少组织使用的软件相关的漏洞数量。
- en: 'Operating system hardening is another good way of ensuring that unsecure protocols
    that are known to be vulnerable are not exploited. For example, flaws with SMBv1
    are known and easily exploitable. The **Center for Internet Security** (**CIS**)
    maintains a great repository of benchmarks and discusses how to harden various
    systems. The CIS benchmarks can be found here: [https://www.cisecurity.org/cis-benchmarks/](https://www.cisecurity.org/cis-benchmarks/).'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 操作系统加固是确保不会利用已知易受攻击的不安全协议的另一个好方法。例如，SMBv1的缺陷是已知的，并且容易被利用。**互联网安全中心**（**CIS**）维护着一个很好的基准库，并讨论了如何加固各种系统。CIS基准可以在这里找到：[https://www.cisecurity.org/cis-benchmarks/](https://www.cisecurity.org/cis-benchmarks/)。
- en: 'Microsoft maintains security baselines which apply to their suite of products.
    These are exceptional at enabling specific security features within their products.
    These baselines can be found here: [https://blogs.technet.microsoft.com/secguide/](https://blogs.technet.microsoft.com/secguide/).'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 微软维护适用于其产品套件的安全基线。这些基线在其产品中启用特定的安全功能非常出色。这些基线可以在这里找到：[https://blogs.technet.microsoft.com/secguide/](https://blogs.technet.microsoft.com/secguide/)。
- en: Passwords
  id: totrans-162
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 密码
- en: Password-based attacks are the simplest and oldest form of attacks that are
    still used today. Today, organizations have realized the value of having strong
    passwords, but it comes down to usability. For example, it's easy to enforce a
    12-character password—but how will end users react to that? Chances are they will
    use common passwords such as `January@1234`, and increment it by months, or maybe
    they will have a really secure password and end up writing it down or storing
    it somewhere. Another pitfall with passwords is that people tend to reuse them.
    Their domain password might be the same one that's used on Facebook, for example.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 基于密码的攻击是仍然在使用的最简单和最古老的攻击形式。今天，组织已经意识到拥有强密码的价值，但问题在于可用性。例如，强制执行12位字符的密码很容易，但最终用户会如何反应？很可能他们会使用常见密码，如`January@1234`，并按月份递增，或者他们会有一个非常安全的密码，最终会把它写下来或存储在某个地方。密码的另一个问题是人们倾向于重复使用它们。他们的域密码可能与在Facebook上使用的密码相同。
- en: Securing passwords would entail using more than just passwords for authentication.
    Multi-factor authentication is a must in this day and age. Leveraging additional
    authentication methods such as a token, SMS, or a phone call adds that extra layer
    of protection. Coupling multi-factor authentication with password best practices
    such as enforcing complexity, a higher password length, and enforcing a banned
    password list will increase the security posture.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 保护密码需要使用除密码之外的认证方式。多因素认证在当今是必不可少的。利用额外的认证方法，如令牌、短信或电话呼叫，增加了额外的保护层。将多因素认证与密码最佳实践相结合，如强制复杂性、更长的密码长度和强制禁用密码列表，将增加安全性。
- en: Web applications
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络应用程序
- en: Web applications are prime targets for attackers since these are public facing.
    They can serve as an entry point into a network, especially if the web application
    server is not segmented properly from a network layer.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 网络应用程序是攻击者的主要目标，因为它们是面向公众的。特别是如果网络应用程序服务器没有从网络层正确分割，它们可以作为进入网络的入口。
- en: 'The **Open Web Application Security Project** (**OWASP**) maintains a list
    called the **OWASP Top 10**. This top 10 list discusses the 10 most critical web
    application security risks and mitigations of them. It goes into detail explaining
    the attack, and its impact and provides references with attack scenarios. The
    OWASP Top 10 can be found here: [https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project).'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '**开放式网络应用程序安全项目**（**OWASP**）维护着一个名为**OWASP十大**的列表。这个十大列表讨论了10个最关键的网络应用程序安全风险以及对它们的缓解措施。它详细解释了攻击及其影响，并提供了攻击场景的参考。OWASP十大可以在这里找到：[https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project)。'
- en: 'Another good resource to leverage when looking for web application attack prevention
    is the OWASP attack category, which can be found here: [https://www.owasp.org/index.php/Category:Attack](https://www.owasp.org/index.php/Category:Attack).'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 寻找网络应用程序攻击预防的另一个好资源是OWASP攻击类别，可以在这里找到：[https://www.owasp.org/index.php/Category:Attack](https://www.owasp.org/index.php/Category:Attack)。
- en: Privilege escalation and lateral movement
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 权限提升和横向移动
- en: Lateral movement is one of the most common attacks that's used within networks.
    The ability to crab walk an environment provides the attacker with a vast landscape
    that can be browsed to detect high privilege accounts.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 横向移动是网络中最常见的攻击之一。螃蟹式地在环境中移动为攻击者提供了一个广阔的领域，可以浏览以检测高特权帐户。
- en: One of the most easiest accounts to use for lateral movement is the **local
    administrator** account. Generally, this account shares the same name and password,
    which means that if you compromise it on one computer, it can be easily reused
    on another. Remediating this would entail enforcing random local administrator
    account passwords within the network. In Windows environments, this can be done
    using **Local Administrator Password Solution** (**LAPS**). More information on
    this can be found here: [https://www.microsoft.com/en-us/download/details.aspx?id=46899](https://www.microsoft.com/en-us/download/details.aspx?id=46899).
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 横向移动中最容易使用的帐户之一是**本地管理员**帐户。通常，该帐户共享相同的名称和密码，这意味着如果您在一台计算机上破坏了它，可以轻松地在另一台计算机上重复使用。纠正这一点将需要在网络中强制执行随机本地管理员帐户密码。在Windows环境中，可以使用**本地管理员密码解决方案**（**LAPS**）来实现这一点。有关更多信息，请访问：[https://www.microsoft.com/en-us/download/details.aspx?id=46899](https://www.microsoft.com/en-us/download/details.aspx?id=46899)。
- en: Good credential hygiene is key to preventing privilege escalation. It entails
    not exposing high privilege accounts to lower trusted systems, for example, restricting
    the use of a **domain administrator **account on a workstation. If the workstation
    is compromised, the hash of the **domain administrator **account can be dumped
    and it's game over. Enforcing the principal of least privilege should be a norm
    within any environment.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 良好的凭证卫生习惯对于防止特权升级至关重要。这意味着不将高特权帐户暴露给较低信任的系统，例如，在工作站上限制使用**域管理员**帐户。如果工作站受到攻击，**域管理员**帐户的哈希值可能会被转储，游戏就结束了。在任何环境中，强制执行最小特权原则应该成为一种规范。
- en: Summary
  id: totrans-173
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, you have gained a good understanding of what is included in
    a penetration test. You now have the ability to create a report which is targeted
    at executive and technical staff. You have hands-on experience with using a reporting
    tool, Dradis, for documenting your findings in a penetration test. You have gained
    insight into the various security measures that a client can deploy to increase
    their security posture.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您已经对渗透测试报告中包含的内容有了很好的理解。您现在有能力创建一个针对高管和技术人员的报告。您已经亲身体验了使用报告工具Dradis来记录渗透测试中的发现。您已经深入了解了客户可以部署的各种安全措施，以增强其安全姿态。
- en: In the next chapter ([Chapter 14](472713ef-5182-4c3b-a871-38b6aba339c4.xhtml)*,
    Where Do I Go from Here?*), we will cover how you can grow your career in the
    penetration testing field by looking at certifications, online resources for training,
    and practicing your skills.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章（[第14章](472713ef-5182-4c3b-a871-38b6aba339c4.xhtml)*，我接下来该怎么做？*），我们将介绍如何通过查看认证、在线培训资源和练习技能来在渗透测试领域发展您的职业生涯。
- en: Questions
  id: totrans-176
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: What is the importance of a penetration test report?
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 渗透测试报告的重要性是什么？
- en: What is the difference between the Executive and Technical sections of the report?
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 报告的执行和技术部分有什么区别？
- en: What tool can be used to help you to build a report?
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 有什么工具可以帮助你制作报告？
- en: What is a good source for finding information related to web application attacks
    and prevention?
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 寻找与Web应用程序攻击和预防相关信息的好来源是什么？
- en: Protecting against privilege escalation and lateral movement involves doing
    what?
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保护免受特权升级和横向移动的影响涉及做什么？
