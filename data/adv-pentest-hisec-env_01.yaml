- en: Chapter 1. Planning and Scoping for a Successful Penetration Test
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章。规划和确定成功的渗透测试
- en: 'This chapter provides an introduction to the planning and preparation required
    to test complex and hardened environments. You will be introduced to the following
    topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了测试复杂和硬化环境所需的规划和准备工作。您将了解以下主题：
- en: Introduction to advanced penetration testing
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高级渗透测试介绍
- en: How to successfully scope your testing
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何成功地确定测试范围
- en: What needs to occur prior to testing
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试之前需要发生什么
- en: Setting your limits — nothing lasts forever
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设定您的限制 —— 没有什么是永恒的
- en: Planning for action
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 行动规划
- en: Detail management with MagicTree
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用MagicTree进行详细管理
- en: Exporting your results into various formats using MagicTree
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用MagicTree将结果导出为各种格式
- en: Team-based data collection and information sharing with Dradis
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Dradis进行团队数据收集和信息共享
- en: Creating reusable templates in Dradis
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Dradis中创建可重用模板
- en: Introduction to advanced penetration testing
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 高级渗透测试介绍
- en: Penetration testing is necessary to determine the true attack footprint of your
    environment. It may often be confused with vulnerability assessment and thus it
    is important that the differences should be fully explained to your clients.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试对于确定环境的真实攻击面是必要的。它经常会与漏洞评估混淆，因此重要的是应该向客户充分解释两者之间的区别。
- en: Vulnerability assessments
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 漏洞评估
- en: Vulnerability assessments are necessary for discovering potential vulnerabilities
    throughout the environment. There are many tools available that automate this
    process so that even an inexperienced security professional or administrator can
    effectively determine the security posture of their environment. Depending on
    scope, additional manual testing may also be required. Full exploitation of systems
    and services is not generally in scope for a normal vulnerability assessment engagement.
    Systems are typically enumerated and evaluated for vulnerabilities, and testing
    can often be done with or without authentication. Most vulnerability management
    and scanning solutions provide actionable reports that detail mitigation strategies
    such as applying missing patches, or correcting insecure system configurations.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 漏洞评估对于发现环境中的潜在漏洞是必要的。有许多工具可用于自动化此过程，以便即使是经验不足的安全专业人员或管理员也能有效地确定其环境的安全状况。根据范围，可能还需要额外的手动测试。通常不会在正常的漏洞评估工作中全面利用系统和服务。系统通常会被枚举并评估漏洞，测试通常可以在有或没有认证的情况下进行。大多数漏洞管理和扫描解决方案提供详细的可操作报告，详细说明缓解策略，如应用缺失的补丁或更正不安全的系统配置。
- en: Penetration testing
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 渗透测试
- en: Penetration testing expands upon vulnerability assessment efforts by introducing
    exploitation into the mix
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试通过引入利用来扩展漏洞评估工作
- en: Tip
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: The risk of accidentally causing an unintentional denial of service or other
    outage is moderately higher when conducting a penetration test than it is when
    conducting vulnerability assessments. To an extent, this can be mitigated by proper
    planning, and a solid understanding of the technologies involved during the testing
    process. Thus, it is important that the penetration tester continually updates
    and refines the necessary skills.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行渗透测试时，意外导致无意的服务拒绝或其他故障的风险比进行漏洞评估时要高。在一定程度上，这可以通过适当的规划和对测试过程中涉及的技术的充分理解来减轻。因此，渗透测试人员不断更新和完善必要的技能是很重要的。
- en: Penetration testing allows the business to understand if the mitigation strategies
    employed are actually working as expected; it essentially takes the guesswork
    out of the equation. The penetration tester will be expected to emulate the actions
    that an attacker would attempt and will be challenged with proving that they were
    able to compromise the critical systems targeted. The most successful penetration
    tests result in the penetration tester being able to prove without a doubt that
    the vulnerabilities that are found will lead to a significant loss of revenue
    unless properly addressed. Think of the impact that you would have if you could
    prove to the client that practically anyone in the world has easy access to their
    most confidential information!
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试使企业能够了解所采用的缓解策略是否按预期运行；它基本上消除了猜测。渗透测试人员将被要求模拟攻击者可能尝试的行动，并将面临证明他们能够妥协目标关键系统的挑战。最成功的渗透测试结果是渗透测试人员能够毫无疑问地证明发现的漏洞将导致重大收入损失，除非得到妥善解决。想象一下，如果您能够向客户证明世界上几乎任何人都可以轻松访问他们最机密的信息，您将产生的影响！
- en: Penetration testing requires a higher skill level than is needed for vulnerability
    analysis. This generally means that the price of a penetration test will be much
    higher than that of a vulnerability analysis. If you are unable to penetrate the
    network you will be ensuring your clientele that their systems are secure to the
    best of your knowledge. If you want to be able to sleep soundly at night, I recommend
    that you go above and beyond in verifying the security of your clients.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试需要比漏洞分析更高的技能水平。这通常意味着渗透测试的价格将远高于漏洞分析的价格。如果您无法渗透网络，您将确保您的客户系统在您所知道的最好的情况下是安全的。如果您想晚上能够安心入睡，我建议您在验证客户安全性方面超越寻常。
- en: Advanced penetration testing
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 高级渗透测试
- en: 'Some environments will be more secured than others. You will be faced with
    environments that use:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 一些环境比其他环境更安全。您将面临使用以下内容的环境：
- en: Effective patch management procedures
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有效的补丁管理程序
- en: Managed system configuration hardening policies
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 托管系统配置硬化策略
- en: Multi-layered DMZ's
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多层DMZ
- en: Centralized security log management
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 集中式安全日志管理
- en: Host-based security controls
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于主机的安全控制
- en: Network intrusion detection or prevention systems
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络入侵检测或预防系统
- en: Wireless intrusion detection or prevention systems
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无线入侵检测或预防系统
- en: Web application intrusion detection or prevention systems
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Web应用程序入侵检测或预防系统
- en: Effective use of these controls increases the difficulty level of a penetration
    test significantly. Clients need to have complete confidence that these security
    mechanisms and procedures are able to protect the integrity, confidentiality,
    and availability of their systems. They also need to understand that at times
    the reason an attacker is able to compromise a system is due to configuration
    errors, or poorly designed IT architecture.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 有效使用这些控制显著增加了渗透测试的难度。客户需要完全相信这些安全机制和程序能够保护其系统的完整性、机密性和可用性。他们还需要了解，有时攻击者能够入侵系统的原因是由于配置错误或设计不当的IT架构。
- en: Note that there is no such thing as a panacea in security. As penetration testers,
    it is our duty to look at all angles of the problem and make the client aware
    of anything that allows an attacker to adversely affect their business.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，安全中没有万灵药。作为渗透测试人员，我们的职责是从问题的各个角度进行审视，并让客户意识到任何允许攻击者对其业务产生不利影响的事情。
- en: Advanced penetration testing goes above and beyond standard penetration testing
    by taking advantage of the latest security research and exploitation methods available.
    The goal should be to prove that sensitive data and systems are protected even
    from a targeted attack, and if that is not the case, to ensure that the client
    is provided with the proper instruction on what needs to be changed to make it
    so.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 高级渗透测试超越了标准渗透测试，利用了最新的安全研究和可用的利用方法。目标应该是证明敏感数据和系统甚至受到有针对性的攻击的保护，如果不是这样，就要确保客户得到适当的指导，了解需要做出哪些改变。
- en: Note
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: A penetration test is a snapshot of the current security posture. Penetration
    testing should be performed on a continual basis.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试是对当前安全状况的快照。应该定期进行渗透测试。
- en: Many exploitation methods are poorly documented, frequently hard to use, and
    require hands-on experience to effectively and efficiently execute. At DefCon
    19 Bruce "Grymoire" Barnett provided an excellent presentation on "Deceptive Hacking".
    In this presentation, he discussed how hackers use many of the very same techniques
    used by magicians. It is my belief that this is exactly the tenacity that penetration
    testers must assume as well. Only through dedication, effort, practice, and the
    willingness to explore unknown areas will penetration testers be able to mimic
    the targeted attack types that a malicious hacker would attempt in the wild.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 许多利用方法文档不完善，使用起来很困难，并且需要实际操作经验才能有效地执行。在DefCon 19上，Bruce "Grymoire" Barnett做了一个关于“欺骗性黑客”的出色演讲。在这个演讲中，他讨论了黑客如何使用许多与魔术师使用的相同技术。我相信这正是渗透测试人员必须假定的坚韧性。只有通过奉献、努力、实践和愿意探索未知领域，渗透测试人员才能模仿野外恶意黑客可能尝试的有针对性攻击类型。
- en: Often times you will be required to work on these penetration tests as part
    of a team and will need to know how to use the tools that are available to make
    this process more endurable and efficient. This is yet another challenge presented
    to today's pentesters. Working in a silo is just not an option when your scope
    restricts you to a very limited testing period.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 通常情况下，您将需要作为团队的一部分参与这些渗透测试，并且需要知道如何使用可用的工具，使这个过程更加耐用和高效。这是今天渗透测试人员面临的又一个挑战。当您的范围限制您进行非常有限的测试时，独自工作根本不是一个选择。
- en: In some situations, companies may use non-standard methods of securing their
    data, which makes your job even more difficult. The complexity of their security
    systems working in tandem with each other may actually be the weakest link in
    their security strategy.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，公司可能会使用非标准的方法来保护其数据，这会使您的工作变得更加困难。他们的安全系统的复杂性与彼此协同工作可能实际上是他们安全策略中最薄弱的环节。
- en: Note
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The likelihood of finding exploitable vulnerabilities is directly proportional
    to the complexity of the environment being tested.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 找到可利用的漏洞的可能性与被测试环境的复杂性成正比。
- en: Before testing begins
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 测试开始之前
- en: 'Before we commence with testing, there are requirements that must be taken
    into consideration. You will need to determine the proper scoping of the test,
    timeframes and restrictions, the type of testing (Whitebox, Blackbox), and how
    to deal with third-party equipment and IP space. The Penetration Testing Execution
    Standard (PTES) lists these scoping items as part of the "Pre-Engagement Interaction"
    stage. I highly recommend that you review this phase at: [http://www.pentest-standard.org/index.php/Pre-engagement](http://www.pentest-standard.org/index.php/Pre-engagement).'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始测试之前，有一些要考虑的要求。您需要确定测试的适当范围、时间框架和限制、测试类型（白盒、黑盒），以及如何处理第三方设备和IP空间。渗透测试执行标准（PTES）将这些范围项目列为“前期交互”阶段的一部分。我强烈建议您在此阶段查看：[http://www.pentest-standard.org/index.php/Pre-engagement](http://www.pentest-standard.org/index.php/Pre-engagement)。
- en: Note
  id: totrans-43
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Although this book does not follow the PTES directly, I will attempt to point
    out the sections of the PTES where the material relates.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管本书不直接遵循PTES，我将尝试指出PTES的相关部分。
- en: Determining scope
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 确定范围
- en: 'Before you can accurately determine the scope of the test, you will need to
    gather as much information as possible. It is critical that the following is fully
    understood prior to starting testing procedures:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在准确确定测试范围之前，您需要收集尽可能多的信息。在开始测试程序之前，完全理解以下内容至关重要：
- en: Who has the authority to authorize testing?
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 谁有权批准测试？
- en: What is the purpose of the test?
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试的目的是什么？
- en: What is the proposed timeframe for the testing? Are there any restrictions as
    to when the testing can be performed?
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试的拟议时间是多久？是否有任何限制可以进行测试的时间？
- en: Does your customer understand the difference between a vulnerability assessment
    and a penetration test?
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您的客户是否理解漏洞评估和渗透测试之间的区别？
- en: Will you be conducting this test with, or without cooperation of the IT Security
    Operations Team? Are you testing their effectiveness?
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您是否将与IT安全运营团队合作进行此测试？您是否在测试他们的有效性？
- en: Is social engineering permitted? How about Denial of Service attacks?
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 社会工程是否被允许？拒绝服务攻击呢？
- en: Are you able to test physical security measures used to secure servers, critical
    data storage, or anything else that requires physical access? For example, lock
    picking, impersonating an employee to gain entry into a building, or just generally
    walking into areas that the average unaffiliated person should not have access
    to.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您是否能够测试用于保护服务器、关键数据存储或其他需要物理访问的安全措施？例如，撬锁、冒充员工进入建筑物，或者一般地进入普通非关联人员不应该进入的区域。
- en: Are you allowed to see the network documentation or to be informed of the network
    architecture prior to testing to speed things along? (Not necessarily recommended
    as this may instill doubt for the value of your findings. Most businesses do not
    expect this to be easy information to determine on your own.)
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在测试之前，您是否被允许查看网络文档或了解网络架构以加快进展？（不一定建议这样做，因为这可能会对您的发现的价值产生怀疑。大多数企业并不希望这些信息很容易被您确定。）
- en: What are the IP ranges that you are allowed to test against? There are laws
    against scanning and testing systems without proper permissions. Be extremely
    diligent when ensuring that these devices and ranges actually belong to your client
    or you may be in danger of facing legal ramifications.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您被允许测试哪些IP范围？未经适当许可进行扫描和测试是违法的。在确保这些设备和范围确实属于您的客户时，务必非常谨慎，否则您可能面临法律后果。
- en: What are the physical locations of the company? This is more valuable to you
    as a tester if social engineering is permitted because it ensures that you are
    at the sanctioned buildings when testing. If time permits, you should let your
    clients know if you were able to access any of this information publicly in case
    they were under the impression that their locations were secret or difficult to
    find.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 公司的物理位置是什么？如果社会工程被允许，这对您作为测试人员更有价值，因为它确保您在测试时处于被授权的建筑物内。如果时间允许，您应该让客户知道您是否能够公开访问这些信息，以防他们误以为他们的位置是秘密的或难以找到的。
- en: What to do if there is a problem or if the initial goal of the test has been
    reached. Will you continue to test to find more entries or is the testing over?
    This part is critical and ties into the question of why the customer wants a penetration
    test in the first place.
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果出现问题或者测试的初始目标已经达到，该怎么办？您是否会继续测试以找到更多条目，还是测试结束了？这部分非常关键，与客户为什么要进行渗透测试的问题有关。
- en: Are there legal implications that you need to be aware of such as systems that
    are in different countries, and so on? Not all countries have the same laws when
    it comes to penetration testing.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您需要了解的法律影响，比如不同国家的系统，等等？在进行渗透测试时，不同国家的法律并不相同。
- en: Will additional permission be required once a vulnerability has been exploited?
    This is important when performing test on segmented networks. The client may not
    be aware that you can use internal systems as pivot points to delve deeper within
    their network.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一旦利用了漏洞，是否需要额外的许可？这在对分段网络进行测试时很重要。客户可能不知道您可以使用内部系统作为枢纽点深入他们的网络。
- en: How are databases to be handled? Are you allowed to add records, users, and
    so on?
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据库应该如何处理？您是否被允许添加记录、用户等？
- en: This listing is not all-inclusive and you may need to add items to the list
    depending on the requirements of your clients. Much of this data can be gathered
    directly from the client, but some will have to be handled by your team.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 此清单并非所有内容都包括在内，您可能需要根据客户的要求添加项目到清单中。大部分数据可以直接从客户那里收集，但有些需要由您的团队处理。
- en: If there are legal concerns, it is recommended that you seek legal counsel to
    ensure you fully understand the implications of your testing. It is better to
    have too much information than not enough, once the time comes to begin testing.
    In any case, you should always verify for yourself that the information you have
    been given is accurate. You do not want to find out that the systems you have
    been accessing do not actually fall under the authority of the client!
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 如果存在法律问题，建议您寻求法律建议，以确保您充分了解测试的影响。在开始测试时，最好是有太多信息而不是不够。无论如何，您都应该自行验证您收到的信息是否准确。您不希望发现您一直在访问的系统实际上并不属于客户的权限范围！
- en: Note
  id: totrans-63
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: It is of utmost importance to gain proper authorization **in writing** before
    accessing any of your clients systems. Failure to do so may result in legal action
    and possibly jail. Use proper judgement! You should also consider that Errors
    and Omissions insurance is a necessity when performing penetration testing.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 在访问任何客户系统之前，获得适当的**书面**授权非常重要。未能这样做可能会导致法律诉讼，甚至可能入狱。要正确判断！在进行渗透测试时，您还应该考虑到错误和遗漏保险是必需的。
- en: Setting limits — nothing lasts forever
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设定限制——没有什么是永恒的
- en: Setting proper limitations is essential if you want to be successful at performing
    penetration testing. Your clients need to understand the full ramifications involved,
    and should be made aware of any residual costs incurred if additional services
    beyond those listed within the contract are needed.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想成功进行渗透测试，设定适当的限制是必不可少的。您的客户需要了解所涉及的全部后果，并应该知道如果需要超出合同范围内列出的任何额外服务，可能会产生额外费用。
- en: Be sure to set defined start and end dates for your services. Clearly define
    the rules of engagement and include IP ranges, buildings, hours, and so on, that
    may need to be tested. If it is not in your rules of engagement documentation,
    it should not be tested. Meetings should be predefined prior to the start of testing,
    and the customer should know exactly what your deliverables will be.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 确保为您的服务设定明确的开始和结束日期。明确定义参与规则，并包括可能需要测试的IP范围、建筑物、时间等。如果不在您的参与规则文件中，就不应该进行测试。会议应该在测试开始之前预先定义，并且客户应该清楚地知道您的交付成果是什么。
- en: Rules of engagement documentation
  id: totrans-68
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 参与规则文件
- en: 'Every penetration test will need to start with a rules of engagement document
    that all involved parties must have. This document should at minimum cover several
    items:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 每次渗透测试都需要以所有相关方都必须具备的参与规则文件开始。这份文件至少应包括以下几项内容：
- en: '**Proper permissions by appropriate personnel**.'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**适当人员的适当权限**。'
- en: Begin and end dates for your testing.
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试的开始和结束日期。
- en: The type of testing that will be performed.
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将执行的测试类型。
- en: Limitations of testing.
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试的限制。
- en: What type of testing is permitted? DDOS? Full Penetration? Social Engineering?
    These questions need to be addressed in detail.
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许进行哪种类型的测试？DDOS？全面渗透？社会工程？这些问题需要详细解决。
- en: Can intrusive tests as well as unobtrusive testing be performed?
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以进行侵入性测试和不引人注目的测试吗？
- en: Does your client expect cleanup to be performed afterwards or is this a stage
    environment that will be completely rebuilt after testing has been completed?
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您的客户是否希望在测试后进行清理，还是这是一个阶段性环境，在测试完成后将被完全重建？
- en: IP ranges and physical locations to be tested.
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要测试的IP范围和物理位置。
- en: How the report will be transmitted at the end of the test. (Use secure means
    of transmission!)
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试结束后如何传输报告。（使用安全的传输方式！）
- en: Which tools will be used during the test? Do not limit yourself to only one
    specific tool; it may be beneficial to provide a list of the primary toolset to
    avoid confusion in the future. For example, we will use the tools found in the
    most recent edition of the BackTrack Suite.
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试期间将使用哪些工具？不要局限于只使用一个特定的工具；提供主要工具集的清单可能会有益，以避免将来混淆。例如，我们将使用最新版本的BackTrack套件中的工具。
- en: '**Let your client know how any illegal data that is found during testing would
    be handled:** Law enforcement should be contacted prior to the client. Please
    be sure to understand fully the laws in this regard before conducting your test.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**让您的客户知道在测试期间发现的任何非法数据将如何处理：**在通知客户之前应该先联系执法部门。在进行测试之前，请确保充分了解相关法律。'
- en: '**How sensitive information will be handled:** You should not be downloading
    sensitive customer information; there are other methods of proving that the clients''
    data is not secured. This is especially important when regulated data is a concern.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**如何处理敏感信息：**您不应该下载敏感的客户信息；有其他方法可以证明客户的数据没有得到保护。当受监管的数据成为问题时，这一点尤为重要。'
- en: Important contact information for both your team and for the key employees of
    the company you are testing.
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您团队和您测试的公司的关键员工的重要联系信息。
- en: An agreement of what you will do to ensure the customer's system information
    does not remain on unsecured laptops and desktops used during testing. Will you
    need to properly scrub your machine after this testing? What do you plan to do
    with the information you gathered? Is it to be kept somewhere for future testing?
    Make sure this has been addressed before you start testing, not after.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您将采取什么措施来确保客户的系统信息不会保留在测试期间使用的不安全的笔记本电脑和台式机上？在测试结束后，您是否需要正确地清除您的设备？您计划如何处理收集到的信息？是否要将其保存在某个地方以备将来测试？在开始测试之前，确保这些问题已经得到解决，而不是在测试之后。
- en: The rules of engagement should contain all the details that are needed to determine
    the scope of the assessment. Any questions should have been answered prior to
    drafting your rules of engagement to ensure there are no misunderstandings once
    the time comes to test. Your team members need to keep a copy of this signed document
    on their person at all times when performing the test.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 参与规则应包含确定评估范围所需的所有细节。在起草参与规则之前，应该已经回答了所有问题，以确保在测试时不会有误解。您的团队成员在执行测试时需要随身携带一份签署的文件副本。
- en: Imagine you have been hired to assert the security posture of a client's wireless
    network and you are stealthily creeping along the parking lot on private property
    with your gigantic directional Wi-Fi antenna and a laptop. If someone witnesses
    you in this act, they will probably be concerned and call the authorities. You
    will need to have something on you that documents you have a legitimate reason
    to be there. This is one time where having the contact information of the business
    leaders that hired you will come in extremely handy!
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下，您被聘请来确认客户的无线网络的安全状况，您正在私人财产的停车场上悄悄潜行，手持巨大的定向Wi-Fi天线和一台笔记本电脑。如果有人目睹了您的行为，他们可能会感到担忧并报警。您需要携带一些文件证明您有合法的理由在那里。这是一次非常有用的时候，您需要客户领导的联系信息！
- en: Planning for action
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动计划
- en: Once the time has come to start your testing, you will want to be prepared.
    This entails having an action plan available, all of your equipment and scripts
    up and running, and of course having some mechanism for recording all steps and
    actions taken. This will provide you with a reference for yourself and other team
    members. You may remember the steps you took to bypass that firewall now, but
    what about four months from now when you are facing the same challenge? Taking
    good notes is critical to a successful penetration test.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦开始测试，您将需要做好准备。这包括准备行动计划，所有设备和脚本都正常运行，当然还需要一些记录所有步骤和操作的机制。这将为您和其他团队成员提供一个参考。现在你可能记得绕过防火墙的步骤，但是四个月后当你面临同样的挑战时呢？做好笔记对于成功的渗透测试至关重要。
- en: For the purpose of this book, we will review the installation of the BackTrack
    suite using VirtualBox, which is made available by Oracle under the GNU General
    Public License (GPL). This open source virtualization tool can be used to build
    your virtual testing environment on platforms such as Linux, OSX, and Windows.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 为了本书的目的，我们将回顾使用VirtualBox安装BackTrack套件的过程，这是由Oracle根据GNU通用公共许可证（GPL）提供的。这个开源虚拟化工具可以用于在Linux、OSX和Windows等平台上构建你的虚拟测试环境。
- en: Tip
  id: totrans-89
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: 'I highly recommend the use of the BackTrack OS for your testing needs. If you
    are unfamiliar with BackTrack, PacktPub has recently released an excellent book
    on the subject titled *BackTrack 4: Assuring Security by Penetration Testing*.
    This book will go into detail on various installation methods of the BackTrack
    suite, and gives a full review of all of the tools you can find within. If you
    are still new to penetration testing, you will more than likely benefit from reviewing
    this book. As the focus of *Advanced Penetration Testing of Highly Secured Environments*
    is on advanced attack methods we will not cover all tools within the BackTrack
    suite.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '我强烈推荐使用BackTrack OS进行测试。如果你对BackTrack不熟悉，PacktPub最近出版了一本名为*BackTrack 4: Assuring
    Security by Penetration Testing*的优秀书籍。这本书将详细介绍BackTrack套件的各种安装方法，并全面审查其中的所有工具。如果你对渗透测试还很新，阅读这本书很可能会有所帮助。由于*Advanced
    Penetration Testing of Highly Secured Environments*的重点是高级攻击方法，我们不会涵盖BackTrack套件中的所有工具。'
- en: 'You can also find more information about BackTrack at the BackTrack forum site
    located at: [http://www.backtrack-linux.org/forums/backtrack-5-forums/](http://www.backtrack-linux.org/forums/backtrack-5-forums/).
    The developers of BackTrack are very professional and offer a great deal of time
    and effort to the security community.'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以在BackTrack论坛网站上找到更多关于BackTrack的信息，网址为：[http://www.backtrack-linux.org/forums/backtrack-5-forums/](http://www.backtrack-linux.org/forums/backtrack-5-forums/)。BackTrack的开发人员非常专业，并为安全社区贡献了大量时间和精力。
- en: Installing VirtualBox
  id: totrans-92
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装VirtualBox
- en: At this point in time the Windows operating system is still the most common
    desktop operating system, thus I will be detailing the installation of VirtualBox
    using Windows 7\. However, the installation is straightforward for all OS's, so
    you should not shy away from installing it on your favorite platform.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，Windows操作系统仍然是最常见的桌面操作系统，因此我将详细介绍在Windows 7上安装VirtualBox。然而，对于所有操作系统来说，安装都很简单，所以你不应该因为在你喜欢的平台上安装而退缩。
- en: Note
  id: totrans-94
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Almost every tool we use throughout the book is Linux or FreeBSD based. Because
    many people use Windows as their primary desktop we will provide instructions
    on installing VirtualBox on Windows 7\. Once you have it up and running, you will
    be able to follow along regardless of which operating system is used as the host
    machine for your virtual test environment.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在整本书中几乎使用的每个工具都是基于Linux或FreeBSD的。因为许多人将Windows作为他们的主要桌面操作系统，我们将提供在Windows
    7上安装VirtualBox的说明。一旦你安装并运行起来，你就可以跟着进行，无论使用哪种操作系统作为虚拟测试环境的主机。
- en: Go to [http://www.virtualbox.org/](http://www.virtualbox.org/).
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问[http://www.virtualbox.org/](http://www.virtualbox.org/)。
- en: Click on the **Downloads** link on the left side of the page.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击页面左侧的**下载**链接。
- en: Download the latest version of **VirtualBox** for Windows hosts x86/amd64.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载Windows主机x86/amd64的最新版本**VirtualBox**。
- en: Begin the installation (you may need to begin the installation as administrator
    depending on your system configuration).
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开始安装（根据你的系统配置，你可能需要以管理员身份开始安装）。
- en: Click on **Next>** at the initial setup window.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在初始设置窗口点击**下一步>**。
- en: Ensure that the installation location is where you would like the program to
    be installed and that all options to be installed are selected and click on **Next>**.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保安装位置是你想要安装程序的位置，并且选择所有要安装的选项，然后点击**下一步>**。
- en: Select the options you prefer in regards to desktop shortcuts and click on **Next
    >**.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你喜欢的桌面快捷方式选项，然后点击**下一步>**。
- en: Click on **Yes** if you would like to proceed with the installation using the
    settings you selected on the previous screens.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你想使用之前选择的设置进行安装，请点击**是**。
- en: Click on **Install** to proceed with installation. This step may take some time
    depending on your system performance. You may be asked to install device software
    as well, at which point you will have to click on **Install** in the pop-up window.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**安装**以继续安装。这一步可能需要一些时间，具体取决于你的系统性能。你可能会被要求安装设备软件，此时你需要点击弹出窗口中的**安装**。
- en: Tip
  id: totrans-105
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: This may occur more than once; in my case it popped up four times followed by
    a notification from my firewall asking for permission to add the additional network
    to my firewall settings.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能会发生多次；在我的情况下，它弹出了四次，然后我的防火墙通知我请求权限将额外的网络添加到我的防火墙设置中。
- en: Click on **Finish** to be presented with the Oracle VirtualBox Manager.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**完成**以打开Oracle VirtualBox Manager。
- en: You will now have VirtualBox up and running and can begin the first step of
    creating the virtual testing environment to be used for hands-on practice throughout
    the book!
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在已经安装并运行了VirtualBox，并且可以开始创建虚拟测试环境的第一步，以便在整本书中进行实践！
- en: Installing your BackTrack virtual machine
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装你的BackTrack虚拟机
- en: Note
  id: totrans-110
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: We will be referring to the system and virtual network names used in these installation
    instructions when discussing attack and defense strategies.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 在讨论攻击和防御策略时，我们将参考这些安装说明中使用的系统和虚拟网络名称。
- en: There are two primary methods of installing BackTrack as a virtual machine.
    One is to use the LiveCD ISO to install BackTrack just as you would on a physical
    machine; the other is to download a pre-prepared virtual machine. This is the
    VMWare image option seen on the BackTrack-Linux.org download site.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种主要方法可以将BackTrack安装为虚拟机。一种是使用LiveCD ISO像在物理机上一样安装BackTrack；另一种是下载预先准备好的虚拟机。这是在BackTrack-Linux.org下载站点上看到的VMWare镜像选项。
- en: We will be using the LiveCD for our BackTrack installation, as that allows us
    the flexibility to determine hard drive size and other settings. Another benefit
    of using the ISO is that you will know how to install BackTrack to physical machines
    in the future. If using whole disk installation, the install process will be very
    similar to the virtual machine installation.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用LiveCD进行BackTrack安装，因为这样可以灵活确定硬盘大小和其他设置。使用ISO的另一个好处是，您将知道如何将BackTrack安装到将来的物理机器上。如果使用整个磁盘安装，安装过程将与虚拟机安装非常相似。
- en: BackTrack can be downloaded at [http://www.backtrack-linux.org/](http://www.backtrack-linux.org/).
    Be sure to choose the appropriate ISO version in regards to 32 or 64 bit architecture.
    If you do not have a 64-bit operating system running on what will be the host
    machine, you will not be able to run a 64-bit operating system on the guest instances
    either. If running a 64-bit operating system on the host, you may choose either
    32 bit or 64 bit for your guest machine operating systems.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: BackTrack可以在[http://www.backtrack-linux.org/](http://www.backtrack-linux.org/)下载。请务必根据32位或64位架构选择适当的ISO版本。如果您的主机机器上没有64位操作系统运行，您将无法在客户机实例上运行64位操作系统。如果在主机上运行64位操作系统，则可以选择32位或64位作为客户机操作系统。
- en: Note
  id: totrans-115
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The host machine is the primary operating system that you installed VirtualBox
    on. Virtualized operating system images installed with VirtualBox will be referred
    to as guest machines.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 主机是您安装VirtualBox的主要操作系统。使用VirtualBox安装的虚拟化操作系统映像将被称为客户机。
- en: Preparing the virtual guest machine for BackTrack
  id: totrans-117
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 为BackTrack准备虚拟客户机
- en: Once the BackTrack ISO is obtained it is time to begin.
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦获得BackTrack ISO，就是开始的时候了。
- en: Start the Oracle VM VirtualBox Manager by selecting it from your **Start** menu.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过从**开始**菜单中选择它来启动Oracle VM VirtualBox Manager。
- en: Click on the **New** icon in the top-left corner.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击左上角的**新建**图标。
- en: At the **Welcome to the New Virtual Machine Wizard** screen click on the **Next**
    button.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**新建虚拟机向导**屏幕上点击**下一步**按钮。
- en: You will be prompted to enter the name of the guest machine. Enter `BT5_R1_Tester1`,
    select **Linux** as the **Operating System**, and **Linux 2.6** (**32 bit** or
    **64 bit)** as the **Version**, and then click on **Next**.![Preparing the virtual
    guest machine for BackTrack](img/7744_01_01.jpg)
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将被提示输入客户机的名称。输入`BT5_R1_Tester1`，选择**Linux**作为**操作系统**，**Linux 2.6**（**32位**或**64位**）作为**版本**，然后点击**下一步**。![为BackTrack准备虚拟客户机](img/7744_01_01.jpg)
- en: On the **Memory** screen you will need to choose a **Base Memory Size** using
    the slider. If your system has more than 2 GB of RAM you should use at least **512
    MB** for this system. You can still follow the examples with a less RAM but you
    may experience some system lag. After choosing your RAM size click on **Next**.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**内存**屏幕上，您需要使用滑块选择**基本内存大小**。如果您的系统内存超过2GB，您应该为此系统使用至少**512MB**。您仍然可以使用较少的内存来跟随示例，但可能会遇到一些系统滞后。选择完内存大小后，点击**下一步**。
- en: 'Virtual Hard Disk: Ensure that the **Start-Up Disk** checkbox is selected and
    the **Create new hard disk** radial button is also selected and click on **Next**.'
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 虚拟硬盘：确保选择了**启动盘**复选框，并且也选择了**创建新硬盘**单选按钮，然后点击**下一步**。
- en: A new pop up will open in which **VDI (VirtualBox Disk Image)** should be selected.
    Click on **Next**.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个新的弹出窗口将打开，应选择**VDI（VirtualBox磁盘映像）**。点击**下一步**。
- en: When asked to select the **Virtual disk storage details** choose **Dynamically
    allocated** and continue the installation by clicking on **Next**.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在要求选择**虚拟磁盘存储详细信息**时，选择**动态分配**，然后点击**下一步**继续安装。
- en: Now it is time to select the **Location** where the virtual guest machines files
    will be stored. Select the folder icon to the right of the **Location** text entry
    field.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在是选择存储虚拟客户机文件的**位置**的时候。选择**位置**文本输入字段右侧的文件夹图标。
- en: Create and select a new folder named `APT_VirtualLab` in which we will be storing
    all guest machines dedicated to this lab. Ensure that the drive you have chosen
    has sufficient space to store several virtual machines.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建并选择一个名为`APT_VirtualLab`的新文件夹，我们将在其中存储专门用于此实验室的所有客户机。确保您选择的驱动器有足够的空间来存储多个虚拟机。
- en: '**Size** the virtual disk to be at least 10 GB. We will be using this machine
    extensively throughout the book and although technically possible, it is better
    to avoid having to resize the VDI. Click on **Next** to continue.![Preparing the
    virtual guest machine for BackTrack](img/7744_01_02.jpg)'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将虚拟磁盘的**大小**至少设置为10 GB。我们将在整本书中广泛使用这台机器，尽管从技术上讲可能，但最好避免调整VDI的大小。点击**下一步**继续。![为BackTrack准备虚拟客户机](img/7744_01_02.jpg)
- en: Validate that the data on the **Summary** page is accurate and click on **Create**.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证**摘要**页面上的数据是否准确，并点击**创建**。
- en: If everything has been successful you are once again prompted with the VirtualBox
    Manager application window with your new guest machine.![Preparing the virtual
    guest machine for BackTrack](img/7744_01_03.jpg)
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果一切顺利，您将再次看到VirtualBox Manager应用程序窗口，其中包含您的新客户机。![为BackTrack准备虚拟客户机](img/7744_01_03.jpg)
- en: We will want to have two network adapters available to this machine. Select
    **BT5_R1_Tester1** and then click on **Settings** followed by the **Network**
    option on the left menu bar.![Preparing the virtual guest machine for BackTrack](img/7744_01_04.jpg)
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们希望为这台机器提供两个网络适配器。选择**BT5_R1_Tester1**，然后点击**设置**，接着点击左侧菜单栏上的**网络**选项。![为BackTrack准备虚拟客户机](img/7744_01_04.jpg)
- en: Click on the **Adapter 2** and select the **Enable Network Adapter** checkbox.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**适配器2**，选择**启用网络适配器**复选框。
- en: The **Attached to:** drop-down box will need to be set to **Internal Network**.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**附加到：**下拉框需要设置为**内部网络**。'
- en: Change the **Name:** textbox to **Vlab_1** and click on **OK**.
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**名称：**文本框更改为**Vlab_1**，然后点击**确定**。
- en: Now you have completed the preparation required for installing an operating
    system on your virtual disk. This process does not vary considerably when preparing
    for other operating systems, and VirtualBox makes many of the configuration changes
    trivial. Sometimes you may want to tweak the settings on your guest machines to
    increase their performance. Playing around with some of the settings will give
    you an idea of the power of this tool.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您已完成了在虚拟磁盘上安装操作系统所需的准备工作。当准备其他操作系统时，这个过程并不会有太大变化，而VirtualBox使许多配置更改变得微不足道。有时，您可能希望调整客户机的设置以提高其性能。尝试一些设置将让您了解这个工具的强大之处。
- en: Note
  id: totrans-137
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: You can change the settings of the virtual machines at any time. However, sometimes
    you will be required to shut down the guest machine prior to making changes.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以随时更改虚拟机的设置。但是，有时您需要在更改之前关闭客户机。
- en: Installing BackTrack on the virtual disk image
  id: totrans-139
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在虚拟磁盘映像上安装BackTrack
- en: Now the virtual machine is installed and we are ready to install BackTrack.
    Thanks to the hard work of the Backtrack-Linux.org team, this process is simple
    and uncomplicated.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 现在虚拟机已安装，我们准备安装BackTrack。感谢Backtrack-Linux.org团队的辛勤工作，这个过程简单而不复杂。
- en: Open the **VM VirtualBox Manager** and select your **BT5_R1_Tester1** guest
    machine on the left of the screen. Click on the large **Start** icon on the top
    bar of the application to start the virtual machine instance.
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**VM VirtualBox Manager**，在屏幕左侧选择您的**BT5_R1_Tester1**虚拟机。单击应用程序顶部栏上的大**启动**图标以启动虚拟机实例。
- en: Your machine will now boot up. As we have not yet selected an image to be used
    to boot the system with, we will need to select this using the menu options that
    will appear prior to the initial system initialization.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您的机器现在将启动。由于我们尚未选择要用于引导系统的映像，因此我们需要使用菜单选项来进行选择，这些选项将出现在初始系统初始化之前。
- en: You may be prompted with an informative window explaining that the **Auto Capture
    Keyboard** option is turned on. Click on the **OK** button to continue the system
    initialization.
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可能会收到一个信息窗口，解释**自动捕获键盘**选项已打开。单击**确定**按钮以继续系统初始化。
- en: The **First Run Wizard** will only appear the first time the virtual machine
    is started. It allows you to easily choose the ISO you wish to boot up from.
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**首次运行向导**只会在第一次启动虚拟机时出现。它允许您轻松选择要引导的ISO。'
- en: It is also possible to add the installation media in the **Virtual Machine Settings**
    in the **Storage** category.
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 也可以在**虚拟机设置**的**存储**类别中添加安装媒体。
- en: Click on **Next** to continue.![Installing BackTrack on the virtual disk image](img/7744_01_05.jpg)
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击**下一步**继续。![在虚拟磁盘映像上安装BackTrack](img/7744_01_05.jpg)
- en: On the **Select Installation Media** screen you will need to click on the folder
    icon to the right of the **Media Source** bar. You will then need to browse to
    the folder where you have downloaded the BackTrack ISO, and select it so that
    it appears as displayed in the following screenshot. Click on **Next** when ready.![Installing
    BackTrack on the virtual disk image](img/7744_01_06.jpg)
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**选择安装媒体**屏幕上，您需要单击**媒体源**栏右侧的文件夹图标。然后，您需要浏览到下载BackTrack ISO的文件夹，并选择它，使其显示在以下截图中。准备好后，单击**下一步**。![在虚拟磁盘映像上安装BackTrack](img/7744_01_06.jpg)
- en: Verify your summary information and click on **Start** to initiate the machine.
    If the machine hangs at the `boot:` command, press *Enter* and the system will
    continue to boot. Allow it to fully load up the LiveCD (Default bootup option).
    You may be prompted with **Keyboard Host Capture** messages. Simply click on **OK**
    to these as needed.
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证您的摘要信息，然后单击**开始**启动机器。如果机器在`boot:`命令处停顿，请按*Enter*，系统将继续引导。允许其完全加载LiveCD（默认引导选项）。您可能会收到**键盘主机捕获**消息。根据需要单击**确定**。
- en: '**Type** `startx` **at the** `root@root:~#`**prompt.**![Installing BackTrack
    on the virtual disk image](img/7744_01_07.jpg)'
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**在** `root@root:~#` **提示处**输入** `startx` **。**![在虚拟磁盘映像上安装BackTrack](img/7744_01_07.jpg)'
- en: Now that we have the BackTrack ISO up and running on our virtual machine, we
    need to add persistence so that changes we make remain. Click on the **Install
    BackTrack** icon to begin the short installation process:![Installing BackTrack
    on the virtual disk image](img/7744_01_08.jpg)
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们在虚拟机上运行了BackTrack ISO，我们需要添加持久性，以便我们所做的更改保留下来。单击**安装BackTrack**图标开始短暂的安装过程：![在虚拟磁盘映像上安装BackTrack](img/7744_01_08.jpg)
- en: Select your preferred language and click on **Forward**.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您喜欢的语言，然后单击**前进**。
- en: Let the install know where you are in the world. This will affect your time
    settings and will also help with choosing servers that are closer to you for updates.
    Click on **Forward** to continue.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让安装程序知道您所在的地区。这将影响您的时间设置，并且还将有助于选择距离您更近的服务器进行更新。单击**前进**继续。
- en: Select your preferred keyboard layout and click on **Forward**.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您喜欢的键盘布局，然后单击**前进**。
- en: For the sake of simplicity we will be using the entire available disk space
    without manual partitioning. Choose the **Erase and use the entire disk** radial
    button and click on **Forward**.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了简单起见，我们将使用整个可用磁盘空间而不是手动分区。选择**擦除并使用整个磁盘**单选按钮，然后单击**前进**。
- en: Click on **Install** to initialize the changes. This stage may take a few minutes
    to complete.![Installing BackTrack on the virtual disk image](img/7744_01_09.jpg)
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击**安装**以初始化更改。这个阶段可能需要几分钟才能完成。![在虚拟磁盘映像上安装BackTrack](img/7744_01_09.jpg)
- en: When the install has finished you will be required to reboot the system. Click
    on the **Restart Now** button and then unload the ISO. You will need to choose
    **Devices** | **CD/DVD Devices** | **{Your BackTrack ISO image name}**. This will
    eject the ISO image before the system reboots. Press *Enter* to reboot.![Installing
    BackTrack on the virtual disk image](img/7744_01_10.jpg)
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，您需要重新启动系统。单击**立即重启**按钮，然后卸载ISO。您需要选择**设备** | **CD/DVD设备** | **{您的BackTrack
    ISO映像名称}**。这将在系统重新启动之前弹出ISO映像。按*Enter*重新启动。![在虚拟磁盘映像上安装BackTrack](img/7744_01_10.jpg)
- en: Exploring BackTrack
  id: totrans-157
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索BackTrack
- en: Congratulations, you now have one of the most powerful collections of penetration
    tools available and ready for your usage. Entire books are dedicated to covering
    the excellent collection of tools that are part of the BackTrack Linux platform.
    This toolkit will definitely save you a lot of time out in the field.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜，您现在拥有最强大的渗透工具集之一，可以随时使用。整本书都致力于介绍BackTrack Linux平台中的出色工具集。这个工具包肯定会为您在实地工作中节省大量时间。
- en: Logging in
  id: totrans-159
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 登录
- en: 'Your login information for the default install is:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 默认安装的登录信息为：
- en: '[PRE0]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Changing the default password
  id: totrans-162
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更改默认密码
- en: After logging in, we should change this default password as soon as possible.
    You can do this by typing `passwd` at the prompt and replacing `1NewPassWordHere`
    as seen in the example with your own secure password.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 登录后，我们应该尽快更改默认密码。您可以通过在提示符下输入`passwd`并用您自己的安全密码替换示例中的`1NewPassWordHere`来做到这一点。
- en: '[PRE1]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Tip
  id: totrans-165
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: If you are having issues with screen resolution or experiencing other minor
    annoyances, you may want to install the VirtualBox Guest Additions. With the guest
    machine running, click on **Devices** and then **Install Guest Additions** to
    initiate this install. You will be required to restart BackTrack afterwards.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您遇到屏幕分辨率问题或遇到其他小问题，您可能希望安装VirtualBox Guest Additions。在客户机运行时，单击**设备**，然后单击**安装增强功能**以启动此安装。安装后，您需要重新启动BackTrack。
- en: Updating the applications and operating system
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更新应用程序和操作系统
- en: Your virtual machine network cards are currently configured to allow your BackTrack
    installation to access your host system's Internet connection using NAT. In order
    to update the operating system there are a few commands that you should become
    familiar with.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 您的虚拟机网络卡当前配置为允许您的BackTrack安装使用NAT访问主机系统的互联网连接。为了更新操作系统，您应该熟悉一些命令。
- en: Note
  id: totrans-169
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If you do not have an Internet connection the system will not be able to update.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您没有互联网连接，系统将无法更新。
- en: One thing to keep in mind is that BackTrack is based on Ubuntu and as with any
    other operating system, patching is required in order to ensure that the latest
    security patches are applied. It is also important to keep applications up-to-date
    so that the latest testing techniques and tools can be taken advantage of!
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 需要记住的一件事是，BackTrack基于Ubuntu，与任何其他操作系统一样，需要打补丁以确保应用最新的安全补丁。同时，保持应用程序的最新状态也很重要，以便利用最新的测试技术和工具！
- en: By default, BackTrack is set up to use only the BackTrack repositories. If curious,
    you can see what these are by looking at the `/etc/apt/sources.list` file.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，BackTrack设置为仅使用BackTrack存储库。如果好奇，您可以查看`/etc/apt/sources.list`文件了解这些存储库是什么。
- en: The first command that will need to be initialized is the **advanced packaging
    tools (APT)** update function. This will synchronize the package index files to
    ensure that you have information about the latest packages available. The update
    functionality should always be used prior to installing any software or updating
    your installed packages.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 需要初始化的第一个命令是**高级打包工具（APT）**更新功能。这将同步软件包索引文件，以确保您获得有关最新软件包的信息。在安装任何软件或更新已安装的软件包之前，应始终使用更新功能。
- en: '[PRE2]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: After this update is complete you may initialize apt's upgrade command. All
    installed packages will be updated to the latest release found within your repositories.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此更新后，您可以初始化apt的升级命令。所有已安装的软件包将更新到存储库中找到的最新版本。
- en: '[PRE3]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'There is another apt command that is used to update your system. `dist-upgrade`
    will bring BackTrack to the latest release. For example, if you are running BackTrack
    4 and would like to upgrade instead of downloading and installing the latest version
    BackTrack 5 release, you may do so by typing:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 还有另一个apt命令用于更新系统。`dist-upgrade`将BackTrack升级到最新版本。例如，如果您正在运行BackTrack 4，并希望升级而不是下载和安装最新版本的BackTrack
    5，您可以通过输入以下命令来实现：
- en: '[PRE4]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Note
  id: totrans-179
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: You need not worry about dependencies; all of this is handled automatically
    by the `apt-get dist-upgrade` command!
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 您无需担心依赖关系；所有这些都将由`apt-get dist-upgrade`命令自动处理！
- en: Now that your system has been updated, it is time to start up the graphical
    user interface (type `startx` at the prompt again) and have a look around at your
    new toolkit. We will be making extensive use of these tools throughout the course
    of this book.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您的系统已经更新，是时候启动图形用户界面（在提示符下再次输入`startx`）并查看一下您的新工具包。在本书的过程中，我们将广泛使用这些工具。
- en: Note
  id: totrans-182
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: When performing an `apt-get dist-upgrade` it may be beneficial to follow up
    with a reboot. This is the case with any kernel upgrade.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 在执行`apt-get dist-upgrade`时，跟着重启可能是有益的。这适用于任何内核升级。
- en: Installing OpenOffice
  id: totrans-184
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装OpenOffice
- en: 'There may be times when you need to open up a spreadsheet to review IP ranges,
    or to quickly review your ROE. Sometimes it is even nice to have your data collection
    tool export your data directly into a word processor from within BackTrack. There
    are many open source alternatives to Microsoft Word these days and OpenOffice
    is at the top of the list. It has been adopted by many businesses and can output
    various file formats. To install OpenOffice from within BackTrack simply open
    a terminal session and type:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 有时您可能需要打开电子表格来查看IP范围，或快速查看您的ROE。有时，甚至可以让您的数据收集工具直接从BackTrack内部将数据导出到文字处理器中。如今有许多开源替代Microsoft
    Word的选择，OpenOffice就是其中之一。它已被许多企业采用，并且可以输出各种文件格式。要从BackTrack内部安装OpenOffice，只需打开终端会话并键入：
- en: '[PRE5]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Accept the download by pressing *Y* and after a few moments, you will have successfully
    added a very powerful Office Suite to your BackTrack toolset.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 通过按下*Y*接受下载，几秒钟后，您将成功地将一个非常强大的办公套件添加到您的BackTrack工具集中。
- en: Effectively manage your test results
  id: totrans-188
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 有效管理您的测试结果
- en: A variety of tools will be used during the process of performing a penetration
    test. Almost all of these will have output that you will want to keep. One major
    challenge is to be able to combine all of this data in one place so that it may
    easily be used to enhance testing efforts by providing you with a holistic view
    of your data, and shorten the report generation phase.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 在执行渗透测试过程中将使用各种工具。几乎所有这些工具都会产生您希望保留的输出。一个主要挑战是能够将所有这些数据合并到一个地方，以便可以轻松地将其用于通过为您提供数据的整体视图来增强测试工作，并缩短报告生成阶段。
- en: Introduction to MagicTree
  id: totrans-190
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MagicTree简介
- en: MagicTree, a Java application created by Gremwell, is an actively supported
    data collection and reporting tool. It manages your data using nodes in a tree-structure.
    This hierarchical storage method is particularly efficient at managing host and
    network data. The true power of MagicTree is unleashed when attempting to analyze
    data. For instance, a search for all IIS web servers found during a scan of a
    large network would take mere moments.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: MagicTree是由Gremwell创建的Java应用程序，是一个受到积极支持的数据收集和报告工具。它使用树结构中的节点来管理您的数据。这种分层存储方法在管理主机和网络数据时特别高效。MagicTree的真正力量在于尝试分析数据时才能释放出来。例如，在扫描大型网络时查找所有IIS
    Web服务器只需几秒钟。
- en: In addition to providing an excellent data collection mechanism, MagicTree also
    enables you to create actionable reports based on priorities of your choosing.
    Reports generated with MagicTree are completely customizable, and easily tailored
    to meet your reporting requirements. You can even use it to export your data into
    OpenOffice!
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 除了提供出色的数据收集机制外，MagicTree还可以根据您选择的优先级创建可操作的报告。使用MagicTree生成的报告是完全可定制的，并且可以轻松定制以满足您的报告要求。您甚至可以使用它将数据导出到OpenOffice！
- en: 'MagicTree allows for XML data imports and has XSLT transforms for many popular
    formats such as:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: MagicTree允许导入XML数据，并为许多流行格式提供XSLT转换，例如：
- en: Nessus (v1 and v2)
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nessus（v1和v2）
- en: Nikto
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nikto
- en: Nmap
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nmap
- en: Burp
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Burp
- en: Qualys
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Qualys
- en: Imperva Scuba
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Imperva Scuba
- en: OpenVas
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OpenVas
- en: Note that the developers of MagicTree are pentesters by trade. When exploring
    MagicTree, it becomes obvious that they understand the challenges that testers
    face on a daily basis. One example of this is the functionality they made available
    that allows you to create your own XSLT transforms for the tool. If the XML data
    you need cannot be imported using the provided transforms, you can make your own!
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，MagicTree的开发人员是渗透测试人员。当探索MagicTree时，很明显他们了解测试人员每天面临的挑战。其中一个例子是他们提供的功能，允许您为该工具创建自己的XSLT转换。如果使用提供的转换无法导入您需要的XML数据，您可以自己制作！
- en: Starting MagicTree
  id: totrans-202
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 启动MagicTree
- en: As with most tools we will be using throughout this book, this one comes preinstalled
    on BackTrack 5 R1.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 与本书中使用的大多数工具一样，这个工具已经预装在BackTrack 5 R1上。
- en: To launch MagicTree from BackTrack we select **Applications** | **BackTrack**
    | **Reporting Tools** | **Evidence Management** | **magictree**. After the splash
    screen and license agreement has been displayed (the license will need to be accepted)
    you will be presented with the main application workspace.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 从BackTrack启动MagicTree，我们选择**应用程序** | **BackTrack** | **报告工具** | **证据管理** | **magictree**。在显示启动画面和许可协议后（需要接受许可协议），您将看到主应用程序工作区。
- en: '![Starting MagicTree](img/7744_01_11.jpg)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
  zh: '![启动MagicTree](img/7744_01_11.jpg)'
- en: Adding nodes
  id: totrans-206
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 添加节点
- en: To add a node, press *Ctrl+N* and type `127.0.0.1` into the **Input** pop-up
    box. This will populate the tree with two additional nodes. One for **testdata**
    and one for host **127.0.0.1**.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 要添加一个节点，按下*Ctrl+N*并在**输入**弹出框中键入`127.0.0.1`。这将在树中填充两个额外的节点。一个用于**testdata**，一个用于主机**127.0.0.1**。
- en: 'There are several node types available when storing your data. To be able to
    use the tool effectively you will need to familiarize yourself with the various
    node types:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 在存储数据时有几种可用的节点类型。要能够有效地使用该工具，您需要熟悉各种节点类型：
- en: '**Branch nodes:** Used to create the structure of your tree, make sure not
    to include spaces when using this node type.'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分支节点：**用于创建树的结构，在使用此节点类型时确保不包含空格。'
- en: '**Simple nodes:** Most common node type, will be used to store simple data
    such as an IP address or fully qualified domain name.'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**简单节点：**最常见的节点类型，用于存储简单数据，如IP地址或完全合格的域名。'
- en: '**Text nodes:** Stores text data within the node and could be used to provide
    information about your testing, or data that you would like to appear in your
    reports.'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本节点：**在节点内存储文本数据，可用于提供有关您的测试或希望出现在报告中的数据的信息。'
- en: '**Data nodes:** Store non-image and non-XML attachments in the project file
    folder.'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据节点：**在项目文件夹中存储非图像和非XML附件。'
- en: '**XML data nodes:** Stores XML data.'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**XML数据节点：**存储XML数据。'
- en: '**Image nodes:** Can store images such as screenshots or other important evidence.'
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图像节点：**可以存储诸如屏幕截图或其他重要证据之类的图像。'
- en: '**Cross-references:** Creates a link between nodes to avoid duplication of
    information.'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**交叉引用：**创建节点之间的链接，以避免信息重复。'
- en: '**Overview nodes:** Used to enter testing results and recommended mitigation
    strategies. Can be linked to affected hosts.'
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**概述节点：**用于输入测试结果和建议的缓解策略。可以链接到受影响的主机。'
- en: '**Special nodes:** Created automatically and used by the application to perform
    certain tasks. Are not user created.'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**特殊节点：**由应用程序自动创建并用于执行特定任务。不是用户创建的。'
- en: Note
  id: totrans-218
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: MagicTree will merge the data from disparate data sources into single nodes
    in attempt to avoid data duplication running multiple scanning tools against 127.0.0.1
    will not result in multiple nodes representing the same data.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: MagicTree将来自不同数据源的数据合并到单个节点中，以避免数据重复运行多个扫描工具对127.0.0.1进行扫描不会导致多个代表相同数据的节点。
- en: Data collection
  id: totrans-220
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数据收集
- en: Let's collect some data about 127.0.0.1\. In addition to being able to select
    scan results from tools you have run outside of MagicTree, you can also scan directly
    from within the tool and use variables to select your target ranges or hosts.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们收集一些关于127.0.0.1的数据。除了能够选择在MagicTree之外运行的工具的扫描结果之外，您还可以直接从工具内部进行扫描，并使用变量选择目标范围或主机。
- en: 'Select the **host 127.0.0.1** node in the **Tree View** menu, click on the
    **Q*** button which represents Query All and type the following into the **Command**
    text field (which must be clicked in to make it active):'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 在**树视图**菜单中选择**主机127.0.0.1**节点，单击代表查询所有的**Q***按钮，并在**命令**文本字段中输入以下内容（必须单击才能激活）：
- en: '[PRE6]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: This will initiate an Nmap scan against 127.0.0.1 and place the results in an
    XML file named `$out.xml`.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 这将启动针对127.0.0.1的Nmap扫描，并将结果放入名为`$out.xml`的XML文件中。
- en: '![Data collection](img/7744_01_12.jpg)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
  zh: '![数据收集](img/7744_01_12.jpg)'
- en: We will select `$out.xml` and click on the **Import** button to have MagicTree
    automatically generate our node structure based on the scan results.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将选择`$out.xml`，然后单击**导入**按钮，让MagicTree根据扫描结果自动生成我们的节点结构。
- en: '![Data collection](img/7744_01_13.jpg)'
  id: totrans-227
  prefs: []
  type: TYPE_IMG
  zh: '![数据收集](img/7744_01_13.jpg)'
- en: MagicTree has imported the Nmap results and merged them with our host. Looks
    like we have **postgresql version 8.4.0** running on our BackTrack virtual machine
    on **port 7175!**
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: MagicTree已导入Nmap的结果，并将其与我们的主机合并。看起来我们的BackTrack虚拟机上的**postgresql版本8.4.0**正在**端口7175**上运行！
- en: Report generation
  id: totrans-229
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 报告生成
- en: Now that we have some results, we will look at how simple report generation
    can be. The installation that comes preinstalled with BackTrack 5 R1 has five
    report templates for OpenOffice preconfigured that can be used as a reference
    for creating your own templates or just as they are.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了一些结果，我们将看看简单的报告生成是如何进行的。预先安装在BackTrack 5 R1上的安装程序有五个OpenOffice预配置的报告模板，可以用作创建自己模板的参考，或者直接使用。
- en: At the top from the menu bar, select the **Report** option followed by **Generate
    Report**. This will initiate the **Generate Report** template selection screen.
    Select `open-ports-and-summary-of-findings-by-host.odt` by using the browse option
    and then click on **Generate Report**. After a few moments, OpenOffice will open
    up the automatically generated report listing all open ports by host along with
    any findings you may have had.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 在菜单栏顶部，选择**报告**选项，然后选择**生成报告**。这将启动**生成报告**模板选择屏幕。使用浏览选项选择`open-ports-and-summary-of-findings-by-host.odt`，然后单击**生成报告**。几分钟后，OpenOffice将打开自动生成的报告，列出所有主机的开放端口以及您可能遇到的任何发现。
- en: '![Report generation](img/7744_01_14.jpg)'
  id: totrans-232
  prefs: []
  type: TYPE_IMG
  zh: '![报告生成](img/7744_01_14.jpg)'
- en: This has just been a quick introduction to the MagicTree project. This tool
    is immensely powerful and it will take you a bit of practice before its true potential
    has been unlocked. The documentation provided with MagicTree is well written and
    frequently updated. If you are primarily performing your penetration testing in
    very small teams, or in teams of one, then MagicTree will probably be the only
    data collection tool you will ever want.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 这只是对MagicTree项目的简要介绍。这个工具非常强大，需要一些练习才能发挥其真正的潜力。MagicTree提供的文档写得很好，而且经常更新。如果您主要是在非常小的团队中进行渗透测试，或者是独自一人的团队，那么MagicTree可能是您唯一想要的数据收集工具。
- en: Introduction to the Dradis Framework
  id: totrans-234
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Dradis框架简介
- en: The Dradis Framework is a Rails application that can be used to help manage
    the data overload that can occur when pentesting. With its user friendly web-based
    interface it simplifies data collection throughout the testing cycle, and is priceless
    when sharing data with your team members.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: Dradis框架是一个Rails应用程序，可用于帮助管理渗透测试时可能发生的数据过载。通过其用户友好的基于Web的界面，它简化了整个测试周期中的数据收集，并在与团队成员共享数据时非常有价值。
- en: When combining disparate data sources, such as Nmap, Nessus, and even Metasploit
    you would typically need to build out some sort of database and then use various
    methods of managing the imports. Dradis has plugins that allow you to import this
    data with just a few clicks. Dradis also allows you to upload attachments such
    as screenshots or to add your own notes to the database.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 当合并不同的数据源，例如Nmap、Nessus，甚至Metasploit时，通常需要构建某种数据库，然后使用各种方法来管理导入。Dradis有插件，可以让您只需点击几下就可以导入这些数据。Dradis还允许您上传附件，如截图，或向数据库添加自己的注释。
- en: Note
  id: totrans-237
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The Dradis Framework can be installed on Linux, Windows, or OSX.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: Dradis框架可以安装在Linux、Windows或OSX上。
- en: 'The Dradis server can be started by either clicking through the shortcuts menu
    **Applications** | **BackTrack** | **Reporting Tools | Evidence Management | Dradis**,
    or by typing the following into the terminal:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过点击快捷菜单**应用程序** | **BackTrack** | **报告工具 | 证据管理 | Dradis**来启动Dradis服务器，也可以在终端中输入以下内容：
- en: '[PRE7]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Once the server has started you may open up your browser and type `https://127.0.0.1:3004`
    which takes you to the intro screen of the Dradis application.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 服务器启动后，您可以打开浏览器，输入`https://127.0.0.1:3004`，这将带您进入Dradis应用程序的介绍界面。
- en: Note
  id: totrans-242
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The browser will present you with warnings, as the certificate is self-signed.
    Add the certificate to your exceptions list and continue to the site. You may
    also want to choose **Allow 127.0.0.1** in No Script browser add-on.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 浏览器会向您显示警告，因为证书是自签名的。将证书添加到您的异常列表中，然后继续访问该站点。您可能还想在No Script浏览器附加组件中选择**允许127.0.0.1**。
- en: You will be greeted by the "What is Dradis" screen. In order to set the shared
    password for the server you will need to click on the **back to the app** link
    in the top-right corner of the page.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 您将看到“什么是Dradis”屏幕。为了为服务器设置共享密码，您需要单击页面右上角的**返回应用程序**链接。
- en: '![Introduction to the Dradis Framework](img/7744_01_15.jpg)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
  zh: '![Dradis框架简介](img/7744_01_15.jpg)'
- en: The Dradis framework uses a password that is shared by all team members. Enter
    a password of your choice in the **Password** field.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: Dradis框架使用一个由所有团队成员共享的密码。在**密码**字段中输入您选择的密码。
- en: Note
  id: totrans-247
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Never reuse passwords!
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 永远不要重复使用密码！
- en: Click on the **Initialize** button to continue. This will set up the new password
    and accept the default Meta-Server options.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 单击**初始化**按钮继续。这将设置新密码并接受默认的Meta-Server选项。
- en: You will now be able to choose a new username in the **Login** field. The user
    login field is used for informational purposes only and will not affect the work
    area. Type the shared server password into the **Password** field. Once you click
    on the **Log in** button, you are presented with the primary Dradis work area.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您可以在**登录**字段中选择一个新的用户名。用户登录字段仅用于信息目的，不会影响工作区域。在**密码**字段中输入共享服务器密码。单击**登录**按钮后，您将看到Dradis的主要工作区。
- en: '![Introduction to the Dradis Framework](img/7744_01_16.jpg)'
  id: totrans-251
  prefs: []
  type: TYPE_IMG
  zh: '![Dradis框架简介](img/7744_01_16.jpg)'
- en: We will begin setting up our Dradis environment by creating a new branch to
    represent our penetration test. These branches allow you to manage your findings
    based on various user-created criteria.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过创建一个新的分支来设置我们的Dradis环境，以代表我们的渗透测试。这些分支允许您根据各种用户创建的标准来管理您的发现。
- en: Click on the **add branch** button displayed in the toolbar at the top of the
    application window.
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击应用程序窗口顶部显示的**添加分支**按钮。
- en: 'The new branch will be ready for you to rename it. Overwrite **branch #2**
    with `PracticePenTest` and press *Enter*.'
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新的分支将准备好供您重命名。用`PracticePenTest`覆盖**分支#2**，然后按*Enter*。
- en: Right-click **PracticePenTest** and select **add child** to start your hierarchy.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击**PracticePenTest**，然后选择**添加子项**以开始您的层次结构。
- en: Experiment a bit and add additional folders. Start thinking about how you would
    like to have your data arranged for easy access and manageability.
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尝试一下并添加额外的文件夹。开始考虑如何安排数据以便轻松访问和管理。
- en: 'Here is an example of a project tree that could hypothetically be used for
    data collection during a penetration test:'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个项目树的示例，可以在渗透测试期间用于数据收集：
- en: '![Introduction to the Dradis Framework](img/7744_01_17.jpg)'
  id: totrans-258
  prefs: []
  type: TYPE_IMG
  zh: '![Dradis框架简介](img/7744_01_17.jpg)'
- en: Exporting a project template
  id: totrans-259
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 导出项目模板
- en: Testing will consist of a series of planned stages and procedures that do not
    fluctuate much from one test to another. To take full advantage of this fact,
    we will be creating a reusable template.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 测试将包括一系列计划阶段和程序，这些阶段和程序在不同测试之间变化不大。为了充分利用这一事实，我们将创建一个可重复使用的模板。
- en: With the **PracticePenTest** node selected, we will click on the **export**
    icon in the top menu bar. When expanding the **Project export** menu we are presented
    with the **as template** option. Clicking this will allow us to save the project
    template to a location of our choice as an `.xml` file.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 选择**PracticePenTest**节点后，我们将单击顶部菜单栏中的**导出**图标。展开**项目导出**菜单后，我们看到**作为模板**选项。单击此选项将允许我们将项目模板保存到我们选择的位置，保存为`.xml`文件。
- en: '![Exporting a project template](img/7744_01_18.jpg)'
  id: totrans-262
  prefs: []
  type: TYPE_IMG
  zh: '![导出项目模板](img/7744_01_18.jpg)'
- en: Save the file to your BackTrack **Desktop** folder and keep the default name
    of `dradis-template.xml`. Go back to your Dradis web application window, select
    the `PracticePenTest` node, and delete it by right-clicking on it and then choosing
    **Delete node**.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 将文件保存到您的BackTrack **桌面**文件夹，并保持`dradis-template.xml`的默认名称。返回到您的Dradis Web应用程序窗口，选择`PracticePenTest`节点，右键单击它，然后选择**删除节点**来删除它。
- en: Importing a project template
  id: totrans-264
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 导入项目模板
- en: 'The `PracticePenTest` node has been deleted along with the rest of our data.
    Now it is time for us to reuse it, so we need to import the `dradis-template.xml`
    file. Click on **Import from file** from the menu bar and then select **old importer**.
    Select **Project template upload** from the drop-down menu and click on **Upload**
    to complete the import sequence and once it has refreshed the screen, we now have
    two new folders in place: one named **Uploaded files**, and then of course our
    original **PracticePenTest** node structure.'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: '`PracticePenTest`节点已经被删除，连同我们的其他数据一起。现在是我们重用它的时候了，所以我们需要导入`dradis-template.xml`文件。从菜单栏中单击**从文件导入**，然后选择**旧导入器**。从下拉菜单中选择**项目模板上传**，然后单击**上传**以完成导入序列，一旦刷新屏幕，我们现在有两个新文件夹：一个名为**已上传文件**，当然还有我们原来的**PracticePenTest**节点结构。'
- en: '![Importing a project template](img/7744_01_19.jpg)'
  id: totrans-266
  prefs: []
  type: TYPE_IMG
  zh: '![导入项目模板](img/7744_01_19.jpg)'
- en: Preparing sample data for import
  id: totrans-267
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备导入的样本数据
- en: To fully appreciate the value of the Dradis framework, we will be generating
    some test results using some of the tools commonly used in penetration and vulnerability
    testing. Most of you probably have some familiarity with these tools, so we will
    not cover them in depth.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 为了充分体会Dradis框架的价值，我们将使用一些常用于渗透和漏洞测试的工具生成一些测试结果。您们大多数人可能对这些工具有一些了解，所以我们不会深入介绍它们。
- en: The first thing we need to do is to get our **BT5_R1_Tester1** instance up and
    running if it isn't already. Once you have logged into the BackTrack guest machine
    and started the graphical user interface with `startx`, start a new terminal session
    by clicking on the Terminal icon in the top bar.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要做的第一件事是，如果尚未运行**BT5_R1_Tester1**实例，则将其启动起来。一旦您已登录BackTrack客户机并使用`startx`启动了图形用户界面，点击顶部栏中的终端图标开始一个新的终端会话。
- en: '![Preparing sample data for import](img/7744_01_20.jpg)'
  id: totrans-270
  prefs: []
  type: TYPE_IMG
  zh: '![为导入准备样本数据](img/7744_01_20.jpg)'
- en: Tip
  id: totrans-271
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: You may have noticed that you are running as root. Many of the tools you will
    be using require administrative rights to function properly.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能已经注意到您正在以root用户身份运行。您将使用的许多工具需要管理员权限才能正常运行。
- en: Change the directory to `Desktop` and then make yourself a new directory named
    `testData`. This will be used to store the few exports we will be using. Change
    your present working directory to `/Desktop/testData`.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 将目录更改为`桌面`，然后创建一个名为`testData`的新目录。这将用于存储我们将使用的少量导出。将当前工作目录更改为`/桌面/testData`。
- en: '[PRE8]'
  id: totrans-274
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Now we will be using Nmap to generate data that will later be imported into
    Dradis:'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将使用Nmap生成数据，稍后将导入到Dradis中：
- en: '[PRE9]'
  id: totrans-276
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'This command initializes Nmap to run against the localhost and instructs it
    to send the results to three file types: XML, standard, and grepable. As a directory
    was not specified, the files will be placed into the present working directory.
    We are performing a very verbose TCP SYN scan against all ports with OS and version
    detection in which the command treats all hosts as online.'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 该命令初始化Nmap针对本地主机运行，并指示将结果发送到三种文件类型：XML、标准和grepable。由于未指定目录，文件将放置在当前工作目录中。我们正在对所有端口执行非常详细的TCP
    SYN扫描，包括OS和版本检测，命令将所有主机视为在线。
- en: Importing your Nmap data
  id: totrans-278
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 导入您的Nmap数据
- en: With the Dradis web console open, and the PracticePenTest project tree loaded,
    select **Import from file, old importer**, and then in the **Import from file**
    menu select the **Nmap upload** format, and click on the folder icon to the right
    of the **Select a file:** input field. Browse to and highlight the `nmapScan.xml`
    file and click on **Open**.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 在Dradis Web控制台打开并加载PracticePenTest项目树后，选择**从文件导入，旧导入器**，然后在**从文件导入**菜单中选择**Nmap上传**格式，并单击**选择文件：**输入字段右侧的文件夹图标。浏览到并突出显示`nmapScan.xml`文件，然后单击**打开**。
- en: '![Importing your Nmap data](img/7744_01_21.jpg)'
  id: totrans-280
  prefs: []
  type: TYPE_IMG
  zh: '![导入您的Nmap数据](img/7744_01_21.jpg)'
- en: Clicking on **Upload** will complete the import. It will take a few moments
    to process the data. The length of time it takes to process is proportional to
    the amount of data you have.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 单击**上传**将完成导入。处理数据需要一些时间。处理所需的时间与您拥有的数据量成正比。
- en: '![Importing your Nmap data](img/7744_01_22.jpg)'
  id: totrans-282
  prefs: []
  type: TYPE_IMG
  zh: '![导入您的Nmap数据](img/7744_01_22.jpg)'
- en: The import has added an additional node to our tree. This can be moved to whichever
    location in the **PracticePenTest** node you would like it to be in, by dragging
    it with the left mouse button. By moving the `127.0.0.1` scan result into the
    logical hierarchy of PracticePenTest it is now easy to associate it with this
    penetration test and other correlating data.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 导入已将附加节点添加到我们的树中。可以通过使用鼠标左键拖动它将`127.0.0.1`扫描结果移动到**PracticePenTest**节点中的任何位置。通过将`127.0.0.1`扫描结果移动到PracticePenTest的逻辑层次结构中，现在可以轻松地将其与此渗透测试和其他相关数据关联起来。
- en: '![Importing your Nmap data](img/7744_01_23.jpg)'
  id: totrans-284
  prefs: []
  type: TYPE_IMG
  zh: '![导入您的Nmap数据](img/7744_01_23.jpg)'
- en: Exporting data into HTML
  id: totrans-285
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将数据导出到HTML
- en: One of the benefits of using this type of centralized data collection is that
    you will be able to set certain flags on notes to have the data exported into
    PDF, MS Word, or HTML format.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这种类型的集中式数据收集的一个好处是，您可以在注释上设置某些标志，以便将数据导出为PDF、MS Word或HTML格式。
- en: With Dradis up and running, we will need to select the **PracticePenTest** node
    and click on the **Add note** button in the workspace to the right of your project
    tree. Type "This **is a note**" into the editor that pops up and then click on
    **Save**. This will add your note to the list.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: Dradis已经启动运行，我们需要选择**PracticePenTest**节点，并在项目树右侧的工作区点击**添加注释**按钮。在弹出的编辑器中输入"This
    **is a note**"，然后点击**保存**。这将把您的注释添加到列表中。
- en: Note
  id: totrans-288
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: These notes are critical to your penetration test and should be carefully thought-out
    and clearly written. Avoid using notes that only make sense in the current context
    as you may need to revisit these at a later date.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 这些注释对于您的渗透测试至关重要，应该经过深思熟虑并清晰地书写。避免使用只在当前上下文中有意义的注释，因为您可能需要在以后重新访问这些注释。
- en: Dradis Category field
  id: totrans-290
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Dradis分类字段
- en: You will not always want to export everything into your reporting formats. To
    address this fact, the Dradis development team added the **Category** field. This
    field will flag the data to be exported into the various formats available. In
    this case we will double-click on the text **default category** listed to the
    right of our new note titled **"This is a note.**" Choose the **HTMLExport ready**
    option from the drop-down menu.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 您并不总是希望将所有内容导出到报告格式中。为了解决这个问题，Dradis开发团队添加了**Category**字段。该字段将标记要导出到各种可用格式中的数据。在这种情况下，我们将双击**"This
    is a note."**右侧列出的**默认类别**文本。从下拉菜单中选择**HTMLExport ready**选项。
- en: '![Dradis Category field](img/7744_01_24.jpg)'
  id: totrans-292
  prefs: []
  type: TYPE_IMG
  zh: '![Dradis分类字段](img/7744_01_24.jpg)'
- en: To see our data, select the **export** option on the top toolbar and click on
    **HTML export**. You will be presented with an HTML output of all **PracticePenTest**
    notes that are members of the **HTMLExport** category throughout the project tree.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看我们的数据，请在顶部工具栏上选择**导出**选项，然后单击**HTML导出**。您将看到**PracticePenTest**笔记的HTML输出，这些笔记是项目树中**HTMLExport**类别的成员。
- en: Changing the default HTML template
  id: totrans-294
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更改默认的HTML模板
- en: 'As you can see the output is very nice, but what if you would like to have
    something that is a bit more customized? The standard templates can be changed
    to customize the look and feel of the export. Here is an example of how to change
    the footer of the document:'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您所看到的输出非常好，但是如果您想要一些更加定制化的东西呢？标准模板可以更改以定制导出的外观和感觉。以下是如何更改文档页脚的示例：
- en: Change the current working directory to the export plugin of choice. In this
    case we will be modifying the `html_export/template.html.erb` file.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 将当前工作目录更改为所选的导出插件。在这种情况下，我们将修改`html_export/template.html.erb`文件。
- en: '[PRE10]'
  id: totrans-297
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: To modify `template.html.erb` we will be using nano, a very powerful-easy to
    use text editor.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 要修改`template.html.erb`，我们将使用nano，一个非常强大且易于使用的文本编辑器。
- en: '[PRE11]'
  id: totrans-299
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The file will be displayed within the Nano text editor. The Nano commands will
    be listed on the bottom of the application if reference is needed. We are presented
    with the HTML that makes up the `template.html.erb` file. Make a small change
    to the template by placing`<h1>You can change this template to suite your needs.</h1>`
    into the template HTML right below the`<title><%= title %></title>` line.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 文件将显示在Nano文本编辑器中。如果需要参考，Nano命令将列在应用程序底部。我们将看到组成`template.html.erb`文件的HTML。通过在`<title><%=
    title %></title>`行下方的模板HTML中放置`<h1>您可以更改此模板以满足您的需求。</h1>`来对模板进行小修改。
- en: '[PRE12]'
  id: totrans-301
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Save the changes in Nano using *Ctrl+O* which will write out the file to disk.
    You will be asked what filename you would like to use to save the file; accept
    the defaults by pressing *Enter* on your keyboard.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 使用*Ctrl+O*在Nano中保存更改，这将将文件写入磁盘。系统将询问您要使用的文件名；通过在键盘上按*Enter*接受默认值。
- en: To see your changes in action, go back to the Dradis web console, select **PraticePenTest**
    and click on **export** then **HTML export** from toolbar menu. Your new template
    will load and your change will be visible in the report export. The template is
    very customizable and can be made to have the look and feel you want it to with
    a bit of effort and HTML skill.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看您的更改生效，请返回Dradis Web控制台，选择**PraticePenTest**，然后单击工具栏菜单中的**导出**，然后单击**HTML导出**。您的新模板将加载，并且您的更改将在报告导出中可见。模板非常可定制化，可以通过一些努力和HTML技能来实现您想要的外观和感觉。
- en: Tip
  id: totrans-304
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: '**Please note that the MS Word export functionality requires you to have MS
    Office installed.**'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: '**请注意，MS Word导出功能需要您安装MS Office。**'
- en: This means that we cannot use our BackTrack instance to fully appreciate the
    power of Dradis. The Word templates are easily customized to include your company
    information, list the data in your preferred formatting, and to add standard footers
    and headers to the document.
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着我们无法使用BackTrack实例充分体验Dradis的功能。Word模板可以轻松定制，包括您公司的信息，以您喜欢的格式列出数据，并向文档添加标准页脚和页眉。
- en: Because Dradis is very portable, if you need the power to export into MS Word,
    but do not have a license available to install it in BackTrack, install Dradis
    on your Windows machine that has Microsoft Office installed, export the Dradis
    project from BackTrack, and re-import it into the Windows Dradis installation.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Dradis非常便携，如果您需要将其导出到MS Word，但又没有许可证来安装BackTrack中的MS Office，可以在已安装Microsoft
    Office的Windows机器上安装Dradis，从BackTrack导出Dradis项目，然后重新导入到Windows上的Dradis安装中。
- en: Summary
  id: totrans-308
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we focused on all that is necessary to prepare and plan for
    a successful penetration test. We discussed the differences between penetration
    testing and vulnerability assessments.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们专注于为成功的渗透测试做好准备和规划所需的一切。我们讨论了渗透测试和漏洞评估之间的区别。
- en: The steps involved with proper scoping were detailed, as were the necessary
    steps to ensure all information has been gathered prior to testing. One thing
    to remember is that proper scoping and planning is just as important as ensuring
    you test against the latest and greatest vulnerabilities.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 详细介绍了适当范围确定所涉及的步骤，以及确保在测试之前已收集到所有信息的必要步骤。要记住的一件事是，适当的范围确定和规划与确保您针对最新和最大的漏洞进行测试一样重要。
- en: We have also discussed the installation of VirtualBox and BackTrack and have
    provided the instructions necessary to not only install BackTrack from the ISO,
    but also how to keep it updated. In addition to this, we have also provided instructions
    on how to install OpenOffice on BackTrack.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还讨论了VirtualBox和BackTrack的安装，并提供了安装BackTrack的ISO以及如何保持其更新所需的说明。除此之外，我们还提供了如何在BackTrack上安装OpenOffice的说明。
- en: Last but not least, we have discussed two very powerful tools that allow you
    to perform data collections and that offer reporting features. MagicTree, which
    is a powerhouse of data collection and analysis, and Dradis, which is incredible
    in its ability to allow for centralized data collection and sharing.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 最后但同样重要的是，我们讨论了两个非常强大的工具，它们可以进行数据收集并提供报告功能。MagicTree是一个强大的数据收集和分析工具，而Dradis则在集中数据收集和共享方面表现出色。
- en: In the next chapter, we learn about various reconnaissance techniques and why
    they are needed. Some of these include effective use of Internet search engines
    to locate company and employee data, manipulating and reading metadata from various
    file types, and fully exploiting the power of DNS to make the task of penetration
    testing easier.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将了解各种侦察技术以及它们的必要性。其中一些包括有效使用互联网搜索引擎来查找公司和员工数据，操纵和阅读各种文件类型的元数据，以及充分利用DNS的功能，使渗透测试的任务更加容易。
